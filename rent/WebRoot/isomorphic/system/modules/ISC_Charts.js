
/*

  SmartClient Ajax RIA system
  Version v9.1p_2014-11-06/Pro Development Only (2014-11-06)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF THE
     SOFTWARE LICENSE AGREEMENT. If you have received this file without an 
     Isomorphic Software license file, please see:

         http://www.isomorphic.com/licenses/license-sisv.html

     You are not required to accept this agreement, however, nothing else
     grants you the right to copy or use this software. Unauthorized copying
     and use of this software is a violation of international copyright law.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. YOU ARE EXPRESSLY PROHIBITED
     FROM ATTEMPTING TO REVERSE ENGINEER THIS SOFTWARE OR MODIFY THIS
     SOFTWARE FOR HUMAN READABILITY.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_Charts){isc.module_Charts=1;isc._moduleStart=isc._Charts_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'Charts load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;if(window.isc&&isc.version!="v9.1p_2014-11-06/Pro Development Only"){isc.logWarn("SmartClient module version mismatch detected: This application is loading the core module from SmartClient version '"+isc.version+"' and additional modules from 'v9.1p_2014-11-06/Pro Development Only'. Mixing resources from different SmartClient packages is not supported and may lead to unpredictable behavior. If you are deploying resources from a single package you may need to clear your browser cache, or restart your browser."+(isc.Browser.isSGWT?" SmartGWT developers may also need to clear the gwt-unitCache and run a GWT Compile.":""))}
isc.ClassFactory.defineInterface("Chart").addInterfaceMethods({valueProperty:"_value",metricFacetId:"metric",stacked:false,isStacked:function(_1){return(_1||this).stacked},chartType:"Column",threeD:true,animateValuesOnShow:true,labelValues:false,setupChart:function(){if(this.facets!=null&&!isc.isAn.Array(this.facets)){this.facets=[this.facets]}
var _1=this.inlinedFacet=this.facets.find("inlinedValues",true);if(_1)_1.id=_1.id||"inlined";this.metricFacet=null;for(var i=0;i<this.facets.length;i++){var _3=this.facets[i];this.deriveFacetValues(_3);if(_3.values){if(_3.id==this.metricFacetId){this.metricFacet=_3}
_3.valueIds=_3.values.getProperty("id")}else{this.logWarn("Facet '"+_3.id+"' has no values declared, and none could be derived from the data.  This facet will not be used by the chart.");this.facets.removeAt(i);--i}}
if(this.metricFacet!=null){for(var i=this.metricFacet.values.length;i--;){this.$133d(this.metricFacet.values[i])}}},getFacetData:function(){if(this.facetData&&this.data==this.$78u)return this.facetData;var _1=this.data;if(!isc.isAn.Array(_1))return _1;var _2=[];for(var i=0;i<_1.length;i++){var _4=_1[i],_5=(_4!=null);for(var j=0;_5&&j<this.facets.length;j++){var _7=this.facets[j];if(_7==this.inlinedFacet||_7.autoDerived)continue;if(!_7.valueIds.contains(_4[_7.id],null,this.$114u)){_5=false}}
if(_5)_2.add(_4)}
this.$78u=_1;return(this.facetData=_2)},$114u:Array.DATETIME_VALUES,deriveFacetValues:function(_1){if(_1.values&&!_1.autoDerived)return;var _2=this.$114u,_3=_1.id,_4=[],_5=0;if(this.data!=null&&isc.isA.List(this.data)){_5=this.data.getLength()}
for(var i=0;i<_5;++i){var _7=this.data.get(i),_8=(_7!=null?_7[_3]:null);if(_8!=null&&_4.findIndex("id",_8,_2)==-1){_4.add({id:_8,title:_8})}}
if(_4.length>0){_1.autoDerived=true;_1.values=_4}else{delete _1.autoDerived;delete _1.values}},$133d:function(_1){var _2=this.metricFacetId,_3={};_3[_2]=_1.id;var _4=this.getValue(_3,true,true),_5=true,_6=!!_4;for(var i=_6&&_4.length;_6&&i--;){var _8=_4[i],_9=(_8==null);_5=_5&&_9;_6=(_9||isc.isA.Date(_8))}
_6=_6&&!_5;_1.$133e=(_6?"date":"number")},$133f:function(_1){var _2=this.chartType=="Scatter",_3=_2&&this.metricFacet,_4=_3&&this.getFacetValue(_3.id,_1);return(_4&&_4.$133e=="date")},getFacet:function(_1){return this.facets.find("id",_1)},getFacetValue:function(_1,_2){var _3=this.getFacet(_1);if(_3)return _3.values.find("id",_2,this.$114u)},isMultiFacet:function(){var _1=(this.facets&&this.facets.length)||0;return(_1>(this.metricFacet!=null?2:1))},getValue:function(_1,_2,_3){var _4=this.getFacetData();if(_4==null)return null;_1=_1||{};if(_2==null)_2=this.multiCellData;var _5=this.getDataRecord(_1,_2);if(!_5)return null;return this.getValueFromRecord(_5,_1,_2,_3)},getValueFromRecord:function(_1,_2,_3,_4){if(_1==null)return null;if(!this.metricFacet){if(!this.inlinedFacet||(_2&&_2[this.inlinedFacet.id]!=null)){var _5=this.inlinedFacet?_2[this.inlinedFacet.id]:this.valueProperty;if(_3){var _6=_1.getProperty(_5);return(_4?_6:_6.map(parseFloat))}else{var _7=_1[_5];return(_4?_7:parseFloat(_7))}}
var _8=isc.isAn.Array(_1)?_1:[_1],_6=[],_9=this.inlinedFacet.valueIds;for(var i=0;i<_8.length;i++){for(var j=0;j<_9.length;j++){var _7=_8[i][_9[j]];_6.add(_4?_7:parseFloat(_7))}}
if(!_3&&_6.length<2)return _6[0];else return _6}else{if(!this.inlinedFacet||this.metricFacetId!=this.inlinedFacet.id){this.logWarn("the metric facet must be an inlined facet");return null}
var _12=_2[this.metricFacet.id];if(!_12)_12=this.getDefaultMetric();if(_3){var _6=_1.getProperty(_12);return(_4?_6:_6.map(parseFloat))}else{var _7=_1[_12];return(_4?_7:parseFloat(_7))}}},getDataRecord:function(_1,_2){var _3=this.getFacetData();if(!isc.isAn.Array(_3))return _3;if(_2==null)_2=this.multiCellData;if(!this.inlinedFacet){return(_2?_3.findAll(_1,null,this.$114u):_3.find(_1,null,this.$114u))}
var _4=isc.addProperties({},_1);delete _4[this.inlinedFacet.id];if(isc.isAn.emptyObject(_4)){return(_2?_3.duplicate():_3[0])}else{return(_2?_3.findAll(_4,null,this.$114u):_3.find(_4,null,this.$114u))}},getDataSeries:function(_1,_2){var _3=isc.isAn.Object(_1)?_1:this.facets.find("id",_1);if(_2==null){_2={}}else if(!isc.isAn.Object(_2)){var _4=_2;var _5=(_3==this.facets[0]?this.facets[1]:this.facets[0]);_2={};_2[_5.id]=_4}else{_2=isc.addProperties({},_2)}
var _6=false;if(this.metricFacet!=null){var _7=_2[this.metricFacet.id];if(!_7)_7=this.getDefaultMetric();_2[this.metricFacet.id]=_7;_6=!this.$133f(_7)}
var _8=[];for(var i=0;i<_3.values.length;i++){var _10=_3.values[i];_2[_3.id]=_10.id;var _11=this.getDataRecord(_2),_12=this.getValueFromRecord(_11,_2,false,_6);_8.add({facetValueId:_10.id,title:(_10.title||_10.id),value:_12,record:_11})}
return _8},getDefaultMetric:function(){return this.metricFacet?this.metricFacet.values.first().id:this.valueProperty},getMinValue:function(_1,_2,_3,_4,_5){return this.getMaxValue(_1,_2,_3,_4,_5,false)},getMaxValue:function(_1,_2,_3,_4,_5,_6){_3=_3||this;if(_6==null)_6=true;if(!_1)_1=this.getDefaultMetric();var _7;if(_6){_7=_3.cachedMaxValues=_3.cachedMaxValues||{}}else{_7=_3.cachedMinValues=_3.cachedMinValues||{}}
var _8=(_1+"_"+(_4?"true":"false")+"_"+(_5?"true":"false"));if(!_2&&_7[_8]!=null){return _7[_8]}
var _9=(_3!=this);var _10=this.$133f(_1);_5=_5&&!_10;var _11=null;if(this.isMultiFacet()&&this.chartType!="Scatter"&&(!_9||_3.isMultiFacet())){var _12=this.facets[1],_13=this.facets[0],_14={};if(this.metricFacet)_14[this.metricFacet.id]=_1;for(var i=0;i<_13.values.length;i++){_14[_13.id]=_13.values[i].id;var _16=this.getDataSeries(_12,_14),_17=_16.getProperty("value"),_18=null;if(this.isStacked(_3)){if(_4){var _19=0;for(var j=0,_21=_17.length;j<_21;++j){var _22=_17[j];if(isc.isA.Number(_22)){_19+=_22;if(!_5||_19>0){if(_18==null){_18=_19}else{_18=(_6?Math.max(_18,_19):Math.min(_18,_19))}}}}
if(_18==null&&!_5){_18=0}}else{_18=_17.sum();if(_5&&_18<=0){_18=null}}}else if(!_5){_18=(_6?_17.max():_17.min())}else{for(var j=_17.length;j--;){var _22=_17[j];if(isc.isA.Number(_22)&&_22>0){if(_18==null){_18=_22}else{_18=(_6?Math.max(_18,_22):Math.min(_18,_22))}}}}
if(_18!=null){if(_11==null){_11=_18}else{_11=(_6?Math.max(_11,_18):Math.min(_11,_18))}}}}else{var _23=null;if(this.chartType!="Scatter"&&_9&&this.isMultiFacet()){_23={};_23[this.facets[1].id]=_3.$1029.id}
if(this.metricFacet){_23=_23||{};_23[this.metricFacet.id]=_1}
var _17=this.getValue(_23,true,_10);if(_17!=null){if(!_5){if(_10){for(var j=_17.length;j--;){var _22=_17[j];if(isc.isA.Date(_22)){if(_11==null){_11=_22}else if(_6){_11=isc.DateUtil.$133a(_11,_22)}else{_11=isc.DateUtil.$1329(_11,_22)}}}}else{_11=(_6?_17.max():_17.min())}}else{for(var j=_17.length;j--;){var _22=_17[j];if(isc.isA.Number(_22)&&_22>0){if(_11==null){_11=_22}else{_11=(_6?Math.max(_11,_22):Math.min(_11,_22))}}}}}}
return(_7[_8]=_11)},setData:function(){}});isc.A=isc.Chart;isc.A.allChartTypes=[];isc.A=isc.Chart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$102g=function isc_c_Chart__mean(_1){return _1.sum()/_1.length},isc.A.$102h=function isc_c_Chart__variance(_1,_2,_3){var n=_1.length,_5=_3!=null?_3:isc.Chart.$102g(_1),_6=0;for(var i=n;i--;){var t=_1[i];_6+=t*t}
return(_6-n*_5*_5)/(_2?n:(n-1))},isc.A.$102i=function isc_c_Chart__standardDeviation(_1,_2,_3){return Math.sqrt(_1.$102h(_2,_3))},isc.A.$102j=function isc_c_Chart__range(_1){var n=_1.length;if(n==0){return null}else{var _3=_1[n-1],_4=_1[n-1];for(var i=n-1;i--;){var t=_1[i];_3=Math.min(t,_3);_4=Math.max(t,_4)}
return _4-_3}});isc.B._maxIndex=isc.C+4;if(isc.Flashlet){isc.ClassFactory.defineClass("FusionChart","Flashlet","Chart");isc.A=isc.FusionChart;isc.A.allChartTypes=["Area","Bar","Column","Pie","Doughnut","Line","Radar"];isc.A.singleSeriesChartTypes=["Area","Bar","Column","Pie","Doughnut","Line"];isc.A.singleOnlyChartTypes=["Doughnut","Pie"];isc.A.multiSeriesChartTypes=["Area","Bar","Column","Line","Radar"];isc.A.multiOnlyChartTypes=["Radar"];isc.A.stackedChartTypes=["Area","Bar","Column"];isc.A.threeDChartTypes=["Column","Bar","Pie"];isc.A.needsDimension=["Column","Bar","Pie","Doughnut","Area"];isc.A=isc.FusionChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.overflow="hidden";isc.A.redrawOnResize=true;isc.A.chartsBaseURL=isc.Page.getIsomorphicDir()+"../FusionCharts/Charts/";isc.A.fusionVersion="3.0";isc.A.dataColors=["CCCCFF","CCCC99","FFCCCC","FFFF99","CCFF99","FFCC99","FF0000","00FF00","0000FF","FF00FF","FFFF00","00FFFF","000000"];isc.A.codeBase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";isc.A.pluginsPage="http://www.macromedia.com/go/getflashplayer";isc.A.params={};isc.B.push(isc.A.getDataColor=function isc_FusionChart_getDataColor(_1){return this.dataColors[_1]||"FFFFFF"},isc.A.initWidget=function isc_FusionChart_initWidget(){this.Super("initWidget",arguments);this.setupChart();this.setChartProperties();this.$43w();this.setData()},isc.A.setSrc=function isc_FusionChart_setSrc(){if(this.chartURL){this.src=this.chartURL;return}
var _1=this.stacked&&isc.FusionChart.stackedChartTypes.contains(this.chartType);var _2,_3,_4=isc.FusionChart.needsDimension.contains(this.chartType);if(this.fusionVersion=="2.3"){_3="FC_2_3_";_2="Stckd";if(this.chartType=="Area"&&this.$43x){_2="Stkcd";_4=!_1}}else{_3="";_2="Stacked";if(this.chartType=="Area"&&this.$43x&&!_1){_4=false}}
var _5=isc.SB.create();_5.append(this.chartsBaseURL,_3,isc.FusionChart.multiOnlyChartTypes.contains(this.chartType)||(!this.$43x&&isc.FusionChart.singleSeriesChartTypes.contains(this.chartType))?"":_1?_2:"MS",this.chartType);if(_4){_5.append(this.threeD&&isc.FusionChart.threeDChartTypes.contains(this.chartType)&&!(this.fusionVersion=="2.3"&&this.chartType=="Bar")?"3D":"2D")}
_5.append(".swf")
this.src=_5.toString();this.logInfo("src set to: "+this.src)},isc.A.getInnerHTML=function isc_FusionChart_getInnerHTML(){this.setSrc();var _1=isc.SB.concat('&chartWidth=',this.getInnerWidth(),'&chartHeight=',this.getInnerHeight(),'&dataXML=',encodeURIComponent(this.getChartXML()));this.params.FlashVars=_1;return this.Super("getInnerHTML",arguments)},isc.A.getChartXML=function isc_FusionChart_getChartXML(){var _1=isc.SB.concat('<graph ',this.$263,'>',this.$264,this.$265,'</graph>');if(this.logIsDebugEnabled()){this.logWarn("chartXML: "+_1)}
return _1},isc.A.setChartProperties=function isc_FusionChart_setChartProperties(_1){if(!_1)_1=this.chartProperties;else this.chartProperties=_1;_1=isc.addProperties({caption:this.title,subCaption:this.subTitle,yAxisName:this.valueTitle,xAxisName:this.facets[0].title,animation:this.animateValuesOnShow,showValues:this.labelValues},this.chartProperties);var _2=isc.SB.create();for(var _3 in _1){if(_1[_3]===true){_2.append(_3,'="1" ')}else if(_1[_3]===false){_2.append(_3,'="0" ')}else if(_3.endsWith("olor")&&_1[_3].startsWith("#")){_2.append(_3,'="',_1[_3].substring(1),'" ')}else{_2.append(_3,'="',_1[_3],'" ')}}
this.$263=_2.toString();if(this.isDrawn())this.markForRedraw()},isc.A.$43w=function isc_FusionChart__generateCategoriesXML(_1){if(!_1)_1=this.facets[0].values;var _2=isc.SB.create();_2.append('<categories>');for(var i=0;i<_1.length;i++){if(_1[i].vLine){this.$768(_1[i],_2);continue}
_2.append('<category name="',isc.makeXMLSafe(_1[i].title||_1[i].id),'"');if(_1[i].longTitle){_2.append(' hoverText="',isc.makeXMLSafe(_1[i].longTitle),'"')}
if(_1[i].showTitle===false)_2.append(' showName="0"');_2.append('/>')}
_2.append('</categories>');this.$264=_2.toString();if(this.isDrawn())this.markForRedraw()},isc.A.$768=function isc_FusionChart__writeVLineXML(_1,_2){_2.append('<vLine');for(var _3 in _1){if(_3=="vLine")continue;_2.append(' ',_3,'="',isc.makeXMLSafe(_1[_3]),'"')}
_2.append('/>')},isc.A.setFacets=function isc_FusionChart_setFacets(_1){this.facets=_1;this.setupChart();this.$43w()},isc.A.setData=function isc_FusionChart_setData(_1,_2){var _1=this.data=_1||this.data;if(_1==null||(isc.isAn.Array(_1)&&_1.length==0)){return this.$265=""}
var _3=isc.SB.create();var _4=this.facets.first(),_5=_4.values,_6={};this.$43x=this.isMultiFacet();if(this.isMultiFacet()&&isc.FusionChart.singleOnlyChartTypes.contains(this.chartType))
{this.logWarn("'"+this.chartType+"' charts support one facet only; showing only first value for second facet");this.$43x=false;_6[this.facets[1].id]=this.facets[1].values[0].id}
if(this.$43x){var _7=this.facets[1],_8=_7.values;var _9='<set value="',_10='"',_11='/>';for(var i=0;i<_8.length;i++){_3.append('<dataset seriesname="',isc.makeXMLSafe(_8[i].title),'" color="',this.getDataColor(i),'">');for(var j=0;j<_5.length;j++){if(_5[j].vLine)continue;_6[_7.id]=_8[i].id||_8[i].name;_6[_4.id]=_5[j].id||_5[j].name;var _14=this.getValue(_6);_3.append(_9,_14,_10);var _15=this.getLink(_6,_14);if(_15)_3.append(' link="'+_15+'"');_3.append(_11)}
_3.append("</dataset>")}}else{for(var i=0;i<_5.length;i++){if(_5[i].vLine){this.$768(_5[j],_3);continue}
_6[_4.id]=_5[i].id||_5[i].name;var _14=this.getValue(_6);_3.append('<set value="',_14,'"');var _15=this.getLink(_6,_14);if(_15){_3.append(' link="'+_15+'"')}
_3.append(' name="',isc.makeXMLSafe(_5[i].title||_5[i].id),'"');_3.append(' color="',this.getDataColor(i),'"');if(_5[i].longTitle){_3.append(' hoverText="',isc.makeXMLSafe(_5[i].longTitle),'"')}
if(_5[i].showTitle===false)_3.append(' showName="0"');_3.append('/>')}}
this.$265=_3.toString();if(this.isDrawn())this.markForRedraw()},isc.A.getLink=function isc_FusionChart_getLink(_1,_2){},isc.A.setChartType=function isc_FusionChart_setChartType(_1){if(!isc.FusionChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{_1=this.chartType=_1||this.chartType;this.setData();if(this.isDrawn())this.markForRedraw()}},isc.A.setFusionVersion=function isc_FusionChart_setFusionVersion(_1){this.fusionVersion=_1;this.setSrc();if(this.isDrawn())this.markForRedraw()},isc.A.setStacked=function isc_FusionChart_setStacked(_1){this.stacked=_1;if(_1&&!isc.FusionChart.stackedChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support stacking")}else{if(this.isDrawn())this.markForRedraw()}},isc.A.setThreeD=function isc_FusionChart_setThreeD(_1){if(_1&&!isc.FusionChart.threeDChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support 3D effects")}else{this.threeD=_1;if(this.isDrawn())this.markForRedraw()}});isc.B._maxIndex=isc.C+15}
if(isc.DrawPane){isc.ClassFactory.defineClass("$983","DrawSector");isc.A=isc.$983.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$150e=true;isc.B.push(isc.A.destroy=function isc__PieSeriesSector_destroy(){var _1=this.fillGradient;if(isc.isA.String(_1)){if(this.drawPane&&this.drawPane.gradients){_1=this.drawPane.getGradient(_1);if(_1.$984)this.drawPane.removeGradient(_1)}}
if(isc.isAn.Object(_1)&&_1.$984){var _2=_1.$982;if(_2!=undefined){if(_2.parentNode)_2.parentNode.removeChild(_2);delete _1.$982}}
this.Super("destroy",arguments)});isc.B._maxIndex=isc.C+1;isc.ClassFactory.defineClass("FacetChart","DrawPane","Chart");isc.addGlobal("BarChart",isc.FacetChart);isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.defaultHeight=300;isc.A.defaultWidth=400;isc.A.overflow="hidden";isc.A.xGutter=30;isc.A.yGutter=80;isc.A.padding=5;isc.A.styleName="scChart";isc.A.chartType="Column";isc.A.stacked=null;isc.A.connected=true;isc.A.title="Chart";isc.A.showTitle=true;isc.A.titleProperties={fontSize:14};isc.A.valueAxisLabelProperties={fontSize:11};isc.A.dataAxisLabelProperties={fontSize:11};isc.A.axisLabelMargin=5;isc.A.pixelsPerGradation=28;isc.A.minDataSpreadPercent=30;isc.A.minXDataSpreadPercent=30;isc.A.gradationLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.gradationLineProperties={excludeFromQuadTree:true,lineWidth:1,lineColor:"#BBBBBB"};isc.A.gradationZeroLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.bandedBackground=true;isc.A.backgroundBandProperties={excludeFromQuadTree:true,lineOpacity:0,fillColor:"#F7F7F7"};isc.A.showRadarGradationLabels=true;isc.A.radarGradationLabelOffset=2;isc.A.expectedValueLineProperties={lineWidth:1,lineColor:"#333333"};isc.A.standardDeviationLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.useSymmetricStandardDeviations=true;isc.A.standardDeviations=[-1,1];isc.A.standardDeviationBandProperties=[];isc.A.regressionLineProperties={lineWidth:1,lineColor:"#0000EE"};isc.A.regressionLineType="line";isc.A.regressionPolynomialDegree=3;isc.A.dataPointSize=5;isc.A.dataPointDefaults={cursor:"crosshair",click:function(){if(this.dataRecord!=null){var _1=this.$104q,_2=_1;if(!isc.isA.FacetChart(_2)){_2=_1.$103y}
_2.$120g();if(_1.pointClick){return _1.pointClick(this.dataValue,this.dataRecord,this)}}else{return this.Super("click",arguments)}},hover:function(){if(this.dataRecord!=null){var _1=this.$104q;if(_1.pointHover){return _1.pointHover(this.dataValue,this.dataRecord,this)}}else{return this.Super("hover",arguments)}},getHoverHTML:function(){var _1=this.$104q;if(_1.getPointHoverHTML){return _1.getPointHoverHTML(this.dataValue,this.dataRecord,this)}
return null}};isc.A.dataPointProperties={fillColor:"#FFFFFF",lineWidth:1};isc.A.pointShapes=["Oval","Square","Diamond","Triangle"];isc.A.useMultiplePointShapes=true;isc.A.logScale=false;isc.A.useLogGradations=false;isc.A.logBase=10;isc.A.logGradations=[1,2,4,6,8];isc.A.showChartRect=false;isc.A.chartRectProperties={rounding:0.02,lineWidth:1,lineColor:"#111111",backgroundColor:"#CCCCCC",fillGradient:{x1:'0%',y1:'100%',x2:'100%',y2:'0%',colorStops:[{color:"#FFFFFF",offset:0.0},{color:"#FFFFFF",offset:0.5},{color:"#CCCCCC",offset:0.9},{color:"#C2c2c2",offset:1.0}]},shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.chartRectMargin=5;isc.A.dataMargin=10;isc.A.rotateLabels="auto";isc.A.dataLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.decimalPrecision=2;isc.A.zoomChartDefaults={canZoom:false,padding:0,showTitle:false,showValueAxisLabel:false,showDataAxisLabel:false,axisLabelMargin:0,showDataPoints:false,showChartRect:false,chartRectMargin:0,dataMargin:0,rotateLabels:"never",showLegend:false,legendMargin:0,legendPadding:0,$1057:false,bandedBackground:false,pixelsPerGradation:40,useAutoGradients:false};isc.A.$1057=true;isc.A.zoomSelectionChartDefaults={canZoom:false,padding:0,showTitle:false,showValueAxisLabel:false,showDataAxisLabel:false,axisLabelMargin:0,showDataPoints:false,showChartRect:false,chartRectMargin:0,dataMargin:0,rotateLabels:"never",showLegend:false,legendMargin:0,legendPadding:0,$1057:false,bandedBackground:false,pixelsPerGradation:40,useAutoGradients:false};isc.A.zoomShowSelection=true;isc.A.zoomChartSliderDefaults={};isc.A.zoomChartHeight=100;isc.A.colorMutePercent=0;isc.A.zoomMutePercent=-35;isc.A.showInlineLabels=false;isc.A.showGradationsOverData=false;isc.A.legendMargin=10;isc.A.legendPadding=5;isc.A.legendSwatchSize=16;isc.A.legendSwatchProperties={lineWidth:1,lineColor:"#000000"};isc.A.legendTextPadding=5;isc.A.legendItemPadding=5;isc.A.legendRowPadding=5;isc.A.showLegendRect=false;isc.A.legendRectProperties={lineWidth:1,lineColor:"#333333"};isc.A.legendLabelProperties={fontFamily:"Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#333333"};isc.A.showShadows=true;isc.A.shadowProperties={fillColor:"#333333",lineWidth:1.1};isc.A.barMargin=4;isc.A.minBarThickness=4;isc.A.maxBarThickness=150;isc.A.clusterMarginRatio=4;isc.A.barProperties={fillColor:"#FFCCCC",lineWidth:1,opacity:0.5,lineColor:"#333333"};isc.A.dataLineProperties={lineWidth:3,lineColor:"#333333",shadow:{blur:5,color:"#333333",offset:[2,3]}};isc.A.dataOutlineProperties={lineWidth:1,lineColor:"#333333"};isc.A.dataShapeProperties={lineWidth:0,lineOpacity:0,lineColor:"#333333",fillOpacity:0.5};isc.A.valueLineProperties={lineWidth:1,lineColor:"#BBBBBB"};isc.A.singlePointMarkerSize=4;isc.A.maxDataPointSize=14;isc.A.minDataPointSize=3;isc.A.minKnobSize=isc.Browser.isTouch?10:6;isc.A.radarBackgroundProperties={lineWidth:1};isc.A.radialLabelOffset=5;isc.A.pieStartAngle=0;isc.A.pieSliceProperties={lineOpacity:0,lineWidth:0.1};isc.A.pieBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.pieRingBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.showDoughnut=null;isc.A.doughnutRatio=0.2;isc.A.doughnutHoleProperties={lineWidth:0,fillColor:"white"};isc.A.pieLabelLineProperties={lineColor:"#111111",lineWidth:2};isc.A.pieLabelAngleStart=20;isc.A.pieLabelLineExtent=7;isc.A.errorBarWidth=6;isc.A.errorLineProperties={lineWidth:1};isc.A.errorBarColorMutePercent=-60;isc.A.canDrag=false;isc.A.cursor="auto";isc.A.hoverLabelProperties={fontFamily:"Arial",fontSize:12,fontWeight:"bold",fontStyle:" normal",lineColor:"#333333"};isc.A.hoverRectProperties={rounding:0.3,lineWidth:1,lineColor:"#333333",fillColor:"#ffffff",fillOpacity:0.85,shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.hoverLabelOffset=25;isc.A.brightenPercent=30;isc.A.showDataValues=false;isc.A.valueAxisMargin=10;isc.A.gradationTickMarkLength=5;isc.A.tickMarkToValueAxisMargin=7;isc.A.extraAxisMetrics=[];isc.A.extraAxisSettings=[];isc.B.push(isc.A.isStacked=function isc_FacetChart_isStacked(_1){_1=_1||this;return _1.stacked!=null?_1.stacked:_1.chartType!="Line"},isc.A.isFilled=function isc_FacetChart_isFilled(_1){_1=_1||this;return _1.filled!=null?_1.filled:(_1.isMultiFacet()&&this.isStacked(_1))||_1.chartType=="Area"},isc.A.$127s=function isc_FacetChart__getMinDataSpreadPercent(_1,_2){var _3=(_1?"minDataSpreadPercent":"minXDataSpreadPercent");return(_2[_3]!=null?_2[_3]:this[_3])},isc.A.setShowScatterLines=function isc_FacetChart_setShowScatterLines(_1,_2){_2=_2||this;if(_2.chartType!="Scatter"){this.logWarn("showScatterLines property works only for charts of type Scatter")}else{_2.showScatterLines=_1;if(this.data)this.$105a(false)}},isc.A.setDataLineType=function isc_FacetChart_setDataLineType(_1,_2){_2=_2||this;if(_2.chartType!="Scatter"&&_2.chartType!="Line"){this.logWarn("dataLineType property works only for charts of type Scatter and Line")}else{_2.dataLineType=_1;if(this.data)this.$105a(false)}},isc.A.$1095=function isc_FacetChart__getDataLineType(_1){_1=_1||this;var _2=_1.chartType;if(_1.dataLineType=="smooth"&&!(_2=="Area"||_2=="Radar")){return"smooth"}else{return"straight"}},isc.A.$1352=function isc_FacetChart__getUseMultiplePointShapes(){var _1=this.useMultiplePointShapes;return(_1==null||_1)},isc.A.setUseMultiplePointShapes=function isc_FacetChart_setUseMultiplePointShapes(_1){var _2=this.$1352();this.useMultiplePointShapes=_1;var _3=this.$1352();if(_2!=_3){this.setData(this.data)}},isc.A.$116c=function isc_FacetChart__canRotateLabels(){return(this.rotateLabels=="always"||(this.rotateLabels=="auto"&&!(isc.isA.Boolean(this.autoRotateLabels)&&this.autoRotateLabels==false)))},isc.A.$1059=function isc_FacetChart__getRequireZeroGradation(_1){_1=_1||this;return!_1.logScale},isc.A.$1334=function isc_FacetChart__showShadows(_1){return(this.hasShadows&&_1.showShadows)},isc.A.shouldShowDoughnut=function isc_FacetChart_shouldShowDoughnut(){return this.showDoughnut||(this.chartType=="Doughnut"&&this.showDoughnut!==false)},isc.A.$1045=function isc_FacetChart__getCanMoveAxes(){return this.$1035()&&(this.canMoveAxes!=null?this.canMoveAxes:this.$1036().visible.length>1)});isc.B._maxIndex=isc.C+13;isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.redrawOnResize=true;isc.A.allContentAndChildren=true;isc.A.$103i=[0.7,1.0,0.9,0.4,0.8,0.5,0.8];isc.A.$1046={getDataColor:function(_1){var _2=this.$103y;return _2.getDataColor.apply(_2,(this.$103z?[_1,this]:[_1+this.$1030,_2]))},getDataGradient:function(_1,_2,_3){var _4=this.$103y;return _4.getDataGradient.apply(_4,(this.$1031?[_1,_2,_3,this,this.$103z]:[_1+this.$1032,_2,_3,_4,this.$103z]))}};isc.A.$1047="#0000ff";isc.A.angleMargin=5;isc.A.$126c="Oval";isc.A.$126d="Square";isc.A.$126e="Diamond";isc.A.$126j={type:isc.DrawShape.$1252};isc.A.$1253=isc.DrawShape.$1253;isc.A.$1254=isc.DrawShape.$1254;isc.A.$1255=isc.DrawShape.$1255;isc.A.$106a=5;isc.A.$106b=2;isc.A.$102k=null;isc.A.interactivePoints=true;isc.A.useAutoGradients=true;isc.A.dataColors=["#df5545","#7ae02d","#4d89f9","#2de0e0","#e0e02d","#e02de0","#FF9933","#99FF33","#9933FF","#639966","#63CCCC","#6366FF","#800080","#999999","#FF00FF","#FFCC00","#00FF00","#00CCFF","#996366","#C0C0C0","#000000","#996100","#636300","#006300","#006366","#000080","#636399","#636363","#800000","#FF6600","#808000","#8000FF","#008080","#666699","#808080","#FF99CC","#FFCC99","#FFFF99","#CCFFCC","#CCFFFF","#99CCFF","#CC99FF","#FFFFFF"];isc.A.rotateProps={rotation:90};isc.A.$106c=4;isc.B.push(isc.A.getChartTop=function isc_FacetChart_getChartTop(){return this.$78t.height+this.$1235(true)},isc.A.getChartHeight=function isc_FacetChart_getChartHeight(_1){return this.getInnerContentHeight()
-this.getChartTop()
-this.chartRectMargin
-Math.max(this.getXLabelsHeight(_1),this.$104e(_1))
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)},isc.A.$106f=function isc_FacetChart__getAvailableHeight(){return this.getInnerContentHeight()
-this.getChartTop()
-this.$1235(true)
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)
-this.getAxisLabelSpace(false)},isc.A.getChartLeft=function isc_FacetChart_getChartLeft(){var _1=this.getYLabelsWidth()+this.$1236;if(this.$1035()&&this.$1057){var _2=this.$1036();var _3=_2.left,_4=_3.length;_1+=_3.getProperty("$104f").sum();_1+=_4*this.valueAxisMargin}
return _1},isc.A.getChartWidth=function isc_FacetChart_getChartWidth(_1){var _2=this.getInnerContentWidth()-this.getChartLeft()-this.$1237;if(this.$1035()&&this.$1057){var _3=this.$1036(),_4=_3.right,_5=_4.length;if(this.$104g()){_2-=this.getValueAxisLabelHeight(_4[0])}
_2-=_4.getProperty("$104f").sum();_2-=Math.max(0,_5-1)*this.valueAxisMargin}
return _2},isc.A.$1235=function isc_FacetChart__getDataAndChartRectMargin(_1){var _2=this.chartRectMargin;if(_1==this.hasXGradations()&&(this.chartType=="Column"||this.chartType=="Bar"||this.chartType=="Line"||this.chartType=="Area"))
{_2+=this.dataMargin}
return _2},isc.A.$106h=function isc_FacetChart__getAvailableWidth(){var _1=this.getInnerContentWidth()-2*this.$1235(false)-this.getAxisLabelSpace(false);if(this.$1035()&&this.$1057){var _2=this.$1036(),_3=_2.left.length,_4=_2.right.length;_1-=(_3+Math.max(0,_4-1))*this.valueAxisMargin;for(var i=_2.visible.length;i--;){_1-=this.$1108(_2.visible[i])}}
return _1},isc.A.$1108=function isc_FacetChart__getValueAxisExtraWidth(_1){if(_1==this||_1.showAxis==false||!this.$1057){return 0}else{var _2=((this.$104m(_1)&&this.$104n(_1).lineWidth)||0),_3=_2+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin;return _3}},isc.A.getDataAxisLength=function isc_FacetChart_getDataAxisLength(_1){if(this.chartType=="Radar")return this.getChartHeight(_1)/2;if(this.hasYGradations()){var _2=this.getChartHeight(_1);return _2}else{return this.getChartWidth()}},isc.A.$78g=function isc_FacetChart__drawChartRect(_1){var _2=this.getChartTop(),_3=this.getChartHeight(),_4=this.getChartLeft(),_5=this.getChartWidth();var _6=this.$778={top:_2,left:_4,width:_5,height:_3};if(_1&&this.showChartRect){this.drawRect(_4,_2,_5,_3,this.chartRectProperties,this)}},isc.A.getChartRect=function isc_FacetChart_getChartRect(){if(this.$778==null)this.logWarn("getChartRect(): chart rect not available yet");return this.$778},isc.A.getChartRectLineWidth=function isc_FacetChart_getChartRectLineWidth(){var _1=this.chartRectProperties;var _2=_1.lineWidth;if(_1.lineOpacity==0)_2=0;if(!this.showChartRect)_2=0;return(_2||0)},isc.A.getStackFacet=function isc_FacetChart_getStackFacet(){return this.$106i()[1]},isc.A.isPieChart=function isc_FacetChart_isPieChart(_1){_1=_1||this.chartType;return _1=="Pie"||_1=="Doughnut"},isc.A.hasYAxisLabels=function isc_FacetChart_hasYAxisLabels(){return this.chartType!="Radar"&&!this.isPieChart()},isc.A.setStacked=function isc_FacetChart_setStacked(_1,_2){_2=_2||this;_2.stacked=_1;if(this.data)this.$105a(false)},isc.A.setFilled=function isc_FacetChart_setFilled(_1,_2){_2=_2||this;_2.filled=_1;if(this.data)this.$105a(false)},isc.A.swapFacets=function isc_FacetChart_swapFacets(){if(!this.$134z()){return}
var _1=this.$106i();if(_1){var _2=_1[0];_1[0]=_1[1];_1[1]=_2;this.erase(false);this.setData(this.$106j())}},isc.A.$134z=function isc_FacetChart__canSwapFacets(){if(!this.isMultiFacet()){return false}else if(this.$1035()){var _1=this.$1036(),_2=_1.visible.length;for(var j=0;j<_2;++j){if(!_1.visible[j].isMultiFacet()){return false}}}
return true},isc.A.setChartType=function isc_FacetChart_setChartType(_1,_2){_2=_2||this;if(!isc.FacetChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{var _3=(this.reversePieFacets&&this.isMultiFacet()&&(this.isPieChart(_2.chartType)||this.isPieChart(_1))),_4=(this.$106d(_2.chartType)!=this.$106d(_1));_2.chartType=_1;if(this.data){this.$105a(_3,_4)}}},isc.A.showContextMenu=function isc_FacetChart_showContextMenu(){var _1=this,_2=null;_2=this.$16ah();if(_2!=null){}else if(this.chartType=="Scatter"){if(this.$133f(this.getXAxisMetric())||this.$133f(this.getYAxisMetric())){return true}
var _3=!(this.showRegressionLine!=null&&this.showRegressionLine),_4=(!_3&&this.regressionLineType=="line"),_5=(!_3&&this.regressionLineType=="polynomial");_2=[{title:isc.FacetChart.regressionLinesContextMenuItemTitle,submenu:[{title:isc.FacetChart.hideRegressionLinesContextMenuItemTitle,click:"target.setShowRegressionLine(false)",checked:_3},{title:isc.FacetChart.linearRegressionLinesContextMenuItemTitle,click:"target.setRegressionLineType(\"line\"); target.setShowRegressionLine(true)",checked:_4},{title:isc.FacetChart.polynomialRegressionLinesContextMenuItemTitle,click:"target.setRegressionLineType(\"polynomial\"); target.setShowRegressionLine(true)",checked:_5},{title:isc.FacetChart.polynomialDegreeRegressionLinesContextMenuItemTitle,click:function(){var _6=function(_14){var _7=(_14==null);if(_7)return;var _8=isc.isA.emptyString(_14),_9;if(!_8){_9=parseInt(_14,10);_8=(!isc.isA.Number(_9)||_14!=_9.toString(10)||!_1.$112m(_9))}
if(_8){isc.warn(isc.FacetChart.invalidPolynomialDegreeMessage)}else if(_9!=_1.regressionPolynomialDegree){_1.setRegressionPolynomialDegree(_9);_1.setRegressionLineType("polynomial");_1.setShowRegressionLine(true)}};isc.askForValue(isc.FacetChart.polynomialDegreePrompt,_6,{defaultValue:_1.regressionPolynomialDegree})}}]}]}else{var _10=this.$1035(),_11=(_10?isc.FacetChart.$1340:isc.FacetChart.allChartTypes),_12=this.$134z();_2=[{title:"Chart Type",submenu:_11.map(function(_14){return{title:_14,click:"target.setChartType('"+_14+"')",checked:_1.chartType==_14}})},{title:"Fill",submenu:[{title:"Filled",click:"target.setFilled(true)",checked:this.filled!=null&&this.filled},{title:"Unfilled",click:"target.setFilled(false)",checked:this.filled!=null&&!this.filled},{title:"Auto",click:"target.setFilled(null)",checked:this.filled==null}]}];if(this.isMultiFacet()){_2.add({title:"Stack",submenu:[{title:"Stacked",click:"target.setStacked(true)",checked:this.stacked!=null&&this.stacked},{title:"Unstacked",click:"target.setStacked(false)",checked:this.stacked!=null&&!this.stacked},{title:"Auto",click:"target.setStacked(null)",checked:this.stacked==null}]});if(_12){_2.add({title:"Swap Facets",click:"target.swapFacets()"})}}}
if(this.$117r!=null){this.$117r.destroy()}
var _13=this.$117r=this.getMenuConstructor().create({data:_2});return _13.showContextMenu(this)},isc.A.click=function isc_FacetChart_click(){var _1=this.$16ah();if(_1!=null){if(this.$117r!=null){this.$117r.destroy()}
var _2=this.$117r=this.getMenuConstructor().create({data:_1});return _2.showContextMenu(this)}},isc.A.$16ah=function isc_FacetChart__getMoveAxesContextMenuItems(){var _1=null;if(this.$1045()){var x=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopMargin()-this.getTopPadding(),_4=this.$778;if(_4!=null){var _5=this.$1036(),_6=_5.visible.length,_7=-_5.left.length,_8=_5.right.length;for(var j=0;j<_6;++j){var _10=_5.visible[j],_11=this.$103v(_10),_12=_11+_10.$104f;if(_11<=x&&x<=_12&&y>=_4.top&&_10.$1048!=null&&y<=_10.$1048.getBoundingBox()[3])
{var _13=[],_14=this.$1049(_10);for(var i=_7;i<=_8;++i){if(i==0){continue}
var c=(i<0?_5.left[-i-1]:_5.right[i-1]);if(_10==c){continue}
var _17=this.$1049(c);var _18;if(c.valueTitle!=null){_18=c.valueTitle}else{var _19=this.metricFacet.values.find("id",c.$103o);_18=_19.title||_19.id}
_13.push({title:_18,click:"target.changeValueAxisPositions(["+_14+","+_17+","+_17+","+_14+"])"})}
if(!_13.isEmpty()){_1=[{title:"Swap Metric Axes",submenu:_13}];break}}}}}
return _1},isc.A.initWidget=function isc_FacetChart_initWidget(){this.errorBarColorMutePercent=this.$105v(this.errorBarColorMutePercent,isc.FacetChart.getInstanceProperty("errorBarColorMutePercent"));this.colorMutePercent=this.$105v(this.colorMutePercent,isc.FacetChart.getInstanceProperty("colorMutePercent"));if(this.$106d()){this.allowContentAndChildren=true}
this.Super("initWidget",arguments);this.origDataGradients=this.dataGradients;this.dataGradients=isc.addProperties({},this.origDataGradients);this.isVML=this.drawingType=="vml";this.hasShadows=!this.isVML;if(this.facets&&this.facets.length>2&&this.chartType!="Scatter"&&!((this.chartType=="Line"||this.chartType=="Area")&&(this.highErrorMetric!=null||this.lowErrorMetric!=null))&&!(this.extraAxisMetrics!=null&&isc.isAn.Array(this.extraAxisMetrics)&&!this.extraAxisMetrics.isEmpty()))
{this.logWarn("The FacetChart \""+this.getID()+"\" has "+this.facets.length+" facets, but it is not a scatter plot and it does not have any extraAxisMetrics.  This is probably an error as the chart cannot utilize more than two facets.")}
this.$106k=true;if(this.$106l==null){this.setData(this.$106j())}else{this.$1037()}
var _1=this.createAutoChild("zoomChartSlider",{_constructor:"RangeSlider",autoDraw:false,minValue:0,maxValue:1,startValue:0,endValue:1});this.$106e=_1.scrollbar.getHeight();_1.destroy();this.$35z=this.getWidth();this.$106o=this.getHeight()},isc.A.draw=function isc_FacetChart_draw(){if(isc.$cv)arguments.$cw=this;if(!this.readyToDraw())return this;this.Super("draw",arguments);this.drawChart();return this},isc.A.resized=function isc_FacetChart_resized(_1,_2,_3){this.Super("resized",arguments);if(this.$106d()){var _4=this.getWidth(),_5=this.getHeight();if(_4!=this.$35z){this.$35z=_4;this.$106k=true}
if(_5!=this.$106o){this.$106o=_5;if(this.$106p){var _6=this.$106q();this.zoomChart.setTop(_6);this.zoomChartSlider.setTop(_6);if(this.zoomShowSelection){this.$106r.setTop(_6)}}}}
if(this.$106l==null&&_3!="init"){this.$105a(false)}},isc.A.setFacets=function isc_FacetChart_setFacets(_1){this.facets=_1;var _2=this.$106j();if(_2&&_2.length>0)this.setupChart()},isc.A.setData=function isc_FacetChart_setData(_1){if(_1&&!isc.isAn.Array(_1)){_1=[_1]}
this.data=_1;if(_1&&_1.length>0){this.setupChart()}
this.$106k=true;this.orderedData=null;delete this.$114q;delete this.$102o;delete this.$107n;if(this.zoomChart!=null){delete this.zoomChart.$107n}
if(this.zoomSelectionChart!=null){delete this.zoomSelectionChart.$107n}
if(this.$122i()){var _2=this.getMaxValue(null,true);this.logInfo("setData: maxValue: "+_2);this.$1037();if(this.$106d()){if(this.zoomChart)this.zoomChart.$1037();if(this.zoomSelectionChart)this.zoomSelectionChart.$1037()}}
this.$105a(false)},isc.A.$122i=function isc_FacetChart__hasFacetValues(){var _1=this.getDataLabelFacet(),_2=this.getLegendFacet(),_3=this.$111a(),_4=this.$1065();return((this.chartType=="Scatter"||!(_1==null&&_2==null))&&(_1==null||_1.values)&&(_2==null||_2.values)&&(_3==null||_3.values)&&(_4==null||_4.values))},isc.A.$105a=function isc_FacetChart__redrawFacetChart(_1,_2){if(this.drawingType=="vml"){if(!isc.FacetChart.$127a){var _3=!isc.FacetChart.$127b?isc.FacetChart.$127c:isc.FacetChart.$127c-
(new Date().getTime()-isc.FacetChart.$127b);if(_3<10)_3=10;this.logDebug("Delaying redraw of FacetChart '"+this.ID+"' by "+_3+"ms","drawing");this.delayCall("$105a",[_1,_2],_3);return}else{this.logDebug("VML redraw is marked safe drawing FacetChart '"+this.ID+"' - continuing on-thread","drawing")}}
this.$10k();if(!this.isDrawn())return;if(_1){this.orderedData=null;delete this.$114q}
delete this.cachedMaxValues;delete this.cachedMinValues;delete this.$1277;delete this.$1278;delete this.gradations;delete this.$127t;delete this.$1279;delete this.$117i;delete this.$106w;delete this.$128a;delete this.$128b;delete this.$85f;delete this.$85g;delete this.$106x;delete this.$107p;this.$106k=true;if(_2){this.$117l();delete this.$107n;delete this.$106p;if(this.$106z!=null){isc.Timer.clear(this.$106z);delete this.$106z}
if(this.$1061!=null){isc.Timer.clear(this.$1061);delete this.$1061}
if(this.zoomSelectionChart!=null){this.zoomSelectionChart.destroy();delete this.zoomSelectionChart}
if(this.$106r!=null){this.$106r.destroy();delete this.$106r}
if(this.zoomChart!=null){this.zoomChart.destroy();delete this.zoomChart}
if(this.zoomChartSlider!=null){this.ignore(this.zoomChartSlider,"changed");this.ignore(this.zoomChartSlider,"resized");this.zoomChartSlider.destroy();delete this.zoomChartSlider}}else{if(this.zoomChart!=null){this.zoomChart.setChartType(this.chartType);this.zoomChart.setStacked(this.stacked);this.zoomChart.setFilled(this.filled)}
if(this.zoomSelectionChart!=null){this.zoomSelectionChart.setChartType(this.chartType);this.zoomSelectionChart.setStacked(this.stacked);this.zoomSelectionChart.setFilled(this.filled)}}
delete this.$104j;delete this.$78k;delete this.$101c;delete this.$101d;if(this.$1035()){var _4=this.$1036().all;for(var i=0;i<_4.length;++i){var _6=_4[i];delete _6.cachedMaxValues;delete _6.cachedMinValues;delete _6.$1277;delete _6.$1278;delete _6.gradations;delete _6.$127t;delete _6.$1279;delete _6.$107p;delete _6.$101c;delete _6.$101d}}
this.xLabelsHeight=this.yLabelsWidth=null;this.drawChart()},isc.A.drawChart=function isc_FacetChart_drawChart(){this.beginBatchDrawing();try{this.$125v()}finally{this.endBatchDrawing(true)}},isc.A.$125v=function isc_FacetChart__drawChart(){this.drawTitle();if(this.$122j()){this.drawLegend()}
var _1=this.$106j();if(!isc.isAn.Array(_1)||_1.length==0||!this.$122i()){return}
this.$117l();var _2=this.hasYGradations(),_3=this.hasXGradations();var _4,_5,_6=this.$116c(),_7,_8,_9,_10,_11,_12,_13,_14,_15,_16;this.$1236=this.$1237=this.chartRectMargin;this.$106g=this.chartType!="Radar"&&!this.isPieChart();this.$1569=!this.$106g;if(this.$106g){delete this.xLabelsHeight;delete this.yLabelsWidth;delete this.$1277;delete this.$1278;delete this.gradations;delete this.$127t;delete this.$1279;delete this.$106w;delete this.$128a;delete this.$128b;delete this.$106x;delete this.$104c;var _17=this.$106h(),_18=this.$106f(),_19=this.$104i(),_20=1+_19,_21=(_20>2?this.$1036().visible:null),_22=this.$1035(),_23=null,_24=1,_25=false,_26=null,_27=null,_7=new Array(_19);if(_22){var _28=this.$1036();_23=_28.groups;_24=_23.length;_25=this.$104g();_26=new Array(_20-1);_27=new Array(_20-1)}else if(this.hasYGradations()){_23=[[this]]}else{_23=[this]}
var _29=this.$1109=new Array(1+_24);for(;;){var _30=_29[0]=this.$106t(false,this,0);for(var j=0,k=0;j<_24;++j){var _33=_23[j],_34;if(_22){_34=new Array(_33.length);for(var l=0;l<_33.length;++k,++l){var _36=_33[l],_37=_27[k]=this.$1108(_36);if(!_25&&this.shouldShowValueAxisLabel(_36)){var _38=_26[k]=this.measureLabel(_36.valueTitle,_36.valueAxisLabelProperties).width;_34[l]=Math.max(0,_38-_37)}else{_26[k]=0;_34[l]=0}}}else if(isc.isAn.Array(_33)){_34=[0]}else{_34=0}
_29[1+j]=this.$106t(true,_33,_34)}
var _39=this.$106v(_29,_30,_17,_18);var _40=_39.axisMeasures,_41=_39.axisWidths,_42=_39.axisHeights;var _43=_40[0],_44=_41[0],_45=_42[0],_46=_30.rotateLabels(_43),_47=_30.useGradations(_43),_48=_30.getLabelDataPairs(_44,_45,_43),_49=_30.logScale(_43);if(isc.isAn.Array(_44)){_44=_44[0]}
if(isc.isAn.Array(_45)){_45=_45[0]}
var _50=_43.$1238||0,_51=_43.$1239||0;this.$1236+=_50;this.$1237+=_51;if(this.chartType=="Scatter"||_2){_5=false;_6=_46}else{_5=_46;_6=false}
var _52;if(this.chartType=="Scatter"){var _53=_29[1],_54=_40[1],_55=_41[1][0],_56=_42[1][0];_4=true;_52=_55;var _57=_7[0]=_53.getLabelDataPairs(_55,_58,_54)[0];_9=_57.getProperty("dataValue");_11=_53.$127u(_55,_58,_54);_13=_53.$128c(_55,_58,_54);_15=_53.logScale(_54);_8=_48[0];_10=_8.getProperty("dataValue");_12=_30.$127u(_44,_45,_43);_14=_30.$128c(_44,_45,_43);_16=_49}else if(_3){var _53=_29[1],_54=_40[1],_55=_41[1],_58=_42[1];_4=false;_52=_55;var _57=_7[0]=_48[0];_9=_57.getProperty("dataValue");_11=_30.$127u(_44,_45,_43),_13=_30.$128c(_44,_45,_43);_15=_49;_8=_53.getLabelDataPairs(_55,_58,_54);_16=_53.logScale(_54);if(_53.useGradations(_54)){_10=_8.getProperty("dataValue")}}else{_4=true;_8=_48;_16=_49;if(_47){_10=_8.getProperty("dataValue")}
_44-=_50+_51;for(var j=0,k=0;j<_24;++j){var _33=_23[j],_59=_29[1+j],_60=_59.getLabelDataPairs(_41[1+j],_42[1+j],_40[1+j]);for(var l=0;l<_33.length;++l,++k){if(k==0){var _61=_59,_62=_40[1+j],_63=_41[1+j][l],_64=_42[1+j][l];var _65=_7[0]=_60[l];_9=_65.getProperty("dataValue");_11=_61.$127u(_63,_64,_62);_13=_61.$128c(_63,_64,_62);_52=_63;_15=_61.logScale(_62);this.$85f=this.measureLabels(_65.getProperty("label"),"width",this.gradationLabelProperties);this.$104f=_63}else{var _66=_59,_36=_33[l],_67=_40[1+j],_68=_41[1+j][l],_69=_42[1+j][l];var _70=_7[k]=_60[l];_36.gradations=_70.getProperty("dataValue");_36.$127t=_66.$127u(_68,_69,_67);_36.$1279=_66.$128c(_68,_69,_67);_36.$85f=this.measureLabels(_70.getProperty("label"),"width",_36.gradationLabelProperties);_36.$104f=_68+_27[k]}}}}
this.xLabelsHeight=_45+this.getAxisLabelSpace(false);this.yLabelsWidth=_52+this.getAxisLabelSpace(true);if(_9!=null){this.gradations=_9;this.$127t=_11;this.$1279=_13}
if(_10!=null){this.$106w=_10;this.$128a=_12;this.$128b=_14}
var _71=!this.$1569;if(_71){_71=false;var _72=(_22?this.$1036().all:null);for(var j=0;!_71&&j<_19;++j){var _36=(j==0?this:_72[j-1]);_71=(_36.showDataValues&&(_36.chartType=="Bar"||_36.chartType=="Column"))}}
if(_71){this.$78g(false);_71=this.$157a(_10,_16,_8,_6,true);if(_71){delete this.orderedData;delete this.$778;delete this.$136a;delete this.$136c;delete this.$1356;delete this.$1358;this.$1236=this.$1237=this.chartRectMargin;this.$1569=true;continue}}
break}
this.$106x=_8.getProperty("label")}else{this.measureDataLabels();this.$103m();this.measureGradationLabels(true)}
this.$78g(true);this.drawGradationLabels(_4,_7,_5);var _73=this.showGradationsOverData;if(_22){this.$103n()}else{this.$103n(_4,_9,_11,_13,false,_73);if(_10!=null&&this.chartType!="Scatter"){this.$103n(!_4,_10,null,null,_73)}}
if(this.chartBackgroundDrawn){this.chartBackgroundDrawn()}
this.logDebug("drawing data","chartDraw");this.$1002();if(!this.showStatisticsOverData&&this.chartType!="Scatter"){this.$102l()}
this.$157a(_10,_16,_8,_6,false);if(this.showStatisticsOverData){this.$102l()}
if(_73){this.$127v(_4,_9,_11,_13,true,false);if(_10!=null){this.$127v(!_4,_10,null,null,true,false)}}
this.drawDataAxisLabel();this.$104h();if(this.chartDrawn){this.chartDrawn()}
if(this.$106k&&this.$106d()){if(!this.$106p){this.$106y()}
var _74=this;if(this.$106z==null){this.$106z=isc.Timer.setTimeout(function(){delete _74.$106z;if(_74.$106p){var _75=_74.$1060(),_76=_74.$106q(),_77=_74.getChartWidth();_74.zoomChart.setRect(_75,_76,_77);_74.zoomChartSlider.setRect(_75,_76,_77);if(!_74.zoomChart.isDrawn()){_74.zoomChart.draw()}else{_74.zoomChart.$105a(false)}
if(_74.zoomShowSelection){if(_74.$1061==null){_74.$1061=isc.Timer.setTimeout(function(){delete _74.$1061;if(_74.$106p){var _76=_74.$106q(),_77=_74.getChartWidth();_74.$106r.setTop(_76);_74.zoomSelectionChart.setWidth(_77);if(!_74.zoomSelectionChart.isDrawn()){_74.zoomSelectionChart.draw()}else{_74.zoomSelectionChart.$105a(false)}}
_74.$106k=false},0)}}else{_74.$106k=false}}else{_74.$106k=false}},0)}}},isc.A.hasXGradations=function isc_FacetChart_hasXGradations(_1){return(_1||this.chartType)=="Bar"},isc.A.hasYGradations=function isc_FacetChart_hasYGradations(_1){return(_1||this.chartType)!="Bar"},isc.A.measureDataLabels=function isc_FacetChart_measureDataLabels(){if(this.hasYGradations()){this.getXLabelsHeight(true)}else{this.getYLabelsWidth(true)}},isc.A.erase=function isc_FacetChart_erase(_1,_2){this.$1002();delete this.$1062;if(this.$1035()){var _3=this.$1036().all;for(var i=0;i<_3.length;++i){delete _3[i].$1062}}
this.Super("erase",arguments);this.dataGradients=isc.addProperties({},this.origDataGradients)},isc.A.destroyItems=function isc_FacetChart_destroyItems(){this.$1063();this.$10k()},isc.A.$10k=function isc_FacetChart__destroyItems(){this.Super("destroyItems",arguments)},isc.A.$128d=function isc_FacetChart__getMultiMinMaxValues(_1,_2){var _3=(_1?_2.$1277:_2.$1278);if(_3!=null){return _3}else if(_1){_3=_2.$1277={}}else{_3=_2.$1278={}}
var _4=(_2.chartType=="Scatter"),_5=!_4,_6=this.$1065(),_7=_4&&this.getYAxisMetric(),_8=_4&&this.getXAxisMetric(),_9=this.$1066(),_10=this.$1064();var _11=(!this.$1035()&&_6!=null),_12=false;var _13=(_1&&_2.logScale);var _14,_15;if(_2==this){if(_4){var _16=(_1?_7:_8);if(_6!=null&&_16!=null){var _17=this.$127u(false,null,null,null,_2),_18=this.$127u(true,null,null,null,_2),_19=(_1?_17:_18),_20=(_1?_8:_7),_21=this.$133f(_16),_22=this.$133f(_20);if(_19!=null){var _23={};_23[_6.id]=_16;var _24=this.getValue(_23,true,_21);_23[_6.id]=_20;var _25=this.getValue(_23,true,_22);if(_24!=null&&_25!=null){var _26,_27;if(_11&&_9!=null&&!(_1?_21:_22))
{_23[_6.id]=_9;if(_1){_26=this.getValue(_23,true,false);_27=null}else{_26=null;_27=this.getValue(_23,true,false)}}
var _28,_29;if(_11&&_10!=null&&!(_1?_21:_22))
{_23[_6.id]=_10;if(_1){_28=this.getValue(_23,true,false);_29=null}else{_28=null;_29=this.getValue(_23,true,false)}}
var _30=(!_1&&_2.logScale);_13=_13&&!_21;_30=_30&&!_22;for(var j=_24.length;j--;){var _32=(_21?isc.isA.Date(_24[j]):isc.isA.Number(_24[j])&&(!_13||_24[j]>0)),_33=(_22?isc.isA.Date(_25[j]):isc.isA.Number(_25[j])&&(!_30||_25[j]>0));if(_32&&_33){var _34=_25[j];if(_27!=null&&(!_30||_27[j]>0)){_34=Math.max(_34,_27[j])}
if(_29!=null&&(!_30||_29[j]>0)){_34=Math.max(_34,_29[j])}
if(_22?_34.getTime()>=_19.getTime():_34>=_19)
{var _35=_24[j],_36=_24[j];if(_26!=null&&isc.isA.Number(_26[j])&&(!_13||_26[j]>0))
{_35=Math.min(_35,_26[j]);_36=Math.max(_36,_26[j])}
if(_28!=null&&isc.isA.Number(_28[j])&&(!_13||_28[j]>0))
{_35=Math.min(_35,_28[j]);_36=Math.max(_36,_28[j])}
if(_14==null){_14=_35;_15=_36}else if(_21){_14=isc.DateUtil.$1329(_14,_35);_15=isc.DateUtil.$133a(_15,_36)}else{_14=Math.min(_14,_35);_15=Math.max(_15,_36)}}}}}}else{_14=this.getMinValue(_16,null,null,null,_13);_15=this.getMaxValue(_16,null,null,null,_13);_12=!this.$133f(_16)}}}else{var _16=this.getDefaultMetric();_14=this.getMinValue(_16,null,null,_5,_13);_15=this.getMaxValue(_16,null,null,_5,_13);_12=!this.$133f(_16)}}else{_14=this.getMinValue(_2.$103o,null,_2,_5,_13);_15=this.getMaxValue(_2.$103o,null,_2,_5,_13);_12=false}
if(_13&&_14==null&&_15==null){_14=_15=0}
_3.minValue=_14;_3.maxValue=_15;if(_12&&_1&&_11){if(_9!=null){this.$128e(_9,_3,_13)}
if(_10!=null){this.$128e(_10,_3,_13)}}
return _3});isc.evalBoundary;isc.B.push(isc.A.$128e=function isc_FacetChart__minMaxWithErrorMetric(_1,_2,_3){var _4=_2.minValue,_5=_2.maxValue,_6=this.getMinValue(_1,null,null,null,_3),_7=this.getMaxValue(_1,null,null,null,_3);if(_4==null){_4=_6}else if(_6!=null){_4=Math.min(_4,_6)}
if(_5==null){_5=_7}else if(_7!=null){_5=Math.max(_5,_7)}
_2.minValue=_4;_2.maxValue=_5},isc.A.getMagnitude=function isc_FacetChart_getMagnitude(_1,_2,_3){_3=_3||this;if(_1==0)return 0;if(_2==null)_2=_3.logBase;var _4=this.logValue(_1,_2,_3);return Math.ceil(_4)},isc.A.getGradations=function isc_FacetChart_getGradations(_1){return this.$914(false,true,null,_1)},isc.A.$914=function isc_FacetChart__getGradations(_1,_2,_3,_4){_4=_4||this;var _5=this.$128d(_2,_4),_6=_5.minValue,_7=_5.maxValue;var _8=_2&&this.shouldUseLogGradations(_4);if(_8){return this.getLogGradations(_7,_6,_1,_4)}
if(!_1&&(_2?_4.gradations:_4.$106w)){return(_2?_4.gradations:_4.$106w)}
var _3=_3||this.getDataAxisLength(true);var _9=Math.round(_3/this.pixelsPerGradation);var _10=this.$127w(_2,_6,_7,this);var _11=false,_12,_13=Number.MAX_VALUE;for(var i=0;i<_10.length;i++){var _15=_10[i],_16=(this.$128f(_2,_6,_7,_15,this).numGradations-1),_17=Math.abs(_9-_16);if((!_11||_16<_9)&&_17<_13){_11=_11&&_16<_9;_12=_15;_13=_17}}
var _15=_12,_18=this.$128f(_2,_6,_7,_15,this),_19=_18.startValue,_20=_18.endValue,b=_18.b,_22=_18.numGradations,_23=_18.oneGradationLabel;var _16=new Array(_22);for(var i=_22;i--;){_16[i]=((b+i)*_15)}
if(_2){_4.gradations=_16;_4.$127t=_19;_4.$1279=_20;_4.$117i=_23}else{_4.$106w=_16;_4.$128a=_19;_4.$128b=_20}
if(this.logIsDebugEnabled("chartScale")&&_4==this){this.logDebug("chose increment: "+_15+". "+_22+" gradations (ideal "+_9+"): "+_16,"chartScale")}
return _16},isc.A.$127u=function isc_FacetChart__getAxisStartValue(_1,_2,_3,_4,_5){var _6=this.$128f(_1,_2,_3,_4,_5);return(_6!=null?_6.startValue:null)},isc.A.$128g=function isc_FacetChart__validateLogGradations(_1,_2){var _3=_2*1e-6,_4=false,_5=(isc.isAn.Array(_1)&&_1.length>0);for(var i=0;_5&&i<_1.length;++i){var _7=_1[i];_5=isc.isA.Number(_7);if(!(1<=_7)){if(1-_3<_7){if(!_4){_4=true;_1=_1.duplicate()}
_1[i]=1}else{_5=false}}
if(!(_7<_2)){if(_7-_3<_2){if(!_4){_4=true;_1=_1.duplicate()}
_1.removeAt(i);if(!_1.contains(1)){_1.unshift(1)}else{--i}}else{_5=false}}}
for(var i=1;_5&&i<_1.length;++i){var a=_1[i-1],b=_1[i];if(Math.abs(a-b)<_3){if(!_4){_4=true;_1=_1.duplicate()}
_1.removeAt(i);--i}else if(!(a<b)){_5=false}}
if(!_5){this.logWarn("The chart's logGradations were invalid.  Continuing with logGradations set to [1].")}
return(_5?_1:[1])},isc.A.$128f=function isc_FacetChart__getAxisBoundaryValues(_1,_2,_3,_4,_5){var _6=_1&&this.shouldUseLogGradations(_5);var _7=false;if(_5.chartType=="Scatter"){_7=this.$133f(_1?this.getYAxisMetric():this.getXAxisMetric())}else{_7=this.$133f(this.getDefaultMetric())}
_6=_6&&!_7;var _8=!(_1||_5.chartType=="Scatter"),_9=false,_10=null,_11;if(_8){_9=true;_10=_2}else{var _12=(_1?"axisStartValue":"xAxisStartValue");if(_7?isc.isA.Date(_5[_12]):isc.isA.Number(_5[_12])){_9=true;_10=_5[_12]}}
var _13={startValue:_10,increment:_4};if(!_6&&_4==null){return _13}
if(_2==null||_3==null){_13.endValue=null;_13.b=-1;_13.c=0;_13.numGradations=0;return _13}
var _14=null;if(!_9){_14=this.$127s(_1,_5);if(!(isc.isA.Number(_14)&&0<_14&&_14<100))
{_14=null}}
if(_6){if(_9&&_10<0){this.logWarn("Logarithmic scaling is not supported with negative values for axisStartValue.  Continuing with a zero start value.");_10=0}
var _15=(_9&&_10==0);var _16=_5.logBase,_17=this.$128g(_5.logGradations,_16),_18=_17.length;var _19=this.getMagnitude((_9?Math.max(_10,_3):_3),null,_5),_20=this.getMagnitude((_9&&!_15?_10:_2),null,_5);if((Math.pow(_16,_20-1)*_17[0])>(_9&&!_15?_10:_2)){--_20}
var b,c;if(_9&&!_15){b=0;for(;;){var i=_20-1+Math.floor(b/_18),j=(b%_18);if(Math.pow(_16,i)*_17[j]>=_10){break}else{++b}}}else{b=0;_10=Math.pow(_16,_20-1)*_17[0]}
c=(_19-_20+1)*_18;_11=Math.pow(_16,_19);var _25=(c-b+1),_26=(_15?3:2);if(_25<_26){var _27=_16*1e-6,_28=(Math.abs(_17[0]-1)<_27);for(;_25<_26;++_25){if(_9&&!_15){if(_28){_28=false;--_25;_11=_11*_17[0]}else{++c;var i=_20-1+Math.floor(c/_18),j=(c%_18);_11=Math.pow(_16,i)*_17[j]}}else{--b;var i=_20-1+Math.floor(b/_18),j=(b%_18);_10=Math.pow(_16,i)*_17[j]}}}
var _29=0,_30=0,_31=0;if(_2>0){var _32=this.logValue(_3,_16,_5),_33=this.logValue(_2,_16,_5);_29=this.logValue(_11,_16,_5),_30=this.logValue(_10,_16,_5);_31=(_32-_33)}
if(_14!=null&&0<_31&&_31<(_14/100)*(_29-_30)){var _34=Math.abs((_31/(_29-_30))-0.75);for(var _35=b+1,_36=c-1;_26<c-b+1;){var _37=_20-1+Math.floor(_35/_18),_38=(_35%_18),_39=Math.pow(_16,_37)*_17[_38],_40=this.logValue(_39,_16,_5),_41=Math.abs((_31/(_29-_40))-0.75);var _42=_20-1+Math.floor(_36/_18),_43=(_36%_18),_44=Math.pow(_16,_42)*_17[_43],_45=this.logValue(_44,_16,_5),_46=Math.abs((_31/(_45-_30))-0.75);if(_39>_2){_41=_34}
if(_44<_3){_46=_34}
if(_41<_46){if(_41<_34){_34=_41;b=_35;_10=_39;_30=_40}else{break}}else{if(_46<_34){_34=_46;c=_36;_11=_44;_29=_45}else{break}}}}
_13.startValue=_10;_13.endValue=_11;_13.b=b;_13.c=c;_13.numGradations=(c-b+1);_13.minMagnitude=_20;_13.maxMagnitude=_19;_13.logGradations=_17;_13.includeZeroGradation=_15;return _13}
var _47=_7&&isc.FacetChart.$133g(_4,_2),_48=(_7?0:Math.floor(_2/_4)),_49=(!_7&&!_9&&_1&&(_2!=null&&_2>0)&&this.$1059(_5)),_50=(!_7&&(!_9||_10<_3)&&_1&&(_3!=null&&_3<0)&&this.$1059(_5)),b,c;if(_9){if(_7){b=isc.FacetChart.$133h(_4,isc.FacetChart.$133i(_4,_10),_47)}else{b=Math.ceil(_10/_4)}}else if(_49){b=0;_10=0}else{b=_48;_10=(_7?_47:b*_4)}
var _51,_52;if(_8){_52=Math.max(_10,_3);_51=Math.floor(_52/_4)}else{if(_1){if(_7){_52=isc.FacetChart.$133i(_4,isc.DateUtil.$133a(_10,_3));_51=isc.FacetChart.$133h(_4,_52,_47)}else{_51=Math.ceil(Math.max(_10,_3)/_4);_52=_51*_4}}else{if(_7){_52=isc.FacetChart.$133i(_4,isc.DateUtil.$133a(_10,_3));_51=isc.FacetChart.$133h(_4,_52,_47)}else{_52=Math.max(_10,_3);_51=Math.floor(_52/_4)}}}
if(_50){_11=0;c=0}else{_11=_52;c=_51}
var _53=false;if(!_8){if(!_7&&_1&&(_5.chartType=="Bar"||_5.chartType=="Column")&&_5.showDataValues&&(_3!=null&&_3>=0)&&this.$1569)
{++c;_11=c*_4}
var _25=(c-b+1);if(_25<2){if(!_9){if(_7){_10=isc.FacetChart.$133g(_4,_2);b=isc.FacetChart.$133h(_4,_10,_47)}else{b=Math.floor(_2/_4);_10=b*_4}}
if(_7){_11=isc.FacetChart.$133i(_4,isc.DateUtil.$133a(_10,_3));c=isc.FacetChart.$133h(_4,_11,_47)}else{c=Math.ceil(Math.max(_10,_3)/_4);_11=c*_4}
if(b==c){++c;if(_7){_11=isc.FacetChart.$133j(_4,_11)}else{_11=c*_4}
_53=true}}}
var _25=(c-b+1);var _31;if(_9){if(_7){var _54=isc.DateUtil.$133a(_10,_2),_55=isc.DateUtil.$133a(_10,_3);_31=(_55.getTime()-_54.getTime())}else{_31=(Math.max(_10,_3)-Math.max(_10,_2))}}else{_31=(_7?_3.getTime()-_2.getTime():_3-_2)}
var _56=(_7?_11.getTime()-_10.getTime():_11-_10);if(_14!=null&&0<_31&&_31<(_14/100)*_56)
{var _57=false;if(!_1&&_5.chartType=="Scatter"){if(_7){_11=isc.FacetChart.$133i(_4,_11);c=isc.FacetChart.$133h(_4,_11,_47)}else{c=Math.ceil(_11/_4);_11=c*_4}
_25=(c-b+1);_56=(_7?_11.getTime()-_10.getTime():_11-_10);_57=(_31<(_14/100)*_56)}
if(!_57){var _58=Math.min(_25-2,(_48-b)+(c-_51));var n=c-b-_31/_4/0.75,_60=Math.max(0,Math.min(_58,Math.floor(n))),_61=Math.max(0,Math.min(_58,Math.ceil(n)));if(_60==_61){n=_60}else if(c-b-_61==0){n=_60}else if(c-b-_60==0){n=_61}else{var _62=(_31/(c-b-_60)/_4),_63=(_31/(c-b-_61)/_4);if(Math.abs(_62-0.75)<Math.abs(_63-0.75)){n=_60}else{n=_61}}
var _64=0,_65=0;if(!_7&&_2!=null&&_2>0){_64=Math.min(n,_48-b);_65=n-_64}else if(!_7&&_3!=null&&_3<0){_65=Math.min(n,c-_51);_64=n-_65}else{_64=Math.min(Math.ceil(n/2),_48-b);_65=n-_64}
b+=_64;if(_7){if(_64>0){_10=isc.FacetChart.$133k(_4,_10,_64)}}else{_10+=_64*_4}
c-=_65;if(_7){if(_65>0){_11=isc.FacetChart.$133k(_4,_11,-_65)}}else{_11-=_65*_4}
_25=(c-b+1)}}
_53=(_53||(_25==1));_13.startValue=_10;_13.endValue=_11;_13.b=b;_13.c=c;_13.numGradations=_25;_13.oneGradationLabel=_53;_13.isDateValued=_7;if(_7){_13.zero=_47}
return _13},isc.A.$127w=function isc_FacetChart__getPossibleIncrements(_1,_2,_3,_4){var _5=this.$127u(_1,_2,_3,null,_4);if(_5!=null){var _6=Math.max(0,_3-_5);var _7=this.getMagnitude(_6,10,_4);var _8=Math.pow(10,_7-1),_9=Math.pow(10,(_7-2));var _10=[_9,2*_9,5*_9,10*_9,2*_8,5*_8];return _10}
var _7=this.getMagnitude(_3-_2,10,_4),_11=_7,_12=_7;for(var _13=true;_13;){_13=false;var _7=_12,_9=Math.pow(10,_7-2),_8=10*_9;for(var i=0;i<6;++i){var _15;switch(i){case 0:_15=_9;break;case 1:_15=2*_9;break;case 2:_15=5*_9;break;case 3:_15=_8;break;case 4:_15=2*_8;break;case 5:_15=5*_8;break}
var _16=this.$128f(_1,_2,_3,_15,_4),m=this.getMagnitude((_16.c-_16.b)*_15,10,_4);if(!(_11<=m&&m<=_12)){_13=_13||!(m<=_12);_11=Math.min(_11,m);_12=Math.max(_12,m)}}}
var _18=new Array(6*(_12-_11+1));for(var m=_11;m<=_12;++m){var _9=Math.pow(10,m-2),i=6*(m-_11);_18[i]=_9;_18[i+1]=2*_9;_18[i+2]=5*_9;_18[i+3]=10*_9;_18[i+4]=20*_9;_18[i+5]=50*_9}
return _18},isc.A.$103m=function isc_FacetChart__calculateAllGradations(_1){var _2=true,_3=true;this.$914(_2,_3,_1,this);var _4=this.$1036();if(_4!=null){_4=_4.all;for(var i=0,_6=_4.length;i<_6;++i){var _7=_4[i];this.$914(_2,_3,_1,_7)}}},isc.A.logValue=function isc_FacetChart_logValue(_1,_2,_3){if(_2==null)_2=(_3||this).logBase;return Math.log(_1)/Math.log(_2)},isc.A.shouldUseLogGradations=function isc_FacetChart_shouldUseLogGradations(_1){_1=_1||this;if(_1.logScale==false)return false;if(_1.useLogGradations!=null)return _1.useLogGradations;return _1.logBase==10},isc.A.getLogGradations=function isc_FacetChart_getLogGradations(_1,_2,_3,_4){_4=_4||this;if(!_3&&_4.gradations)return _4.gradations;if(_2<0)this.logWarn("logarithmic scaling is not supported with negative values");var _5=_4.logBase,_6=this.$128f(true,_2,_1,null,_4);if(_4==this){this.logDebug("magnitude of max,min: "+[_6.maxMagnitude,_6.minMagnitude],"chartScale")}
var _7=_6.logGradations,_8=_7.length,_9=_6.numGradations,_10=new Array(_9),_11=_6.minMagnitude,b=_6.b;for(var i=_9;i--;){if(i==0&&_6.includeZeroGradation){_10[i]=0}else{var j=_11-1+Math.floor((b+i)/_8),k=((b+i)%_8);_10[i]=Math.pow(_5,j)*_7[k]}}
_4.gradations=_10;_4.$127t=_6.startValue;_4.$1279=_6.endValue;if(_4==this){this.logDebug("log gradations: "+_10,"chartScale")}
return _10},isc.A.getMaxGradation=function isc_FacetChart_getMaxGradation(_1){_1=_1||this;return _1.gradations.last()},isc.A.measureGradationLabels=function isc_FacetChart_measureGradationLabels(){if(this.isPieChart()||this.chartType=="Radar"){this.$85f=this.$85g=0;return}
var _1=this.hasYGradations(),_2=this.gradationLabelProperties,_3=this.gradations.duplicate();for(var i=0;i<_3.length;i++){_3[i]=this.formatAxisValue(_3[i],!_1)}
if(_1){this.$85f=this.measureLabels(_3,"width",_2)}else{if(this.$116c()){this.$85g=this.measureLabels(_3,"width",_2)}else{this.$85g=this.measureLabel("Xy",_2).height}}},isc.A.getGradationsWidth=function isc_FacetChart_getGradationsWidth(){if(this.$85f==null)this.logWarn("Gradation width not available");return this.$85f},isc.A.getGradationsHeight=function isc_FacetChart_getGradationsHeight(){if(this.$85g==null)this.logWarn("Gradation height not available");return this.$85g},isc.A.drawGradationLabels=function isc_FacetChart_drawGradationLabels(_1,_2,_3){if(this.isPieChart()||this.chartType=="Radar")return;var _1=(_1==null?this.hasYGradations():_1===true);if(_1&&!this.$1057){return}
_3=(!_1&&(_3==null?this.$116c():_3===true));var _4=this.$1035(),_5=this.$1036(),_6=this.$104i(),_7;if(_1){_7=this.getAxisLabelSpace(true)}
for(var j=0;j<_6;++j){var _9=(j==0?this:_5.all[j-1]),_10=!(_9!=this&&_9.showAxis==false);if(!_10){continue}
var _11=isc.addProperties({$104x:true},_9.gradationLabelProperties),_12=_9.gradations,_13=_9.$117i,_14=this.measureLabel("Xy",_11).height,_15=_2&&_2[j],_16=(_15==null),_17=(_16?(_13?1:_12.getLength()):_15.getLength());if(_1){var _18;if(_4){_18=this.$103p(_9)}else{_18=_7}
for(var i=0;i<_17;i++){var _20=this.getYCoord(_16?_12[i]:_15[i].dataValue,_9),_21=_16?_9.formatAxisValue(_12[i],!_1):_15[i].label;this.drawLabel(_18,_20-(_14/2),_21,_11)}}else{if(this.chartType=="Scatter"){_12=this.getSecondGradations()}
var _20=this.getChartTop()+this.getChartHeight()+this.chartRectMargin;for(var i=0;i<_17;i++){var _22=_16?_12[i]:_15[i].dataValue,_18=this.getValueCoord(_22,false),_21=_16?this.formatAxisValue(_22,!_1):_15[i].label;if(_3){this.drawLabel(_18+this.getRotatedCenteringOffset(_14),_20,_21,_11,true)}else{var _23=this.measureLabel(_21,_11);this.drawLabel(_18-(_23.width/2),_20,_21,_11)}}}}},isc.A.getGradationLineWidth=function isc_FacetChart_getGradationLineWidth(){return(this.gradationLineProperties.lineWidth||0)},isc.A.$127v=function isc_FacetChart__drawGradations(_1,_2,_3,_4,_5,_6){this.logDebug("drawing gradations","chartDraw");_2=_2||this.gradations;if(this.isPieChart())return;if(this.chartType=="Radar")return this.drawRadarGradations(_2);_1=(_1==null?this.hasYGradations():_1===true);if(_1&&!this.$1057){return}
_5=_5||!(this.bandedBackground&&_1);var _7=!_6,_8=!_5;if(_6&&_5){return}
var _9=this.getChartRect(),_10=_1?_9.height:_9.width;var _11=this.getChartRectLineWidth();var i=0,_13=_2.length;if(_11!=0){if(isc.isA.Date(_3)&&isc.isA.Date(_2[0])?_3.getTime()==_2[0].getTime():_3==_2[0])
{++i}
if(isc.isA.Date(_4)&&isc.isA.Date(_2[_13-1])?_4.getTime()==_2[_13-1].getTime():_4==_2[_13-1])
{--_13}}
var _14,_15;if(!_1&&(_3==null||_4==null)){if(this.hasXGradations()){_14=this.$127t;_15=this.$1279}else if(this.chartType=="Scatter"){_14=this.$128a;_15=this.$128b}else{var _16=this.$1068();_14=_16[0].dataValue;_15=_16[1].dataValue;if(!(_16[0].index<_16[1].index)||_14==_15){return}}}
for(;i<_13;i++){if(_7){if(_1){var _17=_9.left+_11,_18=_9.left+_9.width-_11,_19=this.getYCoord(_2[i]),_20=(_2[i]==0);isc.DrawLine.create(_20?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,startLeft:_17,startTop:_19,endLeft:_18,endTop:_19,autoDraw:true})}else{var _17=this.$1069(_2[i],_14,_15,false);isc.DrawLine.create(this.gradationLineProperties,{drawPane:this,startLeft:_17,startTop:_9.top+_11,endLeft:_17,endTop:_9.top+_9.height-(2*_11),autoDraw:true})}}
if(_8&&(i%2==1)&&i!=(_2.length-1)){var _21=this.getYCoord(_2[i+1]),_22=_19-_21,_23=this.gradationLineProperties.lineWidth||0;isc.DrawRect.create(this.backgroundBandProperties,{drawPane:this,left:_17,top:_21+_23,width:_18-_9.left-_11*2,height:_22-(_23*2),autoDraw:true})}}},isc.A.$103n=function isc_FacetChart__drawAllGradations(_1,_2,_3,_4,_5,_6){this.$127v(_1,_2,_3,_4,_5,_6);var _7=this.$1035();if(_7){var _8=this.$1036().visible;for(var j=_8.length;j--;){var _10=_8[j],_2=_10.gradations,_11=this.$103q(_10),_12=_11+this.gradationTickMarkLength;for(var i=_2.length;i--;){var _14=this.getYCoord(_2[i],_10),_15=(_2[i]==0);isc.DrawLine.create(_15?_10.gradationZeroLineProperties:_10.gradationLineProperties,{drawPane:this,startLeft:_11,startTop:_14,endLeft:_12,endTop:_14,autoDraw:true})}
this.$104o(_10)}}},isc.A.getValueRatio=function isc_FacetChart_getValueRatio(_1,_2,_3,_4,_5){_5=_5||this;_4=_4!=null?_4:_5.logScale;if(_3==null||_2==null){var _6=_5.gradations;_2=_5.$127t;_3=_5.$1279;if(!_6.length||!(_2!=null&&_3!=null)){return 0}}
if(isc.isA.Date(_2)&&isc.isA.Date(_3)&&isc.isA.Date(_1)){var _7=_2.getTime(),_8=_3.getTime()-_7;return(_1.getTime()-_7)/_8}else if(!_4){var _8=_3-_2;return(_8!=0?(_1-_2)/_8:0)}else{if(_1==0)return 0;var _9=this.logValue(_3,_5.logBase,_5),_10=_2==0?0:this.logValue(_2,_5.logBase,_5),_11=_9-_10;if(_11==0){return 0}else{return(this.logValue(_1,_5.logBase,_5)-_10)/_11}}},isc.A.getYCoord=function isc_FacetChart_getYCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&!this.hasYGradations(_3)){if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.y:null)}}else{return this.getValueCoord(_1,null,_2)}},isc.A.$111k=function isc_FacetChart__completeCriteria(_1,_2){_2=_2||this;var _3=this.getDataLabelFacet(),_4=this.getFacetValue(_3.id,_1[_3.id]),_5,_6={};if(_4==null){return null}else{_6[_3.id]=_4.id}
if(this.isMultiFacet()){_5=this.getLegendFacet();var _7=_2.chartType,_8=(_7=="Bar"||_7=="Column")&&!this.isStacked(_2),_9=_2.isMultiFacet()&&_8&&(_5.values.length>1);if(_9){var _10=this.getFacetValue(_5.id,_1[_5.id]);if(_10==null){return null}else{_6[_5.id]=_10.id}}else{_6[_5.id]=_5.values[0].id}}
var _11=(this.inlinedFacet!=null&&this.inlinedFacet!=_3&&this.inlinedFacet!=_5?this.inlinedFacet:null);if(_11!=null){var _9=(_11.values.length>1);if(_9){var _12=this.getFacetValue(_11.id,_1[_11.id]);if(_12==null){return null}else{_6[_11.id]=_11.values[0].id}}else{_6[_11.id]=_11.values[0].id}}
return _6},isc.A.getValueCoord=function isc_FacetChart_getValueCoord(_1,_2,_3){if(_2==null)_2=true;var _4=this.getValueRatio(_1,null,null,null,_3);var _5,_6;if(_2){_5=this.getChartTop();_6=this.getChartHeight();return _5+_6-Math.round(_4*_6)}else{_5=this.getChartLeft();_6=this.getChartWidth();return _5+Math.round(_4*_6)}},isc.A.getXCoord=function isc_FacetChart_getXCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&!this.hasXGradations(_3)){if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.x:null)}}else{return this.$1069(_1,null,null,null,_2)}},isc.A.$1069=function isc_FacetChart__getXCoord(_1,_2,_3,_4,_5){_5=_5||this;var _6=_5.chartType;if((_3==null||_2==null)&&_6=="Scatter"){_2=this.$128a;_3=this.$128b}
var _7=this.getValueRatio(_1,_2,_3,_4,_5),_8=this.getChartRect();return _8.left+Math.round(_7*_8.width)},isc.A.getDataLabels=function isc_FacetChart_getDataLabels(){if(this.$106x)return this.$106x;if(this.chartType=="Scatter")return(this.$106x=this.getSecondGradations());var _1=this.getOrderedData();return(this.$106x=_1.getProperty("title"))},isc.A.getDataLabelHeight=function isc_FacetChart_getDataLabelHeight(){return this.measureLabel("Xy",this.dataLabelProperties).height},isc.A.getXLabelsHeight=function isc_FacetChart_getXLabelsHeight(_1){if(!_1&&this.xLabelsHeight!=null)return this.xLabelsHeight;if(this.chartType=="Radar"||this.isPieChart()||this.showInlineLabels){return(this.xLabelsHeight=0)}
if(this.hasXGradations()){return this.getGradationsHeight()+this.getValueAxisLabelHeight()}
if(this.$116c()){this.xLabelsHeight=this.measureDataLabels()}else{this.xLabelsHeight=this.getDataLabelHeight()}
this.xLabelsHeight+=this.getDataAxisLabelHeight();return this.xLabelsHeight},isc.A.getYLabelsWidth=function isc_FacetChart_getYLabelsWidth(_1){if(!_1&&this.yLabelsWidth!=null)return this.yLabelsWidth;if(this.hasYGradations()){var _2=this.getGradationsWidth();if(this.$104g()){return _2+this.getValueAxisLabelHeight()}else{return this.$104f}}else{return(this.yLabelsWidth=this.measureDataLabels()+this.getDataAxisLabelHeight())}},isc.A.measureDataLabels=function isc_FacetChart_measureDataLabels(_1,_2){return this.measureLabels(null,_1,_2)},isc.A.measureLabels=function isc_FacetChart_measureLabels(_1,_2,_3){_1=_1||this.getDataLabels();_2=_2||"width";_3=_3||this.dataLabelProperties;var _4=0;for(var i=0;i<_1.length;i++){var _6=this.measureLabel(_1[i],_3)[_2];_4=Math.max(_4,_6)}
return _4},isc.A.$107a=function isc_FacetChart__getGradationLabelHeight(_1){_1=_1||this;return this.measureLabel("Xy",_1.gradationLabelProperties).height},isc.A.$1035=function isc_FacetChart__hasExtraAxes(){return this.$1038!=null},isc.A.$1039=function isc_FacetChart__getExtraAxisMetrics(){return this.$1038},isc.A.$1036=function isc_FacetChart__getExtraAxisSettings(){return this.$104a},isc.A.$103u=function isc_FacetChart__getFixedFacetValue(_1){var _2=this.getLegendFacet(),_3=_2&&_2.id,_4=_1.fixedFacetValue;if(_2==null){return null}else if(isc.isA.String(_4)||isc.isA.Number(_4)){return this.getFacetValue(_3,_4)}else if(isc.isA.Object(_4)){var _5=this.getFacetValue(_3,_4.id);return(_5==_4?_5:null)}else{return null}},isc.A.$103p=function isc_FacetChart__getValueAxisGradationLabelLeft(_1){var _2=this.$1036(),_3=this.$103v(_1);if(_1==this){_3+=this.$104f-this.$85f}else{var _4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.right.indexOf(_1)!=-1){_3+=_5+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin}else{_3+=_1.$104f-_1.$85f-_5
-this.gradationTickMarkLength-this.tickMarkToValueAxisMargin}}
return _3},isc.A.$103q=function isc_FacetChart__getValueAxisGradationLineLeft(_1){var _2=this.$1036(),_3=this.$103v(_1),_4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.left.indexOf(_1)!=-1){_3+=_1.$104f-_5-this.gradationTickMarkLength}else{_3+=_5}
return _3},isc.A.$104p=function isc_FacetChart__getValueAxisLineLeft(_1){var _2=this.$104n(_1).lineWidth||0,_3=Math.floor(_2/2),_4=this.$103v(_1),_5=this.$1036();if(_5.left.indexOf(_1)!=-1){_4+=_1.$104f+(_3-_2)}else{_4+=_3}
return _4},isc.A.$103v=function isc_FacetChart__getValueAxisLeft(_1){var _2=this.$1036();var _3;if(_1==this){_3=this.getChartLeft()-this.$1236-this.$104f}else{var _4=_2.left,_5=_2.right,_6=_4.findIndex(_1),_7=_5.findIndex(_1),_8=this.valueAxisMargin;if(_7==-1){_3=(_4.length-1-_6)*_8;for(var i=_4.length;--i>_6;){_3+=_4[i].$104f}}else if(_6==-1){_3=this.getChartLeft()+this.getChartWidth()+this.$1237+_7*_8;for(var i=0;i<_7;++i){_3+=_5[i].$104f}}}
return _3},isc.A.$104o=function isc_FacetChart__drawValueAxisLine(_1){var _2=this.$104m(_1);if(_2){var _3=this.getChartTop(),_4=this.getChartHeight(),_5=this.$104p(_1),_6=this.$104n(_1);isc.DrawLine.create(_6,{autoDraw:true,drawPane:this,startLeft:_5,startTop:_3,endLeft:_5,endTop:_3+_4})}},isc.A.$104i=function isc_FacetChart__getNumValueAxes(){return 1+(this.$1035()?this.$1036().all.length:0)},isc.A.$104g=function isc_FacetChart__hasSideValueAxisLabels(){if(!this.$1035()||(this.hasYGradations()&&!this.$1057)){return true}else{var _1=this.$1036();return(_1.left.length==0&&_1.right.length==1)}});isc.evalBoundary;isc.B.push(isc.A.$104e=function isc_FacetChart__getValueAxisLabelsHeight(_1){if(!_1&&this.$104j!=null){return this.$104j}
var _2=0;if(!this.$104g()){var _3=this.$1036(),_4=this.$104i();for(var j=0;j<_4;++j){var _6=(j==0?this:_3.all[j-1]);if(this.shouldShowValueAxisLabel(_6)){var _7=this.measureLabel(_6.valueTitle,_6.valueAxisLabelProperties).height;_2=Math.max(_2,_7)}}}
return(this.$104j=_2)},isc.A.$104m=function isc_FacetChart__shouldShowValueAxisLine(_1){if(_1==this||_1.showAxis==false){return false}
var _2=this.$1036(),_3=_1.showAxisLine;return(_2.right.length==0||_1!=_2.right[0])&&(_3!=null?_3:this.showChartRect)},isc.A.$104n=function isc_FacetChart__getValueAxisLineProperties(_1){if(_1.axisLineProperties!=null){return _1.axisLineProperties}else{var _2={};if(isc.isAn.Object(this.chartRectProperties)){var _3=this.chartRectProperties;if(_3.lineCap!=null)_2.lineCap=_3.lineCap;if(_3.lineColor!=null)_2.lineColor=_3.lineColor;if(_3.lineOpacity!=null)_2.lineOpacity=_3.lineOpacity;if(_3.linePattern!=null)_2.linePattern=_3.linePattern;if(_3.lineWidth!=null)_2.lineWidth=_3.lineWidth}
return _2}},isc.A.$104b=function isc_FacetChart__createExtraAxisLegendSwatch(_1,_2,_3,_4,_5){var _6=_5,_7=_5,_8=_1.chartType,_9=[];if(_8=="Column"){var _10=2;var _11=3,_12=5;var _13=this.$103i;var _14=this.$107b(_2,_1),_15=this.$99i(_2,null,null,_1);var _16=Math.floor((_6+_10)/(_11+_10)),_17=Math.floor((_6+_10)/(_12+_10)),_18,_19,_20;for(_18=_16;_18>=_17;--_18){_19=Math.min((_6+_10)/_18)-_10;_20=_6+_10-_18*(_19+_10);if(_20%2==0)break}
var _21=_3+Math.max(_20/2);for(var i=0;i<_18;++i){var _23=Math.round(_13[i%_13.length]*_7);var _24=isc.addProperties({},this.barProperties,{drawPane:this,autoDraw:false,width:_19,height:_23,left:_21,top:_4+_7-_23});if(!this.useAutoGradients){_24.fillColor=_14}else{_24.fillGradient=_15}
_9.push(isc.DrawRect.create(_24));_21+=_19+_10}}else if((_8=="Area"||_8=="Line")&&this.isFilled(_1)){var _25=1,_26=3;var _13=this.$103i;var _14=this.$107b(_2,_1),_15=this.$99i(_2,null,null,_1);var _27=Math.floor((_6+1)/(_25+1)),_28=Math.floor((_6+1)/(_26+1)),_29,_30,_20;for(_29=_27;_29>=_28;--_29){_30=Math.min((_6+1)/_29)-1;_20=_6+1-_29*(_30+1);if(_20%2==0)break}
var _31=[];var x=_3+Math.max(_20/2);for(var i=0;i<_29;++i){var _33=_13[i%_13.length];_31.push([x,_4+Math.round(_7*(1-_33))]);x+=_30+1}
var _34=_31.duplicate();_34.add([_31.last()[0],_4+_7]);_34.add([_31.first()[0],_4+_7]);_9.addList([this.drawDataLineSegment(_31,0,_31.length,{lineColor:_14},_1,false,false),this.$120t(_34,{lineColor:_14,fillColor:!this.useAutoGradients?_14:null,fillGradient:this.useAutoGradients?_15:null},false,false,_1)])}else if(_8=="Area"||_8=="Line"){var y=_4+Math.round(_7/2),_36=[_3,y],_37=[_3+Math.round(_6/2),y],_38=[_3+_6,y],_39=Math.min(_1.dataPointSize,_5);_9.push(this.drawDataLineSegment([_36,_38],0,2,{lineColor:this.$107b(_2,_1),shadow:null},_1,false,false));if(_1.showDataPoints){_9.push(this.drawDataPoint(_37,_2,_39,null,null,_1,false,false))}}
return isc.DrawGroup.create(this.legendSwatchProperties,{drawPane:this,autoDraw:true,drawItems:_9,left:_3,top:_4,width:_6,height:_7})},isc.A.$104z=function isc_FacetChart__getMetricSettingsDefaults(){var _1={multiFacet:this.isMultiFacet(),chartType:"Line"};var _2=["gradationLabelProperties","gradationLineProperties","gradationZeroLineProperties","showDataPoints","dataPointSize","logScale","useLogGradations","logBase","logGradations","decimalPrecision","showShadows","shadowProperties","dataLineProperties","dataOutlineProperties","dataShapeProperties","valueLineProperties","valueAxisLabelProperties","dataPointProperties","formatAxisValue","formatDataValue"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=isc.FacetChart.getInstanceProperty(_5)}
return _1},isc.A.$1037=function isc_FacetChart__initExtraAxes(){var _1=this.extraAxisMetrics,_2=this.extraAxisSettings;if(!(_1!=null&&isc.isAn.Array(_1)&&!_1.isEmpty())){this.$1038=null;this.$104a=null;return}
if(_2==null||!isc.isAn.Array(_2)){_2=[]}
this.$1038=_1;this.$104a={left:[],right:[],all:_2,visible:[],hidden:[]};var _3,_4;if(!this.isMultiFacet()){_3=_4=(this.chartType=="Column"?this.getDataLabelFacet().values.length:1)}else{_3=_4=this.getLegendFacet().values.length}
var _5=_1.length,_6=0,_7=_5>0&&this.$104z(),_8=this.getLegendFacet(),_9=this.$111a();for(var i=0;i<_5;++i){var j=i-_6,_12=_1[j],_13,_14=!(isc.isA.String(_12)&&(_9?this.getFacetValue(_9.id,_12)!=null:(_12==this.valueProperty)));if(!_14){_13=_2[j]=isc.addDefaults(_2[j]||{},_7);var _15=_13.chartType;if(_15==null){_15=_13.chartType=(i==0&&this.chartType!="Column"?"Column":"Line")}
if(_15=="Radar"||this.isPieChart(_15)){_14=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a non-rectangular chart type, which is not allowed.  Skipping this extra value axis.")}else if(!this.hasYGradations(_15)){_14=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a chart type which does not use a vertical value axis and thus is not supported as an extra value axis.  Skipping this extra value axis.")}}
var _16,_17;if(!_14){var _16=!(this.isMultiFacet()&&_13.multiFacet),_17=_16?this.$103u(_13):null;_16&=(!this.isMultiFacet()||_17!=null);var _18={};if(_9!=null){_18[_9.id]=_12}
if(_17!=null&&_8!=null&&_8!=_9){_18[_8.id]=_17.id}
var _19=this.getValue(_18,true),_20=true;for(var l=(_19!=null?_19.length:0);_20&&l--;){_20=!isc.isA.Number(_19[l])}
_14=_20}
if(_14){_1.removeAt(j);_2.removeAt(j);++_6;continue}
var _22=_13.filled;_13.$103o=_12;_13.$103x=!_16;_13.$1029=_17;if(_13.showAxis===false){this.$104a.hidden.push(_13)}else{var k=this.$104a.visible.length;this.$104a[(k%4<2)?"right":"left"].push(_13);this.$104a.visible.push(_13)}
var _24=this.$1046,_25=isc.isAn.Array(_13.dataColors)||(isc.isA.Function(_13.getDataColor)&&_13.getDataColor!=_24.getDataColor),_26=isc.isAn.Array(_13.dataGradients)||(isc.isA.Function(_13.getDataGradient)&&_13.getDataGradient!=_24.getDataGradient);isc.addDefaults(_13,_24);isc.addProperties(_13,{$103y:this,$103z:_25,$1031:_26,$1030:_3,$1032:_4,isMultiFacet:function(){return this.$103x},getXCoord:function(_55){var _27=this.$103y;return _27.getXCoord.apply(_27,[_55,this])},getYCoord:function(_55){var _27=this.$103y;return _27.getYCoord.apply(_27,[_55,this])},getGradations:function(){var _27=this.$103y;return _27.getGradations.apply(_27,[this])},setChartType:function(_15){var _27=this.$103y;return _27.setChartType.apply(_27,[_15,this])},setStacked:function(_55){var _27=this.$103y;return _27.setStacked.apply(_27,[_55,this])},setFilled:function(_55){var _27=this.$103y;return _27.setFilled.apply(_27,[_55,this])},setDataColors:function(_55){var _27=this.$103y;return _27.setDataColors.apply(_27,[_55,this])}});if(!_25){if(_16){_3+=(_15=="Column"?this.getDataLabelFacet().values.length:1)}else{_3+=this.getLegendFacet().values.length}}
if(!_26){if(_16){_4+=(_15=="Column"?this.getDataLabelFacet().values.length:1)}else{_4+=this.getLegendFacet().values.length}}}
if(_1.isEmpty()){this.$1038=null;this.$104a=null;return}
var _28=this.$1065(),_29=_28&&_28.values[0],_30=_29&&_29.id;_5=_1.length;for(var j=0;j<_5;++j){var _12=_1[j],_13=_2[j];if(_13.matchGradations!=null){var k=_1.indexOf(_13.matchGradations),_31=(k!=-1?_2[k]:(_13.matchGradations==_30?this:null));if(_31!=null&&_13!=_31&&(_13.$124a==null||_13.$124a!=_31.$124a))
{var _32=(_13.logScale!=null),_33=(_31.logScale!=null),_34=null,_35=true;if(_32^_33){if(_32){_35=_13.logScale;_34=_31}else{_35=_31.logScale;_34=_13}}else if(_32&&_13.logScale!=_31.logScale){this.logWarn("The extra axis settings for metric '"+_13.$103o+"' "+(_13.logScale?"has":"does not have")+" a log scale, whereas the extra axis settings specified by its matchGradations property "+(_31.logScale?"has":"does not have")+" a log scale.  Assuming a log scale for the extra value axis for metric '"+(_13.logScale?_31.$103o:_13.$103o)+"'.");_35=true;_34=(_13.logScale==_35?_31:_13)}
if(_34!=null){_34.logScale=_35;if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].logScale=_35}}}
var _36=(_13.logBase!=null),_37=(_31.logBase!=null),_38=2;_34=null;if(_36^_37){if(_36){_38=_13.logBase;_34=_31}else{_38=_31.logBase;_34=_13}}else if(_36&&_13.logBase!=_31.logBase){_38=Math.max(_13.logBase,_31.logBase);this.logWarn("The extra axis settings for metric '"+_13.$103o+"' uses logBase "+_13.logBase.toString()+" but the extra axis settings specified by its matchGradations property uses logBase "+_31.logBase.toString()+".  Assuming a logBase of "+_38.toString()+" for both extra value axes.");_34=(_13.logBase==_38?_31:_13)}
if(_34!=null){var _39=(_34.$124a||[_34]);for(var l=_39.length;l--;){if(isc.isAn.Array(_39[l].logGradations)){var _40=_39[l].logBase,_41=_39[l].logGradations,_42=[1];for(var m=0;m<_41.length;++m){var _44=_41[m];if(isc.isAn.Number(_44)&&1<_44&&_44<_40)
{_42.push(_44*_38/_40)}}
_39[l].logGradations=_42}
_39[l].logBase=_38}}
var _45=this.$127s(true,_13),_46=this.$127s(true,_31),_47=Math.max(_45,_46);_34=null;if(_45<_47){_34=_13}else if(_46<_47){_34=_31}
if(_34!=null){if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].minDataSpreadPercent=_47}}else{_34.minDataSpreadPercent=_47}}
var _48=(_13.axisStartValue!=null),_49=(_31.axisStartValue!=null),_50=null;_34=null;if(_48){if(_49){_50=Math.min(_13.axisStartValue,_31.axisStartValue);if(_50<_13.axisStartValue){_34=_13}else if(_50<_31.axisStartValue){_34=_31}}else{_50=_13.axisStartValue;_34=_31}}else if(_49){_50=_31.axisStartValue;_34=_13}
if(_34!=null){_34.axisStartValue=_50;if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].axisStartValue=_50}}}
var _51=[_13,_31];_51.sortUnique=true;if(_13.$124a!=null){_51.addAll(_13.$124a)}
if(_31.$124a!=null){_51.addAll(_31.$124a)}
_13.$124a=_31.$124a=_51}}}
var _52=this.$104a.groups=[];_52.sortUnique=true;for(var j=0;j<_5;++j){var _53=_2[j].$124a;if(_53==null){_52.add([_2[j]])}else{_52.add(_53);if(_53.contains(this)){this.$104a.mainGroup=_53}}
delete _2[j].$124a}
var _54=this.$104a.mainGroup;if(_54==null){_54=this.$104a.mainGroup=[this]}else{var _54=this.$104a.mainGroup;this.$104a.groups.remove(_54)}
this.$104a.groups.unshift(_54);_54.remove(this);_54.unshift(this)},isc.A.$1049=function isc_FacetChart__getValueAxisIndex(_1){if(_1==this){return 0}else{var _2=this.$1036(),_3=_2.left.indexOf(_1);if(_3!=-1){_3=-(1+_3)}else{_3=_2.right.indexOf(_1);_3=1+_3}
return _3}},isc.A.changeValueAxisPositions=function isc_FacetChart_changeValueAxisPositions(_1){if(!this.$1035()){return}
var _2=this.$1036();var _3=isc.FacetChart.$105b,_4=isc.FacetChart.$105c,_5=isc.isA.Array(_1)&&_1.length%2==0,_6=-_2.left.length,_7=_2.right.length,_8,_9;for(var i=0,_11=_1.length;i<_11;i+=2){var _12=_1[i],_13=_1[i+1];_5=isc.isA.Number(_12)&&isc.isA.Number(_13)&&Math.round(_12)==_12&&Math.round(_13)==_13&&_12!=0&&_13!=0&&_6<=_12&&_12<=_7&&_3(_1,_12,i+2)==-1&&_4(_1,_13,i+3)==-1;_8=i!=0?Math.min(_8,_13):_13;_9=i!=0?Math.max(_9,_13):_13}
var _14,_15;if(_5){_14=Math.min(_6,_8);_15=Math.max(_7,_9);while(_14<=_15&&!(_4(_1,_14)!=-1||_3(_1,_14)==-1)){++_14}
while(_15>_14&&!(_4(_1,_15)!=-1||_3(_1,_15)==-1)){--_15}
_5=(_7-_6==_15-_14)&&_14<=0&&0<=_15}
if(!_5){this.logWarn("An invalid indexMap argument was passed to FacetChart.changeValueAxisPositions().");return}
var _16=[],_17=[],_18=[];for(var i=_6;i<=_7;++i){if(i==0){continue}
var j=_3(_1,i),_12=j!=-1?_1[j]:i,_13=j!=-1?_1[j+1]:i,_20;if(_12>0){_20=_2.right[_12-1]}else if(_12<0){_20=_2.left[-_12-1]}
if(_13>0){_18[_13-1]=_20}else{_17[-_13-1]=_20}}
_2.left=_17;_2.right=_18;this.$105a(false)},isc.A.$105d=function isc_FacetChart__hoverValueAxisLabel(_1){if(_1!=this.$105e){this.$105f();var _2=_1.$1048;_1.$105g=_2.lineColor;_2.lineColor=this.$1047;_2.erase();_2.setDrawPane(this);_2.draw();this.$105e=_1}},isc.A.$105f=function isc_FacetChart__unhoverValueAxisLabel(){var _1=this.$105e;if(_1!=null){var _2=_1.$1048;_2.lineColor=_1.$105g;_2.erase();_2.setDrawPane(this);_2.draw();delete this.$105e}},isc.A.getChartCenter=function isc_FacetChart_getChartCenter(_1){_1=_1||this.getChartRect();return[Math.round(_1.left+(_1.width/2)),Math.round(_1.top+(_1.height/2))]},isc.A.getChartRadius=function isc_FacetChart_getChartRadius(_1){_1=_1||this.getChartRect();var _2=this.radialLabelOffset,_3=this.getChartRectLineWidth();if(this.isPieChart()&&this.isStacked())_2+=this.pieLabelLineExtent;var _4=2*(this.measureDataLabels()+_2),_5=2*(this.getDataLabelHeight()+_2),_6=Math.min(_1.width-_4,_1.height-_5),_7=this.maxRadius=Math.round((_6-(2*_3))/2);return _7},isc.A.drawRadarGradations=function isc_FacetChart_drawRadarGradations(_1){var _2=this.getChartRect(),_1=_1||this.gradations,_3=this.getChartRadius(_2);isc.DrawOval.create(this.radarBackgroundProperties,{drawPane:this,autoDraw:true,centerPoint:this.getChartCenter(),radius:_3});var _4=this.getChartCenter(),_5=this.showRadarGradationLabels;for(var i=0;i<_1.length;i++){var _7=this.getValueRatio(_1[i])*_3;if(_7!=0){isc.DrawOval.create(_1[i]==0?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,autoDraw:true,centerPoint:_4,radius:_7})}
if(_5){var _8=this.radarGradationLabelOffset;this.drawLabel(_4[0]+_8,_4[1]-_7-(this.getDataLabelHeight()/2)+_8,this.formatAxisValue(_1[i],true),this.gradationLabelProperties)}}},isc.A.drawRadarData=function isc_FacetChart_drawRadarData(_1,_2,_3){_1=_1||this.getChartRect();_3=_3||this.getOrderedData();_2=_2||this.getMaxGradation();var _4=this.getDataLabelFacet();if(this.$107c()){this.drawRadarSet(_4);return}
var _5=this.getChartCenter();var _6=Math.round(360/_4.values.length);for(var i=0;i<_3.length;i++){var _8=_6*i,_9=isc.GraphMath.polar2screen(_8,this.maxRadius,_5,true);this.drawValueLine(_5,_9);var _10={id:_3[i].facetValueId,title:_3[i].title};this.drawRadialLabel(_5,this.maxRadius,_8,_3[i].title,_10)}
this.$127x(undefined,undefined,undefined,undefined,this,true)},isc.A.drawRadarSet=function isc_FacetChart_drawRadarSet(_1){var _2=Math.round(360/_1.values.length);var _3=this.getChartCenter();for(var i=0;i<_1.values.length;i++){var _5=_1.values[i];var _6=(i*_2);var _7=isc.GraphMath.polar2screen(_6,this.maxRadius,_3,true);this.drawValueLine(_3,_7);var _8=_1.values[i].title||_1.values[i].id;var _9=_6+Math.round(_2/2);this.drawRadialLabel(_3,this.maxRadius,_9,_8);var _10={};_10[_1.id]=_5.id;var _11=this.getDataRecord(_10);if(_11==null)return;this.drawPointsAcrossAngle(_11,_6+this.angleMargin,_6+_2-this.angleMargin)}},isc.A.drawPointsAcrossAngle=function isc_FacetChart_drawPointsAcrossAngle(_1,_2,_3){var _4=Math.round((_3-_2)/_1.length),_5=this.getChartCenter(),_6=this.getMaxValue(),_7,_8,_9;var _10=this.$1065();if(_10){_8=_10.values[1].id;_7=_10.values[0].id;_9=this.getMaxValue(_8)}
for(var i=0;i<_1.length;i++){var _12=_1[i];var _13,_14=this.dataPointSize;if(_10){_13=parseFloat(_12[_7]);var _15=parseFloat(_12[_8]);_14=Math.max(this.minDataPointSize,Math.ceil((_15/_9)*this.maxDataPointSize))}else{_13=_12[this.getDefaultMetric()]}
var _16=Math.round((_13/_6)*this.maxRadius);var _17=isc.GraphMath.polar2screen(_2+(i*_4),_16,_5,true);this.drawDataPoint(_17,0,_14,_12,_13,null,null,true)}},isc.A.drawRadialLabel=function isc_FacetChart_drawRadialLabel(_1,_2,_3,_4,_5){var _6=this.$100k(_1,_2,_3,_4,this.dataLabelProperties);var _7=this.drawLabel(_6[0],_6[1],_4,this.dataLabelProperties);this.$129o(_7,_5)},isc.A.$100k=function isc_FacetChart__getRadialLabelCoordinates(_1,_2,_3,_4,_5){var _6=isc.GraphMath.polar2screen(_3,_2+this.radialLabelOffset,_1,true);var _7=this.measureLabel(_4,_5);if(_3>=360)_3-=360;if(_3>180&&_3<=360){_6[0]-=_7.width}
if((_3>=0&&_3<90)||(_3>270&&_3<=360)){_6[1]-=_7.height}
var _8=isc.GraphMath.angleDifference(0,_3),_9=isc.GraphMath.angleDifference(_3,180),_10=isc.GraphMath.angleDifference(90,_3),_11=isc.GraphMath.angleDifference(_3,270),_12=Math.min(Math.abs(_8),Math.abs(_9)),_13=Math.min(Math.abs(_11),Math.abs(_10));if(_12<=20){var _14=Math.abs(_8)==_12?_8:_9,_15=_14==_12?1:-1,_16=_15*(_7.width/2),_17=1-(_12/20),_18=Math.round(_17*_16);_6[0]-=Math.round(_17*_16)}else if(_13<=20){var _14=Math.abs(_11)==_13?_11:_10,_15=_14==_13?1:-1,_16=_15*(_7.height/2),_17=1-(_13/20),_18=Math.round(_17*_16);_6[1]-=_18}
return[_6[0],_6[1]]},isc.A.formatAxisValue=function isc_FacetChart_formatAxisValue(_1,_2){var _3=Math.pow(10,this.decimalPrecision);var _4=Math.round(_1*_3)/_3;return isc.Format.toUSString(_4)},isc.A.formatDataValue=function isc_FacetChart_formatDataValue(_1){var _2=Math.pow(10,this.decimalPrecision);var _3=Math.round(_1*_2)/_2;return isc.Format.toUSString(_3)},isc.A.getOrderedData=function isc_FacetChart_getOrderedData(_1){if(this.orderedData&&!_1)return this.orderedData;if(this.chartType=="Scatter"){var _2=this.getLegendFacet(),_3;if(_2!=null){_3=new Array(_2.values.length);for(var j=0;j<_2.values.length;++j){var _5=_2.values[j],_6={};_6[_2.id]=_5.id;var _7=this.getDataRecord(_6,true),_8=_3[j]={facetValueId:_5.id,title:_5.title||_5.id},_9=_8.series=new Array(_7.length);for(var i=_7.length;i--;){_9[i]={record:_7[i]}}}}else{var _7=this.getDataRecord({},true);_3=new Array(_7.length);for(var i=_7.length;i--;){_3[i]={record:_7[i]}}}
this.orderedData=_3;return _3}
var _3=this.orderedData=[],_11=this.$107c(),_12=this.getDataLabelFacet()||this.getLegendFacet();var _13=_12.values,_14={};if(this.isMultiFacet()){var _15=this.getLegendFacet(),_16=_15.values;for(var i=0;i<_13.length;i++){var _6={};_6[_12.id]=_13[i].id;var _8={title:_13[i].title||_13[i].id,facetValueId:_13[i].id,series:[]}
_3.add(_8);for(var j=0;j<_16.length;j++){var _17=_16[j];var _18={facetValueId:_16[j].id,title:_16[j].title||_16[j].id};_8.series.add(_18);_6[_15.id]=_16[j].id;_18.record=this.getDataRecord(_6,_11);_18.value=this.getValueFromRecord(_18.record,_6,_11)}}}else{var _6={};for(var i=0;i<_13.length;i++){var _17=_13[i];var _18={title:_17.title||_17.id,facetValueId:_17.id};_3.add(_18);_6[_12.id]=_13[i].id;_18.record=this.getDataRecord(_6,_11);_18.value=this.getValueFromRecord(_18.record,_6,_11)}}
return _3},isc.A.$157a=function isc_FacetChart__drawData(_1,_2,_3,_4,_5){var _6=this.$1035(),_7=this.$104i(),_8=1+_7,_9=_6&&this.$1036().all;for(var i=0,_11=(_6?3*_7:1);i<_11;++i){var j=i%_7,k=(i-j)/_7,_14=(j==0?this:_9[j-1]);if(_6){var _15=(_14.chartType=="Column"),_16=(!_15&&(_14.chartType=="Area"||(_14.chartType=="Line"&&_14.filled))),_17=!(_15||_16)&&(_14.chartType=="Line");if(!((k==0&&_15)||(k==1&&_16)||(k==2&&_17))){continue}}
if(_14.chartType=="Column"||_14.chartType=="Bar"){this.$127y((_14==this?_3:null),_4,_14,!_5)}else if(_14.chartType=="Line"||_14.chartType=="Area"){this.$127x((_14==this?_1:null),(_14==this?_2:null),(_14==this?_3:null),_4,_14,!_5)}else if(_14.chartType=="Radar"){this.drawRadarData()}else if(this.isPieChart(_14.chartType)){this.drawPieData()}else if(_14.chartType=="Scatter"){this.drawScatterData(_4)}else{this.logWarn("chart type: '"+_14.chartType+"' not supported")}}
var _18=this.getOrderedData(),_19=false;for(var j=0;j<_7&&!(_5&&_19);++j){var _14=(j==0?this:_9[j-1]);_19=this.$1003(_18,_14,_5)}
return _19},isc.A.$122z=function isc_FacetChart__getDiscontinuousLines(_1){_1=_1||this;var _2=false;if(this.chartType!="Scatter"){var _3=this.$1068(),_4=_3[0].index,_5=_3[1].index,_6=_5-_4+1;_2=this.isFilled(_1)&&_6>=2}
return(_1.discontinuousLines!=null?_1.discontinuousLines:_2)},isc.A.$127x=function isc_FacetChart__drawLines(_1,_2,_3,_4,_5,_6){var _7=this.getChartRect(),_8=this.getOrderedData(),_9=_5.$127t;var _10=this.$1068();var _11=_10[0].dataValue,_12=_10[1].dataValue;var _13=_10[0].index,_14=_10[1].index,_15=_14-_13+1;var _16=(this.$107d()||_1==null||_15==1);var _17=_5.chartType=="Radar";var _18,_19,_20,_21;if(_17){_18=this.getChartCenter();_19=Math.round(360/this.getDataLabelFacet().values.length)}else{var _22=(this.$1035()&&isc.isA.Number(this.$104c)?this.$104c:this.dataMargin),_23=(_7.width-2*_22);_20=_7.left+_22;_21=_15>1?_23/(_15-1):0}
var _24=this.isMultiFacet(),_25=_5.isMultiFacet()&&this.isStacked(_5),_26=this.isFilled(_5)&&_15>=2;var _27=_5.isMultiFacet()?_8[0].series.length:1;var _28=(_5!=this),_29;if(_28){_29=_5.$103o}
var _30=this.$122z(_5),_31,_32,_33,_34,_35,_36,_37=this.getChartRect(),_38=_37.top+_37.height,_39=[NaN,NaN],_40,_41,_42,k=_13,_44=[];if(_6&&_26&&_25&&_30){_31=new Array(_15);_32=new Array(_15)}
for(var i=0;i<_27;++i){var _46,_47,_48=null;if(this.isMultiFacet()&&(!_28||_5.isMultiFacet())){var _49=_8.getProperty("series").getProperty(i);_47=_49.getProperty("record");_46=_28?_47.getProperty(_29):_49.getProperty("value");_48=i}else{if(_28){if(this.isMultiFacet()){var _50=this.$103u(_5);_48=this.getLegendFacet().values.findIndex("id",_50.id);var _49=_8.getProperty("series").getProperty(_48);_47=_49.getProperty("record")}else{_47=_8.getProperty("record")}}
_46=(_28?_47.getProperty(_29):_8.getProperty("value"))}
if(_25){_41=this.addValues(_46,_41)}else{_41=_46}
var _51=(i%2!=0);_42=_51?-1:1;var _52=_6&&[],_53=_26&&[],_54=false,_55=false,_56=(!_17?true:this.connected&&(!isc.isA.Number(_46[_51?_13:_14])||_41[_51?_13:_14]<_9)),_57=(!isc.isA.Number(_46[k])||_41[k]<_9);for(var j=0;j<_15;++j,k+=_42){var _59=(j<_15-1?(!isc.isA.Number(_46[k+_42])||_41[k+_42]<_9):(!_17?true:this.connected&&(!isc.isA.Number(_46[_51?_14:_13])||_41[_51?_14:_13]<_9)));var _60=_41[k],_61;if(i==0&&!_17){_44[k]=(_16?Math.round(_20+(k-_13)*_21):this.$1069(_8[k].title,_11,_12,_2,_5))}
if(_57){if(k==_13){_54=true}else if(k==_14){_55=true}
_61=_39}else if(_17){var _62=this.getValueRatio(_60),_63=Math.round(_62*this.maxRadius),_64=_19*(k-_13);_61=isc.GraphMath.polar2screen(_64,_63,_18,true)}else{_61=[_44[k],this.getYCoord(_60,_5)]}
if(_6){_52.push(_61)}
if(_6&&_26){if(_57){if(_25&&_30){var _65=_31[k-_13],_66=_32[k-_13];if(_65==_66){var _67=(_65||(_17?_18:[_44[k],_38]));_53.push(_67)}else{_65=_65||(_17?_18:[_44[k],_38]);_66=_66||(_17?_18:[_44[k],_38]);if(_51){_53.push(_66);_53.push(_65)}else{_53.push(_65);_53.push(_66)}}}}else{if(_30&&_56){var _68=(_51?_32:_31),_67=((_25&&_68[k-_13])||(_17?_18:[_44[k],_38]));_53.push(_67)}
_53.push(_61);if(_30&&_59){var _68=(_51?_31:_32),_67=((_25&&_68[k-_13])||(_17?_18:[_44[k],_38]));_53.push(_67)}
if(_25){if(_30){if(!_56||(k==(_51?_14:_13)&&!_17&&!_59)){(_51?_32:_31)[k-_13]=_61}
if(!_59||(k==(_51?_13:_14)&&!_17&&!_56)){(_51?_31:_32)[k-_13]=_61}}else{if(k==_13){_35=_61}else if(k==_14){_36=_61}}}}}
if(!_57){var _69=this.$1040(_5,k,_48);_69.drawnX=_61[0];_69.drawnY=_61[1];_69.value=_46[k]}
_56=_57;_57=_59}
if(_17&&this.connected){if(!(_54||_55)){_52.add(_52[0])}
if(_26&&_53.length>0){_53.add(_53[0])}}
k-=_42;var _70,_71;if(_6){_70=this.$107b(i,_5);_71={lineColor:_70};this.drawDataLine(_52,_71,_5)}
if(_6&&_26){if(_40==null||!_25){if(_17){_40=[]}else{_33=[_44[_13],_38];_34=[_44[_14],_38];if(_42==1){_40=[_34,_33]}else{_40=[_33,_34]}}}
var _72=_53.concat(_40);_40=_53;if(!_30&&_26&&_25&&!_17){if(_54){var _73=_35||_33;if(_42==1)_40.unshift(_73);else _40.push(_73)}
if(_55){var _74=_36||_34;if(_42==1)_40.push(_74);else _40.unshift(_74)}}
var _75=this.useAutoGradients&&(!_24||!this.isVML);if(!_72.isEmpty()){if(!_24||_5.chartType=="Area"||_5.chartType=="Line"){this.$120t(_72,{lineColor:_70,fillColor:!_75?_70:null,fillGradient:_75?this.$99i(i,null,null,_5):null},false,true,_5)}else if(_5.chartType=="Radar"){var _76=this.$120t(_72,{lineColor:_70,fillColor:!_75?_70:null,fillGradient:null},this.connected,false,_5);if(_75){_76.fillGradient=this.getRadarShapeGradient(_70,_76,_18,i==0)}
_76.draw()}}}
if(_6&&_24&&this.$1066()!=null&&!this.$1035()){this.$127z(_52,_47,i,_7,_13,_14,_51)}
if(_6&&_5.showDataPoints){if(_47==null){_47=_8.getProperty("record")}
this.drawPoints(_52,_47,i,_41,_13,_14,_51,_5)}
if(_6&&i==0&&!_17&&_5==this){if(_3==null){this.drawDataLabels(_44,_8.getProperty("title"),true,_4,_8.getProperty("facetValueId"))}else{var _77=_3.getProperty("dataValue");var _78=_77.length;var _79=[],_80=[];if(_16){for(var l=0;l<_78;++l){var _82=_77[l],m=_8.findNextIndex(_13,"title",_82,_14,Array.DATETIME_VALUES);if(m!=-1){_79.push(Math.round(_20+(m-_13)*_21));_80.push(_3[l].label)}}}else{for(var l=0;l<_78;++l){var _82=_77[l];if(!(_82<_11||_82>_12)){_79.push(this.$1069(_82,_11,_12,_2,_5));_80.push(_3[l].label)}}}
this.drawDataLabels(_79,_80,true,_4,_77)}}}});isc.evalBoundary;isc.B.push(isc.A.getBasePoints=function isc_FacetChart_getBasePoints(_1){var _2=this.getChartRect(),y=_2.top+_2.height,_4=[[_1[0][0],y],[_1[_1.length-1][0],y]];return _4},isc.A.addValues=function isc_FacetChart_addValues(_1,_2){if(_2==null)return _1;if(_1==null)return _2;var _3=new Array(_1.length);for(var i=_1.length;i--;){var _5=_1[i],_6=_2[i];_3[i]=(isc.isA.Number(_5)?_5:0)+(isc.isA.Number(_6)?_6:0)}
return _3},isc.A.drawPoints=function isc_FacetChart_drawPoints(_1,_2,_3,_4,_5,_6,_7,_8){_8=_8||this;var _9=this.drawingType=="vml";if(_5==null||_6==null){_5=0;_6=_2.length-1}
_7=(_7===true);if(!_4)_4=[];if(this.pointSizeMetric){var _10=this.getMaxValue(this.pointSizeMetric)}
var _11=this.$107b(_3,_8);var _12=isc.DrawShape.create({lineColor:_11,fillColor:_11},_8.dataPointDefaults,_8.dataPointProperties,{drawPane:this,excludeFromQuadTree:true,autoDraw:true,commands:_16,canHover:false,$104q:_8});var _13=this.$1352(),_14=this.pointShapes[(_13?(_3%this.pointShapes.length):0)],_15,_16=[];for(var i=0,_18=_6-_5+1;i<_18;i++){var j=_7?_18-i-1:i,_20=_2[_5+i];if(this.pointSizeMetric){var _10=this.$1034(false);var _21=_20[this.pointSizeMetric];_15=Math.max(this.minDataPointSize,Math.ceil((_21/_10)*this.maxDataPointSize))}else{_15=_8.dataPointSize}
var _22=_1[j],_23=_4[_5+i];if(isc.isA.Number(_23)&&!isNaN(_22[1]))
{if(_14==this.$126c){var _24=_22[0],_25=_22[1],_26=_15/2+0.25;_16.push({type:this.$1253,args:[_24+_26,_25]},{type:this.$1255,args:[[_24,_25],_26,0,360]},this.$126j)}else if(_14==this.$126d){var _27=_22[0]-_15/2,_28=_22[1]-_15/2;if(_9){_27=_27<<0;_28=_28<<0}
_16.push({type:this.$1253,args:[_27,_28]},{type:this.$1254,args:[[_27+_15,_28],[_27+_15,_28+_15],[_27,_28+_15]]},this.$126j)}else if(_14==this.$126e){var _24=_22[0],_25=_22[1],_29=_15/2+0.8;_16.push({type:this.$1253,args:[_24,_25-_29]},{type:this.$1254,args:[[_24+_29,_25],[_24,_25+_29],[_24-_29,_25]]},this.$126j)}else{var _24=_22[0],_25=_22[1],_29=_15/2+0.8;_16.push({type:this.$1253,args:[_24-_29,_25+_29]},{type:this.$1254,args:[[_24+_29,_25+_29],[_24,_25-_29]]},this.$126j)}
this.$126k(_22,_15,_20,_23,_8)}}
_12.setCommands(_16)},isc.A.$126k=function isc_FacetChart__createLightweightDrawPoint(_1,_2,_3,_4,_5){var _6=_1[0]-_2/2,_7=_1[1]-_2/2;var _8=isc.DrawItem.create(this.dataPointDefaults,this.dataPointProperties,{ID:false,autoDraw:false,$126i:[_6,_7,_6+_2,_7+_2],canHover:this.interactivePoints,$104q:_5,dataRecord:_3,dataValue:_4,isPointInPath:function(_9,_10){return this.isInBounds(_9,_10)}});_8.drawPane=this;this.$1263(_8);return _8},isc.A.$127z=function isc_FacetChart__drawErrorBars(_1,_2,_3,_4,_5,_6,_7){var _8=this.$1064(),_9=this.$1066();if(_5==null||_6==null){_5=0;_6=_2.length-1}
_7=(_7===true);var _10=!this.supportsFractionalCoordinates(),_11=_4.top,_12=_11+_4.height,_13=isc.DrawPane.$105t(this.errorBarColorMutePercent,this.getDataColor(_3)),_14=isc.addDefaults({drawPane:this,autoDraw:true,lineColor:_13,lineWidth:1},this.errorLineProperties);for(var i=0,_16=_6-_5+1;i<_16;++i){var _17=_1[_7?_16-i-1:i],x=_17[0],y=_17[1];if(isNaN(y)){continue}
var _20=_2[_5+i],_21=_20[_8],_22=_20[_9];if(!isc.isA.Number(_21))_21=null;if(!isc.isA.Number(_22))_22=null;var _23=(_21!=null?this.getYCoord(_21):y),_24=(_22!=null?this.getYCoord(_22):y);if(_21==null&&_22==null){continue}
if(_21!=null&&!(_11<=_23&&_23<=_12)){_21=null;_23=Math.min(_12,Math.max(_11,_23))}
if(_22!=null&&!(_11<=_24&&_24<=_12)){_22=null;_24=Math.min(_12,Math.max(_11,_24))}
isc.DrawLine.create(_14,{startLeft:x,startTop:_23,endLeft:x,endTop:_24});var _25=x-this.errorBarWidth/2,_26=x+this.errorBarWidth/2;if(_10){_25=Math.round(_25);_26=Math.round(_26)}
if(_21!=null){isc.DrawLine.create(_14,{startLeft:_25,startTop:_23,endLeft:_26,endTop:_23})}
if(_22!=null){isc.DrawLine.create(_14,{startLeft:_25,startTop:_24,endLeft:_26,endTop:_24})}}},isc.A.drawDataLabels=function isc_FacetChart_drawDataLabels(_1,_2,_3,_4,_5){for(var i=0;i<_1.length;i++){var _7={id:_5[i],title:_2[i]};this.drawDataLabel(_1[i],_2[i],_3,_4,_7)}},isc.A.getRotatedCenteringOffset=function isc_FacetChart_getRotatedCenteringOffset(_1){return Math.floor(_1/2)},isc.A.drawDataLabel=function isc_FacetChart_drawDataLabel(_1,_2,_3,_4,_5){_4=(_4==null?this.$116c():_4===true);if(_3==null)_3=true;var _6=this.getDataLabelHeight();if(_3){var _7=this.measureLabel(_2,this.dataLabelProperties),_8,_9,_10=true;if(!this.showInlineLabels){_8=this.getChartTop()+this.getChartHeight()+this.chartRectMargin;_9=_1;if(_4){_10=_9+Math.floor(_6/2)<=this.getInnerContentWidth();_9+=this.getRotatedCenteringOffset(_6)}else{_9-=_7.width/2;_10=_9+_7.width<=this.getInnerContentWidth()}}else{_4=false;_8=this.getChartTop()+this.getChartHeight()
-this.$106b-_7.height;_9=_1+this.$106a;_10=_9+_7.width<this.getChartLeft()+this.getChartWidth()}
_10=_10&&0<=_9;if(_10){var _11=this.drawLabel(_9,_8,_2,this.dataLabelProperties,_4);this.$129o(_11,_5)}}else{var _6=this.getDataLabelHeight();var _11=this.drawLabel(this.getAxisLabelSpace(true),_1-Math.round(_6/2),_2,this.dataLabelProperties);this.$129o(_11,_5)}},isc.A.$129o=function isc_FacetChart__processDataLabelActions(_1,_2){var _3=this;if(this.dataLabelClick){_1.click=function(){_3.dataLabelClick(_2)}}
if(this.dataLabelHover){_1.canHover=true;_1.hover=function(){_3.dataLabelHover(_2)}}
if(this.getDataLabelHoverHTML){_1.canHover=true;_1.getHoverHTML=function(){return _3.getDataLabelHoverHTML(_2)}}},isc.A.$129p=function isc_FacetChart__processLegendActions(_1,_2,_3){var _4=this;if(this.legendClick){_1.click=function(){_4.legendClick(_2,_3)}}
if(_2){if(this.legendHover){_1.canHover=true;_1.hover=function(){_4.legendHover(_2,_3)}}
if(this.getLegendHoverHTML){_1.canHover=true;_1.getHoverHTML=function(){return _4.getLegendHoverHTML(_2,_3)}}}},isc.A.$115t=function isc_FacetChart__calculateBarLayout(_1,_2,_3,_4,_5,_6){var _7=_1.isMultiFacet()&&this.isStacked(_1);var _8=_1.isMultiFacet()&&!this.isStacked(_1);var _9=this.dataMargin;var _10=_1.isMultiFacet()?_2[0].series.length:1;var _11=_10;var _12=_3;var _13=_8?_12*_11:_3;var _14=_4-(2*_9);var _15=!_8?this.barMargin:Math.min(50,Math.round(this.barMargin*this.clusterMarginRatio));var _16=(_13*this.barMargin)+(_8?_12*_15:0);var _17=Math.max(0,_14-_16);var _18=Math.floor(_17/_13);var _19;if(_18<this.minBarThickness){_18=this.minBarThickness}else if(_18>this.maxBarThickness){_19=(_18-this.maxBarThickness)*_13;_18=this.maxBarThickness}
var _20=_8?((_18+this.barMargin)*_11-this.barMargin):_18;var _21=_3<2?0:Math.round((_14-(_3*_20))/(_3-1));var _22;if(_8){var _23=Math.max(0,this.clusterMarginRatio);if(_11>1&&_3>1){var m=-_3*(_11-1)/(_3-1),b=(_14-_3*_18*_11)/(_3-1);_22=Math.max(0,b/(_23-m));if(Math.abs(Math.floor(_22)*(_23-m)-b)<
Math.abs(Math.ceil(_22)*(_23-m)-b))
{_22=Math.floor(_22)}else{_22=Math.ceil(_22)}}else if(_11<=1){_22=0}else{_22=this.barMargin}
_20=(_18+_22)*_11-_22;_21=_3<2?0:Math.round((_14-(_3*_20))/(_3-1))}
if(_19&&(_19>2*this.barMargin)){_21=Math.round((_14-(_3*_20))/(_3+1))}
var _26=_20+_21;var _27=_14-(_20*_3)
-(_21*(_3-1));_9+=Math.round(_27/2);if(this.logIsDebugEnabled("chartDraw")&&_1==this){this.logDebug("availableSpace: "+_14+", availableBarSpace: "+_17+", bars per cluster: "+_11+", final gap between clusters/bars: "+_21+", final within-cluster bar margin: "+_22+", barThickness: "+_18+", extraSpace: "+_18,"chartDraw")}
_15=_7?0:_15;var _28=_5+_9;_6=_6||{};_6.barThickness=_18;_6.clusterSize=_20;_6.clusterBarMargin=_22;_6.barOffset=_26;_6.clusterGap=_21;_6.startOffset=_28;_6.startMargin=_9;return _6},isc.A.$1152=function isc_FacetChart__getBarBaseValue(_1){var _2=_1.$127t||0,_3=this.getMaxGradation(_1)||0;return(_2<=0&&_3>=0?0:(Math.abs(_2)<=Math.abs(_3)?_2:_3))},isc.A.$127y=function isc_FacetChart__drawBars(_1,_2,_3,_4){_3=_3||this;_2=(_2===true);var _5=this.getChartRect(),_6=this.getOrderedData(),_7=this.getMaxGradation(_3),_8=_3.$127t;var _9=this.$1068(),_10=_9[0].index,_11=_9[1].index,_12=_11-_10+1;var _13=_3.isMultiFacet()&&this.isStacked(_3);var _14=_3.isMultiFacet()&&!this.isStacked(_3);var _15=(_3.chartType=="Column");var _16=this.$115t(_3,_6,_12,(_15?_5.width:_5.height),(_15?_5.left:_5.top)),_17=_16.barThickness,_18=_16.clusterSize,_19=_16.clusterBarMargin,_20=_16.barOffset,_21=_16.startOffset,_22=_16.startMargin;var _23=this.$1152(_3);if(this.$1035()){var _24=_18/2;this.$104c=_22+_24}
var _25=(_3!=this),_26;if(_25){_26=_3.$103o}
if(this.isMultiFacet()&&(!_25||_3.isMultiFacet())){for(var i=_10;i<=_11;i++){var _28=0,_29=true,_30=null,_31=null;var _32=0,_33=0,_34=true,_35=true,_36=null,_37=null,_38=null,_39=null;for(var j=0;j<_6[i].series.length;j++){var _41=_21+((i-_10)*_20);if(_14)_41+=(j*(_17+_19));var _42=_6[i].series[j],_43=(_25?(_42.record!=null?_42.record[_26]:null):_42.value),_44=!isc.isA.Number(_43);var _45=0,_46=false,_47=false,_48=false;if(_13){if(!_44&&(_43<0||(_43==0&&!_35&&!_34)))
{_48=true;_45=_33;_46=_35;_35=false}else{_47=true;_45=_32;if(!_44){_46=_34;_34=false}}}else{_45=_28;_46=_29}
var _49=(_44?0:_45+_43);var _50=((_46||_14||_45<_8)&&(_49<_8)),_51=this.getValueCoord((_46||_14?_23:Math.max(_8,_45)),_15,_3),_52=(_44?0:this.getValueCoord(Math.max(_8,_49),_15,_3)-
_51),_53=null;if(_46){if(_15){if(_13){if(_47){_37=_51}else{_39=_51}}else{_31=_51}}else{if(_13){if(_47){_36=_51}else{_38=_51}}else{_30=_51}}}
if(!_44){if(_13){if(_47){_32=_49}else{_33=_49}}
if(!_50){_29=false;if(_4){var _54=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_54.fillColor=this.$107b(j,_3)}else{_54.fillGradient=this.$99i(j,null,null,_3)}
_53=this.drawBar(_15,_41,_51,_17,_52,_54,_3)}}}
_42=this.$1040(_3,i,j);if(_15){_42.drawnY=_51+_52;if(_13){if(_47){_42.prevDrawnY=_37;_37=_42.drawnY}else{_42.prevDrawnY=_39;_39=_42.drawnY}}
_42.drawnX=_41+_17/2;_42.barWidth=_17;_42.barHeight=Math.abs(_52)}else{_42.drawnX=_51+_52;if(_13){if(_47){_42.prevDrawnX=_36;_36=_42.drawnX}else{_42.prevDrawnX=_38;_38=_42.drawnX}}
_42.drawnY=_41+_17/2;_42.barWidth=_52;_42.barHeight=Math.abs(_17)}
_42.barThickness=_17;_42.drawItemId=_53&&_53.ID;_42.value=_43}
if(_4&&_3==this){var _55=(_1!=null),_56=(_55&&_1.findIndex("dataValue",_6[i].title,Array.DATETIME_VALUES));if(!_55||_56!=-1){var _41=_21+((i-_10)*_20),_57=_41+Math.floor(_18/2),_58=(_55?_1[_56].label:_6[i].title);var _59={id:(_55?_1[_56].dataValue:_6[i].facetValueId),title:_58};this.drawDataLabel(_57,_58,_15,_2,_59)}}}}else{var _60,_61=null;if(_25){if(this.isMultiFacet()){var _62=this.$103u(_3);_61=this.getLegendFacet().values.findIndex("id",_62.id);_60=_6.getProperty("series").getProperty(_61).getProperty("record")}else{_60=_6.getProperty("record")}}
var _51=this.getValueCoord(_23,_15,_3);for(var i=_10;i<=_11;i++){var _41=((i-_10)*_20)+_21,_63=(_25?_60[i][_26]:_6[i].value),_44=!isc.isA.Number(_63),_50=(_63<_8),_52=(_44?0:this.getValueCoord(Math.max(_8,_63),_15,_3)-
_51),_53=null;if(_4&&!(_44||_50)){var _54=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_54.fillColor=this.$107b(i,_3)}else{_54.fillGradient=this.$99i(i,null,null,_3)}
_53=this.drawBar(_15,_41,_51,_17,_52,_54,_3)}
var _42=this.$1040(_3,i,_61);if(_15){_42.drawnX=_41+_17/2;_42.drawnY=_51+_52;_42.barWidth=_17;_42.barHeight=Math.abs(_52)}else{_42.drawnY=_41+_17/2;_42.drawnX=_51+_52;_42.barWidth=_52;_42.barHeight=Math.abs(_17)}
_42.barThickness=_17;_42.drawItemId=_53&&_53.ID;if(_4&&_3==this){var _55=(_1!=null),_56=(_55&&_1.findIndex("dataValue",_6[i].title,Array.DATETIME_VALUES));if(!_55||_56!=-1){var _57=Math.round(_41+(_17/2)),_58=(_55?_1[_56].label:_6[i].title);var _59={id:(_55?_1[_56].dataValue:_6[i].facetValueId),title:_58};this.drawDataLabel(_57,_58,_15,_2,_59)}}}}},isc.A.$1041=function isc_FacetChart__getShowDataValues(_1){_1=_1||this;var _2=_1.chartType!="Scatter"&&_1.showDataValues&&!(!_1.$101c&&_1.$101d);if(this.$1035()){var _3=this.$1036(),_4=1+_3.visible.length;for(var j=0;_2&&j<_4;++j){var c=(j==0?this:_3.visible[j-1]);if(c==_1){break}else{_2=!(c.showDataValues&&!(!c.$101c&&c.$101d))}}}
return _2},isc.A.$1042=function isc_FacetChart__getShowValueOnHover(_1){_1=_1||this;return(!this.$1041(_1)&&(_1.showValueOnHover||(_1.showValueOnHover!==false&&_1.showDataValues&&!(_1.$101c&&!_1.$101d))))},isc.A.$1043=function isc_FacetChart__getShowValueOnHoverContext(){if(this.$1035()){var _1=this.$1036().visible,_2=1+_1.length;for(var j=0;j<_2;++j){var _4=(j==0?this:_1[j-1]);if(this.$1042(_4)){return _4}}}else if(this.$1042()){return this}
return null},isc.A.$1003=function isc_FacetChart__drawDataValueLabels(_1,_2,_3){if(this.$1041(_2)){var _4={},_5=(_2!=this),_6=_2.isMultiFacet(),_7,_8,_9;if(_5){_7=_2.$103o;if(!_6){if(this.isMultiFacet()){var _10=this.$103u(_2);_9=this.getLegendFacet().values.findIndex("id",_10.id);_8=_1.getProperty("series").getProperty(_9).getProperty("record")}else{_8=_1.getProperty("record")}}}
switch(_2.chartType){case"Area":case"Line":if(this.isMultiFacet()&&(!_5||_2.isMultiFacet())){var _11=0;for(var i=0;i<_1.length;i++){var _13=_11;_11=0;for(var j=0;j<_1[i].series.length;j++){var _15=_1[i].series[j],_16=(_5?_15.record&&_15.record[_7]:_15.value);if(!isc.isA.Number(_16))continue;var _17=this.$104t(_4,i,j,_2,_16);_11=Math.max(_11,_17.width);if(_13>0){var _18=this.$1040(_2,i,j).drawnX
-this.$1040(_2,i-1,0).drawnX
-_13;if(_18<20){_2.$101d=true;delete _2.$101c;return false}}
for(var k=j+1;k<_1[i].series.length;k++){var _15=_1[i].series[k],_16=(_5?_15.record&&_15.record[_7]:_15.value);if(!isc.isA.Number(_16))continue;var _20=Math.abs(this.$1040(_2,i,k).drawnY
-this.$1040(_2,i,j).drawnY);_20-=_17.height;if(_20<5){_2.$101d=true;delete _2.$101c;return false}}}}
if(!_3){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _21=this.$104t(_4,i,j);if(_21!=null){var _22=this.$1040(_2,i,j);this.$1004(_22.drawnX,_22.drawnY,_21)}}}}}else{var k=!_6?_9:null;for(var j=1;j<_1.length;j++){var _16=_5?_8[j][_7]:_1[j].value;if(!isc.isA.Number(_16))continue;var _17=this.$104t(_4,j-1,null,_2,_5?_8[j-1][_7]:_1[j-1].value);var _18=this.$1040(_2,j,k).drawnX
-this.$1040(_2,j-1,k).drawnX
-_17.width;if(_18<20){_2.$101d=true;delete _2.$101c;return false}}
this.$104t(_4,_1.length-1,null,_2,_5?_8[_1.length-1][_7]:_1[_1.length-1].value);if(!_3){for(var j=0;j<_1.length;j++){var _21=this.$104t(_4,j);if(_21!=null){var _22=this.$1040(_2,j,k);this.$1004(_22.drawnX,_22.drawnY,_21)}}}}
break;case"Radar":if(this.isMultiFacet()){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){if(!isc.isA.Number(_1[i].series[j].value))continue;var _17=this.$104t(_4,i,j,_2,_1[i].series[j].value);var _23=Math.sqrt(_17.width*_17.width+_17.height*_17.height);for(var _24=i;_24<_1.length;_24++){for(var _25=(_24==i)?j+1:0;_25<_1[_24].series.length;_25++){if(!isc.isA.Number(_1[_24].series[_25].value))continue;var _26=this.$104t(_4,_24,_25,_2,_1[_24].series[_25].value);var _27=Math.sqrt(_26.width*_26.width+_26.height*_26.height);var _18=_1[i].series[j].drawnX-_1[_24].series[_25].drawnX;var _20=_1[i].series[j].drawnY-_1[_24].series[_25].drawnY;var _28=Math.sqrt(_18*_18+_20*_20);_28-=(_23+_27)/2;if(_28<=0){this.$101d=true;delete this.$101c;return}}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _21=this.$104t(_4,i,j);if(_21!=null){this.$1004(_1[i].series[j].drawnX,_1[i].series[j].drawnY,_21)}}}}else{for(var j=0;j<_1.length;j++){if(!isc.isA.Number(_1[j].value))continue;var _17=this.$104t(_4,j,null,_2,_1[j].value);var _23=Math.sqrt(_17.width*_17.width+_17.height*_17.height);for(var _25=j+1;_25<_1.length;_25++){if(!isc.isA.Number(_1[_25].value))continue;var _26=this.$104t(_4,_25,null,_2,_1[_25].value);var _27=Math.sqrt(_26.width*_26.width+_26.height*_26.height);var _18=_1[j].drawnX-_1[_25].drawnX;var _20=_1[j].drawnY-_1[_25].drawnY;var _28=Math.sqrt(_18*_18+_20*_20);_28-=(_23+_27)/2;if(_28<=0){this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _21=this.$104t(_4,j);if(_21!=null){this.$1004(_1[j].drawnX,_1[j].drawnY,_21)}}}
break;case"Bar":case"Column":if(this.isMultiFacet()&&(!_5||_2.isMultiFacet())){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _15=_1[i].series[j],_16=(_5?_15.record&&_15.record[_7]:_15.value);if(!isc.isA.Number(_16))continue;var _22=this.$1040(_2,i,j),_17=this.$104t(_4,i,j,_2,_16),_20=_22.barHeight-_17.height,_18=_22.barWidth-_17.width;if(_20<5||_18<10){_2.$101d=true;delete _2.$101c;return false}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _21=this.$104t(_4,i,j);if(_21!=null){var _29=this.$1040(_2,i,j);if(this.$1005(_29.drawnX,_29.drawnY,_21,_2.chartType,_3))
{return true}}}}}else{var k=!_6?_9:null;for(var j=0;j<_1.length;j++){var _16=_5?_8[j][_7]:_1[j].value;if(!isc.isA.Number(_16))continue;var _21=this.$104t(_4,j,null,_2,_16),_29=this.$1040(_2,j,k);if(this.$1005(_29.drawnX,_29.drawnY,_21,_2.chartType,_3))
{return true}}}
break;case"Doughnut":case"Pie":var _30=_1[0].radiusStep;if(_30<40){this.$101d=true;delete this.$101c;return}
if(this.isMultiFacet()){var _31=_30*2/3;for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];if(!isc.isA.Number(s.value))continue;var _17=this.$104t(_4,i,j,_2,s.value);var _33=s.pieRadius-Math.max(_31,_17.width+15);var _34=s.endAngle-s.startAngle;if(_34<60){var _35=s.startAngle+_34/2,_36=_35<60||(120<=_35&&_35<240)||300<=_35;if((!_36&&_17.width>_38)||(_36&&_17.height>_38))
{this.$101d=true;delete this.$101c;return}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];var _21=this.$104t(_4,i,j);if(_21!=null){var _33=s.pieRadius-Math.max(_31,_21.width+15);this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_21,_33)}}}}else{var _37=(this.doughnutSize==null?0:this.doughnutSize);for(var j=0;j<_1.length;j++){var s=_1[j];if(!isc.isA.Number(s.value))continue;var _33=s.pieRadius/2-_37,_34=s.endAngle-s.startAngle,_17=this.$104t(_4,j,null,_2,s.value);if(_34<60){var _38=_33*Math.tan(_34*isc.Math.$125w);var _35=s.startAngle+_34/2,_36=_35<60||(120<=_35&&_35<240)||300<=_35;if((!_36&&_17.width>_38)||(_36&&_17.height>_38))
{this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _21=this.$104t(_4,j);if(_21!=null){var s=_1[j];this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_21,_1[j].pieRadius/2)}}}
break}}
return false},isc.A.$1005=function isc_FacetChart__drawDataValueLabelForBar(_1,_2,_3,_4,_5){if(_4=="Column"){_1-=_3.width/2;_2-=_3.height}else{_2-=_3.height/2;_1+=4}
var _6=this.getChartRectLineWidth(),_7=0,_8=0,_9=0,_10=0;if(_6==0){_8=this.getInnerContentWidth();_10=this.getInnerContentHeight()}else{var _11=this.getChartRect(),_12=1+_6/2;_7=Math.ceil(_11.left+_12);_9=Math.ceil(_11.top+_12);_8=Math.floor(_11.left+_11.width-_12);_10=Math.floor(_11.top+_11.height-_12)}
if(_1<_7){_1=_7}else{if((_1+_3.width)>_8){if(_5&&_4=="Bar"){return true}
_1=_8-_3.width-5}}
if(_2<_9){if(_5&&_4=="Column"){return true}
_2=_9}else{if((_2+_3.height)>_10){_2=_10-_3.height-5}}
if(!_5){this.drawLabel(_1,_2,_3.text,this.hoverLabelProperties)}
return false},isc.A.$1004=function isc_FacetChart__drawDataValueLabelForPoint(_1,_2,_3){var _4=_1-_3.width/2;var _5=_2-_3.height-4;if(_4<0){_4=0}else{var _6=this.getInnerContentWidth();if((_4+_3.width)>_6){_4=_6-_3.width-5}}
if(_5<0){_5=0}else{var _7=this.getInnerContentHeight();if((_5+_3.height)>_7){_5=_7-_3.height-5}}
this.drawLabel(_4,_5,_3.text,this.hoverLabelProperties)},isc.A.$1006=function isc_FacetChart__drawDataValueLabelForPie(_1,_2,_3,_4,_5,_6){var _7=(_3+_4)/2+90;if(_7<0){_7+=360}
var _8=this.$100k([_1,_2],_6||this.maxRadius,_7,_5.value,this.hoverLabelProperties);_1=_8[0];_2=_8[1];if(_1<0){_1=0}else{var _9=this.getInnerContentWidth();if((_1+_5.width)>_9){_1=_9-_5.width-5}}
if(_2<0){_2=0}else{var _10=this.getInnerContentHeight();if((_2+_5.height)>_10){_2=_10-_5.height-5}}
this.drawLabel(_1,_2,_5.text,this.hoverLabelProperties)});isc.evalBoundary;isc.B.push(isc.A.drawBar=function isc_FacetChart_drawBar(_1,_2,_3,_4,_5,_6,_7){if(!_1){return this.drawBar(!_1,_3,_2,_5,_4,_6,_7)}
_6.click=this.$120g;return this.drawRect(_2,(_5>0?_3:_3+_5),_4,Math.abs(_5),_6,_7)},isc.A.drawRect=function isc_FacetChart_drawRect(_1,_2,_3,_4,_5,_6){var _7=isc.DrawRect.create(_5,{autoDraw:true,drawPane:this,left:_1,top:_2,width:_3,height:_4,shadow:(this.$1334(_6)?_5.shadow:null)});return _7},isc.A.drawDataSeriesLine=function isc_FacetChart_drawDataSeriesLine(_1,_2){this.drawDataLine(_1,{lineColor:this.$107b(_2)},this)},isc.A.$120t=function isc_FacetChart__drawDataShape(_1,_2,_3,_4,_5){var _6=(_3?"DrawPolygon":"DrawPath"),_7=this.dataShapeProperties;if(!this.$1334(_5)){_7.shadow=null}
return isc[_6].create(_7,_2,{drawPane:this,points:_1,autoDraw:_4})},isc.A.drawDataLine=function isc_FacetChart_drawDataLine(_1,_2,_3){var _4=(this.$1095(_3)=="smooth");if(!this.$122z(_3)){var _5=[];for(var i=0;i<_1.length;i++){if(!isNaN(_1[i][1])){_5.add(_1[i])}}
this.drawDataLineSegment(_5,0,_5.length,_2,_3,_4,true);return}
var _7=null;for(var i=0;i<_1.length;i++){var _8=_1[i];if(isNaN(_8[1])){if(_7!=null){this.drawDataLineSegment(_1,_7,i,_2,_3,_4,true);_7=null}}else if(_7==null){_7=i}}
if(_7!=null){this.drawDataLineSegment(_1,_7,_1.length,_2,_3,_4,true)}},isc.A.drawDataLineSegment=function isc_FacetChart_drawDataLineSegment(_1,_2,_3,_4,_5,_6,_7){_5=_5||this;var _8=this.isFilled(_5)?_5.dataOutlineProperties:_5.dataLineProperties;if(!this.$1334(_5)){_8.shadow=null}
var _9=_3-_2,_10=(_9==1),_11=(!_10&&(!_6||_9<=2)),_12=!(_10||_11);var _13=1e-9,_14,_15;if(_12){_14=[_2];_15=[];for(var i=_2;i<_3-1;){var j=i+1,_18=0;for(;j<_3;++j){var _19=_1[i],_20=_1[j],_21=isc.Math.$101k(_20[0]-_19[0],_20[1]-_19[1]);_18=Math.sqrt(_21);if(_18>_13){break}}
if(j<_3){_14.push(j);_15.push(_18)}
i=j}}
_10=_10||(_12&&_14.length==1);_11=_11||(_12&&_14.length==2);_12=!(_10||_11);if(_10){return isc.DrawTriangle.create(_8,_4,{drawPane:this,points:this.getTriangleOnPoint(_1[_2],this.singlePointMarkerSize),autoDraw:_7,fillColor:(_4&&_4.lineColor)||_8.lineColor})}else if(_11){var _22={drawPane:this,points:_1.slice(_2,_3),autoDraw:_7};if(_5.chartType=="Line"||(_5.chartType=="Area"&&!this.isFilled(_5)))
{_22.svgFilter="isc_ds1"}
return isc.DrawPath.create(_8,_4,_22)}else{var n=_14.length,_24=[2*_1[_14[0]][0]-_1[_14[1]][0],2*_1[_14[0]][1]-_1[_14[1]][1]],_25=[2*_1[_14[n-1]][0]-_1[_14[n-2]][0],2*_1[_14[n-1]][1]-_1[_14[n-2]][1]];_15.unshift(_15[0]);_15.push(_15[_15.length-1]);var _26;for(var i=0;i<n-1;++i){var _27=(i==0?_24:_1[_14[i-1]]),_19=_1[_14[i]],_20=_1[_14[i+1]],_28=(i==n-2?_25:_1[_14[i+2]]),_29=_15[i],_30=_15[i+1],_31=_15[i+2],_32=_29*_29,_33=_30*_30,_34=_31*_31,_35=(2*_32+3*_29*_30+_33),_36=(2*_34+3*_31*_30+_33),_37=3*_29*(_29+_30),_38=3*_31*(_31+_30),_39=(_32*_20[0]-_33*_27[0]+_35*_19[0])/_37,_40=(_32*_20[1]-_33*_27[1]+_35*_19[1])/_37,_41=(_34*_19[0]-_33*_28[0]+_36*_20[0])/_38,_42=(_34*_19[1]-_33*_28[1]+_36*_20[1])/_38;_26=isc.DrawCurve.create(_8,_4,{drawPane:this,autoDraw:_7,startPoint:_19,controlPoint1:[_39,_40],controlPoint2:[_41,_42],endPoint:_20})}
return _26}},isc.A.drawValueLine=function isc_FacetChart_drawValueLine(_1,_2,_3){var _4={drawPane:this,autoDraw:true};if(_1!=null){_4.startLeft=_1[0];_4.startTop=_1[1]}
if(_2!=null){_4.endLeft=_2[0];_4.endTop=_2[1]}
isc.DrawLine.create(this.valueLineProperties,_3,_4)},isc.A.drawPieData=function isc_FacetChart_drawPieData(){var _1=this.getChartRect(),_2=this.getChartCenter(),_3=Math.min(_1.width,_1.height)/2-(this.getChartRectLineWidth()*2),_4=this.getOrderedData(),_5=(this.shouldShowDoughnut()?(_3*this.doughnutRatio):0);var _6=20;if(this.isMultiFacet()){var _7=_4.length;if(this.stacked){_3=this.getChartRadius()}
var _8=_3-_5,_9=_8/_7,_10=360/_7;_4[0].radiusStep=_9;var _11=Math.ceil(Math.sqrt((_1.width/_1.height)*_7)),_12=Math.ceil(_7/_11),_13=_7%_11==0?_11:_7%_11;if(_13<_11&&(_12-1)<=(_11-1-_13)){_11-=1;_13+=(_12-1)}
var _14=Math.min(_1.width/_11,_1.height/_12),_15=(_14-_6)/2,_16=(_1.width-(_11*_14))/2,_17=(_1.width-(_13*_14))/2;for(var i=0;i<_7;i++){var _19=_4[i].series,_20=_4[i].title,_21=new Array(_19.length),_22=0;var _23={id:_4[i].facetValueId,title:_4[i].title};for(var j=_19.length;j--;){var _25=_19[j].value;if(!isc.isA.Number(_25))_25=0;_21[j]=_25;_22+=_25}
if(this.stacked){var _26=_3-(_9*i);this.drawPieSeries(_21,_22,_2,_26,i,(i!=0));var _27=this.pieLabelAngleStart+(_10*i);this.drawRadialLabel(_2,_3+this.pieLabelLineExtent,_27,_20,_23);var _28=isc.GraphMath.polar2screen(_27,_26-(_9/2),_2,true),_29=isc.GraphMath.polar2screen(_27,_3+this.pieLabelLineExtent,_2,true);this.drawValueLine(_28,_29,this.pieLabelLineProperties)}else{var _30=Math.floor(i/_11);var _31=_1.top+(_30*_14);var _32=_1.left+((i%_11)*_14);if(_30==_12-1)_32+=_17;else _32+=_16;var _33=[_32+(_6/2)+_15,_31+_6+_15];this.drawPieSeries(_21,_22,_33,_15,i);if(this.shouldShowDoughnut()){isc.DrawOval.create({shadow:(this.$1334(this)?{blur:5,color:"#333333",offset:[0,0]}:null)},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_33,radius:_15*this.doughnutRatio})}
var _34=this.measureLabel(_20,this.dataLabelProperties);var _35=this.drawLabel(_32+(_14/2)-(_34.width/2),_31+(_6/2)-(_34.height/2),_20,this.dataLabelProperties);this.$129o(_35,_23)}}}else{var _21=new Array(_4.length),_22=0;for(var j=_4.length;j--;){var _25=_4[j].value;if(!isc.isA.Number(_25))_25=0;_21[j]=_25;_22+=_25}
this.drawPieSeries(_21,_22,_2,_3,0,false)}
if(this.shouldShowDoughnut()&&(!this.isMultiFacet()||this.stacked)){isc.DrawOval.create({shadow:(this.$1334(this)?{blur:5,color:"#333333",offset:[0,0]}:null)},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_2,radius:_5})}},isc.A.drawPieSeries=function isc_FacetChart_drawPieSeries(_1,_2,_3,_4,_5,_6){if(this.$1334(this)&&!_6){isc.DrawOval.create({shadow:{blur:8,color:"#111111",offset:[2,2]}},this.pieBorderProperties,this.shadowProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
if(this.showValueOnHover||this.$101d||this.$101c){isc.DrawOval.create({fillColor:"#ffffff"},this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
var _7=this.pieStartAngle;this.logDebug("startAngle is: "+_7);var _8=this.getOrderedData();for(var i=0;i<_1.length;i++){var _10=_1[i],_11=(_2!=0?360*_10/_2:0),_12=Math.floor(_7),_13=Math.ceil(_7+_11);var _14=(_8[_5].series==null?_8[i]:_8[_5].series[i]);_14.pieX=_3[0];_14.pieY=_3[1];_14.startAngle=_12;_14.endAngle=_13;_14.pieRadius=_4;if(_10==0){continue}
var _15={drawPane:this,autoDraw:true,centerPoint:_3,radius:_4,startAngle:_12,endAngle:_13,fillColor:!this.useAutoGradients?this.$107b(i):null,fillGradient:this.useAutoGradients?this.$985(i,_3,_4):null,click:this.$120g};if(this.useAutoGradients&&this.drawingType!="svg"){_15.svgFillGradient=this.$985(i,_3,_4,false,"svg")}
var _16=isc.$983.create(this.pieSliceProperties,_15);_14.drawItemId=_16.ID;_7+=_11}
if(_6){isc.DrawOval.create(_6?this.pieRingBorderProperties:this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4,isPointInPath:function(){return false}})}},isc.A.getYAxisMetric=function isc_FacetChart_getYAxisMetric(){return this.yAxisMetric||this.metricFacet.values[0].id},isc.A.getXAxisMetric=function isc_FacetChart_getXAxisMetric(){return this.xAxisMetric||this.metricFacet.values[1].id},isc.A.getSecondGradations=function isc_FacetChart_getSecondGradations(){if(this.$106w)return this.$106w;var _1=Math.max(150,this.getInnerContentWidth()-(2*this.chartRectMargin)-300);return this.$914(true,false,_1)},isc.A.drawScatterData=function isc_FacetChart_drawScatterData(_1){var _2=this.$128a,_3=this.$128b,_4=this.$127t,_5=this.$1279;if(_2==null||_3==null||_4==null||_5==null){return}
var _6=this.getSecondGradations();this.$127v(false,_6,_2,_3);if(!this.showStatisticsOverData){this.$102l()}
var _7=this.$106x;for(var i=_6.length;i--;){var _9=this.$1069(_6[i],_2,_3,false);this.drawDataLabel(_9,_7[i],true,_1)}
var _10=this.getOrderedData(),_11=this.getLegendFacet();if(_11==null){this.drawScatterSeries(_10,0,_2,_3,_4,_5)}else{for(var i=0;i<_11.values.length;i++){this.drawScatterSeries(_10[i].series,i,_2,_3,_4,_5)}}},isc.A.drawScatterSeries=function isc_FacetChart_drawScatterSeries(_1,_2,_3,_4,_5,_6){var _7=this.getChartRect(),_8=this.getXAxisMetric(),_9=this.getYAxisMetric(),_10=[],_11=[],_12=[NaN,NaN];for(var i=0;i<_1.length;i++){var _14=_1[i].record;if(_14!=null){var _15=_14[_8],_16=_14[_9];if(_15<_3||_16<_5){_10.add(_12)}else{var _17=this.$1069(_15,_3,_4,false),_18=this.getYCoord(_16);_1[i].drawnX=_17;_1[i].drawnY=_18;_10.add([_17,_18])}
_11.add(_16)}else{_10.add(_12);_11.add(null)}}
if(this.showScatterLines){this.drawDataSeriesLine(_10,_2)}
this.drawPoints(_10,_1.getProperty("record"),_2,_11);if(this.$1066()!=null){this.$127z(_10,_1.getProperty("record"),_2,_7)}},isc.A.$102m=function isc_FacetChart__getProbabilityMetric(){var _1=this.probabilityMetric,_2=this.metricFacet;return(_1!=null&&_2!=null&&_2.values.findIndex("id",_1)!=-1?_1:null)},isc.A.$102n=function isc_FacetChart__getStatCache(_1){if(_1==null){_1=this.getDefaultMetric()}
if(isc.isA.String(_1)&&this.metricFacet!=null&&this.metricFacet.values.findIndex("id",_1)!=-1){var _2=_1;_1={};_1[this.metricFacet.id]=_2}else{_1={}}
var _3=this.$102k||(this.$102k=this.$106i().getProperty("id"));var _4=isc.StringBuffer.newInstance();for(var i=0,_6=_3.length;i<_6;++i){var _7=_3[i];if(_1[_7]!=null){_4.append(_7,"=",_1[_7].toString(),";")}}
var _8=this.$102o||(this.$102o={}),_9=_4.toString();if(_8[_9]==null){_8[_9]={criteria:_1}}
return _8[_9]},isc.A.$102p=function isc_FacetChart__getDataArray(_1,_2){var _3=(_2.data||(_2.data=this.getValue(_2.criteria,true)));return _3},isc.A.$102r=function isc_FacetChart__getProbabilities(_1,_2,_3){if(_2.probabilities!=null){return _2.probabilities}
_1=_2.criteria;var c=isc.addProperties({},_1);c[this.metricFacet.id]=_3;var _5=this.getValue(c,true);var n=_5.length,_7=0;for(var i=n;i--;){var p=_5[i];if(!(isc.isA.Number(p)&&p>=0)){_5[i]=0}else{_7+=p}}
if(_7!=1){if(_7==0){var _10=1/n;for(var i=n;i--;){_5[i]=_10}}else{for(var i=n;i--;){_5[i]/=_7}}}
return(_2.probabilities=_5)},isc.A.$102s=function isc_FacetChart__getSortedDataIndex(_1){var _2=this.$102n(_1);if(_2.sortedDataIndex!=null){return _2.sortedDataIndex}else{var _3=this.$102p(_1,_2);var _4=new Array(_3.length);for(var i=_3.length;i--;){_4[i]=i}
_4.sort(function(i,_6){return _3[i]-_3[_6]});return(_2.sortedDataIndex=_4)}},isc.A.getNumDataPoints=function isc_FacetChart_getNumDataPoints(_1){var _2=this.$102n(_1),_3=this.$102p(_1,_2);return(_3==null?null:_3.length)},isc.A.getMean=function isc_FacetChart_getMean(_1){var _2=this.$102n(_1);if(_2.mean!=null){return _2.mean}
var _3=this.$102p(_1,_2),_4=null;if(_3!=null){var _5=this.$102m();if(_5==null){_4=isc.Chart.$102g(_3)}else{var _6=this.$102r(_1,_2,_5);_4=0;for(var i=_3.length;i--;){_4+=_3[i]*_6[i]}}}
return(_2.mean=_4)},isc.A.$102t=function isc_FacetChart__numberSortOrder(_1,_2){return _1-_2},isc.A.getMedian=function isc_FacetChart_getMedian(_1){return this.getPercentile(_1,50)},isc.A.getPercentile=function isc_FacetChart_getPercentile(_1,_2){if(!isc.isA.Number(_2)){return null}
_2=Math.max(0,Math.min(100,_2));var _3="percentile("+_2+")";_2/=100;var _4=this.$102n(_1);if(_4[_3]!=null){return _4[_3]}
var _5=this.$102p(_1,_4);if(_5==null){return null}
var _6=this.$102m(),_7=_5.length;var i,j,_10,_11;if(_6==null){var _12=_4.sortedData||(_4.sortedData=_5.sort(this.$102t));i=Math.floor(_2*(_7-1));j=Math.ceil(_2*(_7-1));_10=_12[i];_11=_12[j]}else{var _13=this.$102s(_1),_14=this.$102r(_1,_4,_6),_15=0;for(j=0;j<_7&&_15<_2;++j){_15+=_14[_13[j]]}
--j;_11=_5[_13[j]];for(i=j;i<_7&&_14[_13[i]]==0;){++i}
if(i==_7)--i;for(_15=1-_15;i>=0&&_15<1-_2;--i){_15+=_14[_13[i]]}
++i;_10=_5[_13[i]]}
return(_4[_3]=(_10+_11)/2)},isc.A.getRange=function isc_FacetChart_getRange(_1){var _2=this.getMax(_1),_3=this.getMin(_1);return(_2==null||_3==null?null:(_2-_3))},isc.A.getStdDev=function isc_FacetChart_getStdDev(_1,_2){var _3=this.getVariance(_1,_2);return(_3==null?null:Math.sqrt(_3))},isc.A.getVariance=function isc_FacetChart_getVariance(_1,_2){var _3=this.$102n(_1),_4=(_2?"population":"sample")+"Variance",_5=(!_2?"population":"sample")+"Variance";if(_3[_4]!=null){return _3[_4]}else if(_3[_5]!=null){var n=_3.data.length;return(_3[_4]=_3[_5]*(_2?(n-1)/n:n/(n-1)))}
var _7=this.$102p(_1,_3);if(_7==null){return null}
var _8=this.$102m(),_9=this.getMean(_1),n=_7.length,_10;if(_8==null){_10=isc.Chart.$102h(_7,_2,_9)}else{var _11=this.$102r(_1,_3,_8);var _12=0;for(var i=_7.length;i--;){var t=_7[i];_12+=t*t*_11[i]}
_10=_12-_9*_9;if(!_2){_10*=n/(n-1)}}
return(_3[_4]=_10)},isc.A.getMax=function isc_FacetChart_getMax(_1){var _2=this.$102n(_1);if(_2.max!=null){return _2.max}else if(_2.sortedData!=null){return(_2.max=_2.sortedData.last())}else{var _3=this.$102p(_1,_2);return(_3==null?null:(_2.max=_3.max()))}},isc.A.getMin=function isc_FacetChart_getMin(_1){var _2=this.$102n(_1);if(_2.min!=null){return _2.min}else if(_2.sortedData!=null){return(_2.min=_2.sortedData.first())}else{var _3=this.$102p(_1,_2);return(_3==null?null:(_2.min=_3.min()))}},isc.A.setRegressionLineType=function isc_FacetChart_setRegressionLineType(_1){var _2=(_1=="line"||_1=="polynomial");if(_2){var _3=(_1!=this.regressionLineType);this.regressionLineType=_1;if(_3&&this.showRegressionLine&&this.regressionPolynomialDegree!=1){this.$105a(false)}}},isc.A.setShowRegressionLine=function isc_FacetChart_setShowRegressionLine(_1){var _2=(_1!=this.showRegressionLine);this.showRegressionLine=_1;if(_2){this.$105a(false)}},isc.A.setRegressionPolynomialDegree=function isc_FacetChart_setRegressionPolynomialDegree(_1){var _2=this.$112m(_1);if(_2){var _3=(_1!=this.regressionPolynomialDegree);this.regressionPolynomialDegree=_1;if(_3&&this.showRegressionLine&&this.regressionLineType=="polynomial"){this.$105a(false)}}},isc.A.$112m=function isc_FacetChart__isDegreeValid(_1){return(isc.isA.Number(_1)&&_1>0&&_1==Math.round(_1))},isc.A.getSimpleLinearRegressionFunction=function isc_FacetChart_getSimpleLinearRegressionFunction(_1,_2){return this.getPolynomialRegressionFunction(1,_1,_2,"FacetChart.getSimpleLinearRegressionFunction()")},isc.A.$102u=function isc_FacetChart__validatePolynomialDegree(_1){return isc.isA.Number(_1)&&_1>0&&Math.round(_1)===_1},isc.A.getPolynomialRegressionFunction=function isc_FacetChart_getPolynomialRegressionFunction(_1,_2,_3,_4){_4=isc.isA.String(_4)?_4:"FacetChart.getPolynomialRegressionFunction()";if(!this.$102u(_1)){if(_1!=null){this.logWarn("Invalid degree argument passed to "+_4+".  The degree must be a positive integer.")}
_1=this.regressionPolynomialDegree;if(!this.$102u(_1)){this.logWarn("The regressionPolynomialDegree property of the FacetChart is invalid.  The degree must be a positive integer.");return null}}
var _5=this.metricFacet.id,_6,_7;if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){if(_2!=null){this.logWarn("Invalid xMetric argument passed to "+_4+".  The xMetric must be the String ID of a metric facet value.")}
_2=this.getXAxisMetric();if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){this.logWarn("Could not find an x-axis metric defined for the FacetChart.");return null}}
if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){if(_3!=null){this.logWarn("Invalid yMetric argument passed to "+_4+".  The yMetric must be the String ID of a metric facet value.")}
_3=this.getYAxisMetric();if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){this.logWarn("Could not find a y-axis metric defined for the FacetChart.");return null}}
var _8={},_9={};_8[_5]=_6.id;_9[_5]=_7.id;return isc.FacetChart.$102v(_1,this.getValue(_8,true),this.getValue(_9,true))},isc.A.$102l=function isc_FacetChart__drawStatistics(_1,_2){if(this.isPieChart()){return}
if(this.isMultiFacet()&&this.isStacked()){return}
var _3=this.chartType=="Radar";var m;if(_1&&this.metricFacet&&_1[this.metricFacet.id]&&this.metricFacet.findIndex("id",_1[this.metricFacet.id])!=-1)
{m=_1[this.metricFacet.id]}else{m=this.getDefaultMetric()}
if(_2==null){if(this.chartType=="Scatter"){if(m==this.getXAxisMetric())_2=false;else if(m==this.getYAxisMetric())_2=true}else if(_3){if(m==this.valueProperty)_2=false}else if(this.hasXGradations()){if(m==this.valueProperty)_2=false}else if(this.hasYGradations()){if(m==this.valueProperty)_2=true}}
if(_2==null){return}
var _5=this.getChartRect();var _6=_5.top,_7=_5.left,_8=_5.width,_9=_5.height,_10=_6+_9,_11=_7+_8;var _12,_13;if(_3){_12=this.getChartCenter();_13=this.getChartRadius()}
var _14,_15;if(this.chartType=="Scatter"){var _16=this.getXAxisMetric();_14=Math.min(0,this.getMinValue(_16));_15=this.getMaxValue(_16)}
if(_3&&_2){return}
var _17=this.showExpectedValueLine,_18=this.showStandardDeviationLines&&isc.isAn.Array(this.standardDeviations),_19=null,_20=null;if(_17||_18){_19=this.getMean(_1);if(_18){_20=this.getStdDev(_1)}
if(_19==null){_17=_18=false}
if(_20==null){_18=false}}
if(_18){var _21=this.standardDeviations,_22=_21.length,_23=this.useSymmetricStandardDeviations,_24=this.standardDeviationBandProperties;if(_23){_21=_21.map(Math.abs);var _25=(_21.first()===0),_26=_25?1:0,_27=_22-_26,_28=2*(_22-_26)+_26,_29=new Array(_28),_30=2*_27-1,_31=new Array(_30);for(var i=_22-_26;i--;){var j=i+_26;_29[j]=-(_29[_28-1-j]=_21[_22-1-i]);_31[i]=_31[_30-1-i]=_24[_27-1-i]}
if(_25){_29[_22]=0}
_22=_28;_21=_29;_24=_31}
if(this.bandedStandardDeviations&&!_3&&_22>1){var _34,_35=_19+_20*_21[0],_36,_37;if(_2){_37=this.getYCoord(_35);_37=Math.max(_6,Math.min(_10,_37))}else{_37=this.$1069(_35,_14,_15);_37=Math.max(_7,Math.min(_11,_37))}
for(var i=1;i<_22;++i){_34=_35;_35=_19+_20*_21[i];_36=_37;var t=_6,l=_7,w=_8,h=_9;if(_2){_37=this.getYCoord(_35);_37=Math.max(_6,Math.min(_10,_37));t=_36;h=_37-t}else{_37=this.$1069(_35,_14,_15);_37=Math.max(_7,Math.min(_11,_37));l=_36;w=_37-l}
var _42=_24[i-1];if(_42==null){continue}
this.addDrawItem(isc.DrawRect.create(_42,{autoDraw:true,top:t,left:l,width:w,height:h}))}}
for(var i=0;i<_22;++i){var _43=_21[i],_35=_19+_20*_43;if(_43==0&&_17){continue}
if(_3&&!_2){var _44=this.getValueRatio(_35);if(!(_44<0||_44>1)){this.addDrawItem(isc.DrawOval.create(this.standardDeviationLineProperties,{autoDraw:true,centerPoint:_12,radius:_44*_13}))}}else if(_2){var y=this.getYCoord(_35);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.$1069(_35,_14,_15);if(!(y<_7||y>_11)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}}
if(_17){if(_3&&!_2){var _44=this.getValueRatio(_19);if(!(_44<0||_44>1)){this.addDrawItem(isc.DrawOval.create(this.expectedValueLineProperties,{autoDraw:true,centerPoint:_12,radius:_44*_13}))}}else if(_2){var y=this.getYCoord(_19);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.$1069(_19,_14,_15);if(!(x<_7||x>_11)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}
this.$102w()},isc.A.$102w=function isc_FacetChart__drawRegressionCurves(){if(this.chartType!="Scatter"){return}else if(this.showRegressionLine){if(this.regressionLineType=="line"){var _1=this.getSimpleLinearRegressionFunction();if(_1!=null){this.$102x(_1,1,this.regressionLineProperties)}}else if(this.regressionLineType=="polynomial"){var _2=this.regressionPolynomialDegree,_3=this.getPolynomialRegressionFunction(_2);if(_3!=null){this.$102x(_3,_2,this.regressionLineProperties)}}}},isc.A.$102x=function isc_FacetChart__drawPolynomial(_1,_2,_3){var _4=this.getChartRect(),_5=this.getSecondGradations(),_6=this.$128a,_7=this.$128b,_8=_7-_6,_9=this.getGradations(),_10=this.$127t,_11=this.$1279,n;if(_2==1){n=2}else{n=Math.ceil(_4.width/5)}
var _13=new Array(n);for(var i=n;i--;){var x=_6+i*_8/(n-1),_16=this.$1069(x,_6,_7),_17=this.getYCoord(_1(x));_13[i]=[_16,_17]}
var _18=!this.supportsFractionalCoordinates(),_19=isc.FacetChart.$102y(_13,_4,_18),_20=_19.length;if(_2==1){var _21=_19[0][0],_22=_19[0][1];this.addDrawItem(isc.DrawLine.create(_3,{autoDraw:true,startLeft:_21[0],startTop:_21[1],endLeft:_22[0],endTop:_22[1]}))}else{for(var i=0;i<_20;++i){this.addDrawItem(isc.DrawPath.create(_3,{autoDraw:true,points:_19[i]}))}}},isc.A.drawDataPoint=function isc_FacetChart_drawDataPoint(_1,_2,_3,_4,_5,_6,_7,_8){_6=_6||this;_7=_7!=null?_7:this.interactivePoints;if(isNaN(_1[1]))return;var _9=this.$107b(_2,_6),_10=this.$1352(),_11=this.pointShapes[(_10?(_2%this.pointShapes.length):0)];_3=_3||_6.dataPointSize;var _11=isc.DrawOval.create({lineColor:_9,fillColor:_9},_6.dataPointDefaults,_6.dataPointProperties,{drawPane:this,autoDraw:_8,centerPoint:_1,radius:Math.round(_3/2)});_11.isPointInPath=function(_13,_14){if(_1[0]<0||_1[1]<0)return false;var _12=isc.Math.$101k(_13-_1[0],_14-_1[1]);return _12<_3*2};_11.setProperties({canHover:_7,$104q:_6,dataRecord:_4,dataValue:_5});return _11},isc.A.getTriangleOnPoint=function isc_FacetChart_getTriangleOnPoint(_1,_2){var _3=[];var _4=Math.round(_2/2);_3.push([_1[0]-_4,_1[1]+_4]);_3.push([_1[0]+_4,_1[1]+_4]);_3.push([_1[0],_1[1]-_4]);return _3},isc.A.prepareForDragging=function isc_FacetChart_prepareForDragging(){this.Super("prepareForDragging",arguments);var _1=this.$778;if(_1!=null){this.hoopSelectorRect=[this.getPageLeft()+_1.left,this.getPageTop()+_1.top,_1.width,_1.height]}},isc.A.updateHoopSelection=function isc_FacetChart_updateHoopSelection(){},isc.A.drawTitle=function isc_FacetChart_drawTitle(){if(!this.showTitle){this.$78t={left:0,top:0,width:0,height:0}
return}
var _1=this.$78t=this.measureLabel(this.title||" ",this.titleProperties);var _2=Math.floor((this.getInnerContentWidth()/2)-(_1.width/2));this.$78h=this.drawLabel(_2,0,this.title||" ",this.titleProperties)},isc.A.setTitle=function isc_FacetChart_setTitle(_1){this.title=_1;this.$105a(false)},isc.A.setShowTitle=function isc_FacetChart_setShowTitle(_1){this.showTitle=_1;this.$105a(false)},isc.A.shouldShowDataAxisLabel=function isc_FacetChart_shouldShowDataAxisLabel(){if(this.chartType=="Scatter"){var _1=this.$1065(),_2=(_1!=null?this.getFacetValue(_1.id,this.getXAxisMetric()):null),_3=(_2&&_2.title)||null;return(_3!=null&&this.showDataAxisLabel!==false)}else{var _4=this.getDataLabelFacet();return(!this.isPieChart()&&this.chartType!="Radar"&&_4!=null&&_4.title!=null&&(this.showDataAxisLabel!==false))}},isc.A.shouldShowValueAxisLabel=function isc_FacetChart_shouldShowValueAxisLabel(_1){_1=_1||this;return(!(_1!=this&&_1.showAxis==false)&&(_1!=this||(!this.isPieChart()&&this.chartType!="Radar"))&&_1.valueTitle!=null&&(_1.showValueAxisLabel!==false)&&(!this.hasYGradations(_1.chartType)||this.$1057))},isc.A.getDataAxisLabelHeight=function isc_FacetChart_getDataAxisLabelHeight(){if(!this.shouldShowDataAxisLabel()){return 0}
var _1;if(this.chartType=="Scatter"){var _2=this.$1065(),_3=(_2!=null?this.getFacetValue(_2.id,this.getXAxisMetric()):null);_1=(_3&&_3.title)||null;if(_1==null){return 0}}else{var _4=this.getDataLabelFacet();if(!_4){return 0}
_1=_4.title}
var _5=this.measureLabel(_1,this.dataAxisLabelProperties);return _5.height+this.axisLabelMargin},isc.A.getValueAxisLabelHeight=function isc_FacetChart_getValueAxisLabelHeight(_1){_1=_1||this;if(!this.shouldShowValueAxisLabel(_1))return 0;var _2=this.measureLabel(_1.valueTitle,_1.valueAxisLabelProperties);return _2.height+this.axisLabelMargin},isc.A.getAxisLabelSpace=function isc_FacetChart_getAxisLabelSpace(_1){if(_1==this.hasYGradations()){return this.getValueAxisLabelHeight()}else{return this.getDataAxisLabelHeight()}},isc.A.drawDataAxisLabel=function isc_FacetChart_drawDataAxisLabel(){if(!this.shouldShowDataAxisLabel())return;var _1;if(this.chartType=="Scatter"){var _2=this.getFacetValue(this.$1065().id,this.getXAxisMetric());_1=_2.title||_2.id}else{_1=this.getDataLabelFacet().title}
this.drawAxisLabel(_1,this.dataAxisLabelProperties,!this.hasYGradations(),false)},isc.A.drawValueAxisLabel=function isc_FacetChart_drawValueAxisLabel(){if(!this.shouldShowValueAxisLabel())return;this.drawAxisLabel(this.valueTitle,this.valueAxisLabelProperties,this.hasYGradations(),false)},isc.A.$104h=function isc_FacetChart__drawAllValueAxisLabels(){if(!this.$1035()){this.drawValueAxisLabel()}else{var _1=this.$1036();if(this.$104g()){this.drawValueAxisLabel();var _2=_1.right[0];if(!this.shouldShowValueAxisLabel(_2))return;_2.$1048=this.drawAxisLabel(_2.valueTitle,_2.valueAxisLabelProperties,true,true)}else{var _3=this.getChartTop()+this.getChartHeight()+this.chartRectMargin,_4=this.$104i();for(var j=0;j<_4;++j){var _2=(j==0?this:_1.all[j-1]);if(!this.shouldShowValueAxisLabel(_2)){continue}
var _6=_2.valueTitle,_7=_2.valueAxisLabelProperties,_8=this.measureLabel(_6,_7);var _9=this.$103v(_2),_10=_2.$104f;_2.$1048=isc.DrawLabel.create(_7,{autoDraw:true,drawPane:this,left:_9+Math.round((_10-_8.width)/2),top:_3,height:_8.height,contents:_6})}}}},isc.A.drawAxisLabel=function isc_FacetChart_drawAxisLabel(_1,_2,_3,_4){var _5=this.measureLabel(_1,_2),_6=this.getChartRect();if(_3){var _7=_5.width/2;isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:(_4?this.getInnerContentWidth()-_5.height:0),top:_6.top+Math.round(_6.height/2+_7),height:_5.height,rotation:270,suppressArbitraryRotationWarning:true,contents:_1})}else{isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:_6.left+Math.round(_6.width/2-_5.width/2),top:(_6.top+_6.height+this.chartRectMargin+this.getXLabelsHeight()-_5.height),contents:_1})}});isc.evalBoundary;isc.B.push(isc.A.$122j=function isc_FacetChart__shouldShowLegend(){return(this.showLegend!==false&&this.$122i()&&(this.isMultiFacet()||this.isPieChart()||(this.chartType=="Scatter"&&this.$106i().length>1)||(this.$1035())))},isc.A.getLegendFacet=function isc_FacetChart_getLegendFacet(){var _1=this.$106i(),_2=this.isPieChart();if(this.chartType=="Scatter"){return _1[1]}else if(this.isMultiFacet()){return(this.reversePieFacets&&_2?_1[0]:_1[1])}else if(_2){return _1[0]}else{return null}},isc.A.getDataLabelFacet=function isc_FacetChart_getDataLabelFacet(){var _1=this.$106i();if(this.chartType=="Scatter"){return null}else if(this.isPieChart()){if(!this.isMultiFacet()){return null}else if(this.reversePieFacets){return _1[1]}}
return _1[0]},isc.A.$111a=function isc_FacetChart__getInlinedFacet(){return(this.$106l||this).inlinedFacet},isc.A.drawLegend=function isc_FacetChart_drawLegend(){this.logDebug("drawing legend","chartDraw");var _1=this.legendSwatchSize;var _2=this.legendPadding;var _3=this.legendItemPadding;var _4=this.legendTextPadding;var _5=this.legendRowPadding;var _6=this.$1035();var _7=this.$1065(),_8=this.getLegendFacet(),_9=_8&&_8.values&&_8.values.getLength();var _10=[];if(_6){var _11=_7&&_7.values[0],_12=_11!=null?(_11.title||_11.id):this.valueTitle;var _13={};if(_7!=null){_13[_7.id]=_11.id}
if(this.isMultiFacet()){for(var k=0;k<_9;++k){var _15=_8.values[k];_13[_8.id]=_15.id;var _16=this.getValue(_13,true),_17=true;for(var j=(_16!=null?_16.length:0);_17&&j--;){_17=!isc.isA.Number(_16[j])}
if(!_17){_10.add({title:_12+" ("+(_15.title||_15.id)+")",context:this,series:k,value:_11,metricValue:_15})}}}else{var _16=this.getValue(_13,true),_17=true;for(var j=(_16!=null?_16.length:0);_17&&j--;){_17=!isc.isA.Number(_16[j])}
if(!_17){_10.add({title:_12,context:this,series:0,value:_11})}}
_13={};var _19=this.$1036().all;for(var j=0,_20=_19.length;j<_20;++j){var _21=_19[j];var _22=this.getFacetValue(_7.id,_21.$103o),_23=(_22.title||_22.id);_13[_7.id]=_22.id;if(_21.isMultiFacet()){for(var k=0;k<_9;++k){var _15=_8.values[k];_13[_8.id]=_15.id;var _16=this.getValue(_13,true),_17=true;for(var l=(_16!=null?_16.length:0);_17&&l--;){_17=!isc.isA.Number(_16[l])}
if(!_17){_10.add({title:_23+" ("+(_15.title||_15.id)+")",context:_21,series:k,value:_22,metricValue:_15})}}}else{var _16=this.getValue(_13,true),_17=true;for(var l=(_16!=null?_16.length:0);_17&&l--;){_17=!isc.isA.Number(_16[l])}
if(!_17){var _25=_21.legendLabel;if(_25==null){_25=_23;if(this.isMultiFacet()){var _26=this.$103u(_21);_25=_25+" ("+(_26.title||_26.id)+")"}}
_10.add({title:_25,context:_21,series:0,value:_22,metricValue:_26})}}}}else{if(!_8.values)return;var _13={};if(_7!=null){_13[_7.id]=_7.values[0].id}
for(var i=0;i<_9;i++){var _15=_8.values[i];_13[_8.id]=_15.id;var _16=this.getValue(_13,true),_17=true;for(var j=(_16!=null?_16.length:0);_17&&j--;){_17=!isc.isA.Number(_16[j])}
if(!_17){_10.add({title:_15.title||_15.id,value:_15,series:i})}}}
var _28=this.getInnerWidth();var _29=_2;var _30=1;for(var i=0;i<_10.length;i++){var _31=this.measureLabel(_10[i].title,this.legendLabelProperties);var _32=_1+_4+_31.width;if(_29+_32+_2>_28){_30++;_29=_2}
if(i!=_10.length-1){_32+=_3}
_10[i].width=_31.width;_10[i].height=_31.height;_10[i].rowNum=_30;_10[i].left=_29;_29+=_32}
_29+=_2;var _33,_34,_35,_36;if(_30>1){_36=_28}else{_36=_29}
_34=(_30*_1)+(_2*2)+((_30-1)*_5);_35=this.getInnerContentHeight()
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)
-_34;if(_36==_28)_33=0;else _33=Math.floor((_28/2)-(_36/2));this.$78k={left:_33,top:_35,width:_36,height:_34};if(this.showLegendRect){var _37=this.drawRect(_33,_35,_36,_34,this.legendRectProperties,this);this.$129p(_37)}
var _38=isc.addProperties({$104x:true},this.legendLabelProperties);for(i=0;i<_10.length;i++){var _39=_10[i].width;var _29=_33+_10[i].left;var _40=_10[i].rowNum;var _41=_35+((_1+_5)*(_40-1))+_2;if(_6){var _42=this.$104b(_10[i].context,_10[i].series,_29,_41,_1);this.$129p(_42,_10[i].value,_10[i].metricValue)}else{var _43={fillColor:this.$107b(_10[i].series)};this.$129p(_43,_10[i].value,_10[i].metricValue);this.drawRect(_29,_41,_1,_1,isc.addProperties(_43,this.legendSwatchProperties),this)}
_29+=_1+_4;var _44=this.drawLabel(_29,_41+Math.round((_1-this.getDataLabelHeight())/2),_10[i].title,_38);this.$129p(_44,_10[i].value,_10[i].metricValue)}},isc.A.setDataColors=function isc_FacetChart_setDataColors(_1,_2){_2=_2||this;if(isc.isAn.Array(_1)&&_1.length>0){_2.dataColors=_1;if(this.data){this.$105a(false)}}},isc.A.getDataColor=function isc_FacetChart_getDataColor(_1,_2){_2=_2||this;var _3=_2.dataColors[_1%_2.dataColors.length];return(!isc.startsWith(_3,"#"))?"#"+_3:_3},isc.A.getDataGradient=function isc_FacetChart_getDataGradient(_1,_2,_3,_4,_5){_4=_4||this;_2=_2!==false;_3=_3==undefined?this.drawingType:_3;var _6=(_5===false?this:_4).getDataColor(_1);var _7=_4.chartType+_6.replace("#","-");var _8;if(!_2||!_4.dataGradients[_7]){switch(this.chartType){case"Bar":_8={id:_7,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_6,"-#0A0A0A"),offset:0.0},{color:_6,offset:0.2},{color:this.getClass().mixrgb(_6,"+#333333"),offset:0.4},{color:_6,offset:0.7},{color:this.getClass().mixrgb(_6,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break;case"Column":_8={id:_7,x1:'0%',y1:'0%',x2:'100%',y2:'0%',colorStops:[{color:this.getClass().mixrgb(_6,"-#0A0A0A"),offset:0.0},{color:_6,offset:0.2},{color:this.getClass().mixrgb(_6,"+#333333"),offset:0.4},{color:_6,offset:0.7},{color:this.getClass().mixrgb(_6,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break;case"Area":case"Line":_8={id:_7,x1:0,x2:0,y1:"0%",y2:"100%",colorStops:[{color:this.getClass().mixrgb(_6,"+#555555"),offset:0.0},{color:this.getClass().mixrgb(_6,"+#222222"),offset:0.3},{color:this.getClass().mixrgb(_6,"-#333333"),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break;case"Doughnut":case"Pie":_8={id:_7,colorStops:[{color:_6,offset:0.0},{color:_6,offset:_3=="vml"?0.8:0.9},{color:this.getClass().mixrgb(_6,"-#222222"),offset:_3=="vml"?0.9:0.95},{color:this.getClass().mixrgb(_6,"-#666666"),offset:1.0}]};if(_3!="svg"){isc.addProperties(_8,{cx:0,cy:0,r:'72%',fx:0,fy:0})}
if(_2)this.createRadialGradient(_7,_8);break;default:_8={id:_7,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_6,"+"+(_3=="vml"?"#111111":"#222222")),offset:0.0},{color:_6,offset:0.4},{color:_6,offset:0.6},{color:this.getClass().mixrgb(_6,"-"+(_3=="vml"?"#111111":"#1A1A1A1A")),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break}}
if(_8&&_2)_4.dataGradients[_7]=_8;return(_2?_7:_8)},isc.A.$985=function isc_FacetChart__getPieSeriesGradient(_1,_2,_3,_4,_5){_4=_4!==false;_5=_5==undefined?this.drawingType:_5;if(_5!="svg")return this.$99i(_1,_4,_5);if(this.$986==undefined)this.$986=1;var _6="radialGradient"+(this.$986++);var _7={id:_6,$981:this.$99i(_1,_4,_5),cx:_2[0],cy:_2[1],r:_3,$984:true};if(_4){this.createRadialGradient(_6,_7);return _6}else{this.addGradient(_7);return _7}},isc.A.getRadarShapeGradient=function isc_FacetChart_getRadarShapeGradient(_1,_2,_3,_4){var _5=_2.points,_6=this.getClass().mixrgb(_1,"+#444444"),_7=this.getClass().mixrgb(_1,"-#444444");var _8=0.01,_9=Number.MAX_VALUE;for(var i=_5.length;i--;){var _11=isc.GraphMath.straightDistance(_5[i],_3);_8=Math.max(_11,_8);_9=Math.min(_11,_9)}
if(_4)_9=0;var _12=_9/_8;var _13=_2.getCenter(),x=-_13[0]+_3[0],y=-_13[1]+_3[1];return{cx:x,cy:y,r:_8,fx:x,fy:y,colorStops:[{color:_6,offset:0},{color:_6,offset:_12},{color:_7,offset:1.0}]}},isc.A.$105v=function isc_FacetChart__getColorMutePercent(_1,_2){if(isc.isA.String(_1)){var _3=_1.endsWith("%");_1=parseFloat(_1)}
if(isc.isA.Number(_1)){_1=Math.min(_1,100);_1=-Math.min(-_1,100)}else{_1=_2}
return _1},isc.A.$107b=function isc_FacetChart__getDataColor(_1,_2){_2=_2||this;return isc.DrawPane.$105t(this.colorMutePercent,_2.getDataColor(_1))},isc.A.$99i=function isc_FacetChart__getDataGradient(_1,_2,_3,_4){_4=_4||this;var _5=_4.$1062;if(_5==null){_5=_4.$1062={}}
var _6=_4.chartType,_7=_6+"_"+_1;if(_5[_7]==null){var _8=isc.DrawPane.$105t,_9=this.colorMutePercent;var _10=_4.getDataGradient(_1,_2,_3);if(isc.isA.String(_10)){_10=this.getGradient(_10)}
_10=isc.clone(_10);_10.startColor=_10.startColor&&_8(_9,_10.startColor);_10.endColor=_10.endColor&&_8(_9,_10.endColor);var _11=isc.isAn.Array(_10.colorStops)?_10.colorStops.length:0;for(var i=0;i<_11;++i){var _13=_10.colorStops[i];_13.color=_13.color&&_8(_9,_13.color)}
var _14=0;if(_4!=this){_14=1+this.$1039().indexOf(_4.$103o)}
var _15=this.getID()+"_"+_14+"_"+_6+"_data_gradient_"+_1;if(typeof(_10.direction)==="number"){_10=this.createSimpleGradient(_15,_10)}else if(typeof(_10.x1)==="number"){_10=this.createLinearGradient(_15,_10)}else{_10=this.createRadialGradient(_15,_10)}
_5[_7]=_10}
return _5[_7]},isc.A.$106n=function isc_FacetChart__getBackgroundColor(){return this.backgroundColor||"#ffffff"},isc.A.drawLabel=function isc_FacetChart_drawLabel(_1,_2,_3,_4,_5){var _6=(_5?this.rotateProps:null);var _7=isc.DrawLabel.create(_4,_6,{autoDraw:true,drawPane:this,left:_1,top:_2,contents:_3});return _7},isc.A.getDrawnValueAtPoint=function isc_FacetChart_getDrawnValueAtPoint(_1,_2,_3){return this.getNearestDrawnValue(_1,_2,_3,true)},isc.A.getDrawnValuesAtPoint=function isc_FacetChart_getDrawnValuesAtPoint(_1,_2){return this.getNearestDrawnValues(_1,_2,true)},isc.A.drawnValueContainsPoint=function isc_FacetChart_drawnValueContainsPoint(_1,_2,_3){if(_1==null||(_2!=null&&_3==null))
{return null}
if(_2==null){_2=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding();_3=this.getOffsetY()-this.getTopMargin()-this.getTopPadding()}
var _4=this;if(this.$1035()){var i=this.$1039().indexOf(_1.facetValues.metric);if(i!=-1){_4=this.$1036().all[i]}}
return this.$1267(_1,_2,_3,_4)},isc.A.$1267=function isc_FacetChart__isDrawnValueUnderCoordinates(_1,_2,_3,_4){switch(_4.chartType){case"Bar":var _5=this.getChartRect();if(_5!=null&&!(_5.left<=_2&&_2<=(_5.left+_5.width))){return false}
var _6=_1.barThickness/2;if(!(_2<=_1.x)||!(_1.y-_6<=_3&&_3<=_1.y+_6))
{return false}
if(_1.prevX!=null){if(!(_1.prevX<=_2)){return false}}
break;case"Column":var _5=this.getChartRect();if(_5!=null&&!(_5.top<=_3&&_3<=(_5.top+_5.height))){return false}
var _6=_1.barThickness/2;if(!(_1.y<=_3)||!(_1.x-_6<=_2&&_2<=_1.x+_6))
{return false}
if(_1.prevY!=null){if(!(_3<=_1.prevY)){return false}}
break;case"Scatter":case"Area":case"Line":case"Radar":if(isc.Math.$101k(_2-_1.x,_3-_1.y)>this.dataPointSize){return false}
break;case"Doughnut":case"Pie":var _7=_1.x,_8=_1.y,_9=_1.radius,_10=_1.startAngle,_11=_1.endAngle;var _12=(_4.shouldShowDoughnut()?(_9*_4.doughnutRatio):0);var r=isc.Math.$101k(_2-_7,_3-_8);if(!(_12<=r&&r<=_9))return false;var _14=isc.DrawItem.computeAngle(_7,_8,_2,_3);if(!(_10<=_14&&_14<=_11)&&!(_11<=_14&&_14<=_10))
{return false}
break;default:return false}
return true},isc.A.getNearestDrawnValue=function isc_FacetChart_getNearestDrawnValue(_1,_2,_3,_4){if(!this.$111u(_1,_2)){return null}
var _5=this;if(this.$1035()){var i=this.$1039().indexOf(_3);if(i!=-1){_5=this.$1036().all[i]}}
if(_1==null){_1=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding();_2=this.getOffsetY()-this.getTopMargin()-this.getTopPadding()}
var _7=this.$100u(_1,_2,_5,true,false);if(_7!=null){if(_4&&!this.$1267(_7,_1,_2,_5)){return null}
delete _7.drawItemId;delete _7.text}
return _7},isc.A.getNearestDrawnValues=function isc_FacetChart_getNearestDrawnValues(_1,_2,_3){if(!this.$111u(_1,_2)){return null}
if(_1==null){_1=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding();_2=this.getOffsetY()-this.getTopMargin()-this.getTopPadding()}
var _4;if(this.chartType=="Scatter"){_4=this.$111v(_1,_2,false);if(_3){for(var i=0,_6=(_4!=null?_4.length:0);i<_6;++i){if(!this.$1267(_4[i],_1,_2,this))_4[i]=null}}}else{var _7=this.getDataLabelFacet(),_8=this.getLegendFacet(),_9=(this.inlinedFacet!=null&&this.inlinedFacet!=_7&&this.inlinedFacet!=_8?this.inlinedFacet:null),_10=this.$1035(),_11=_10&&this.$1036().all,_12=(_9!=null?_9.values.length:1);_4=new Array(_12);for(var i=0;i<_12;++i){var _13;if(i==0){_13=this}else if(_10){var _14=_9.values[i].id;for(var k=0;k<_11.length;++k){if(_14==_11[k].$103o){_13=_11[k];break}}}else{_13=null}
if(_13==null){_4[i]=null}else{_4[i]=this.$100u(_1,_2,_13,true,false);if(_3&&_4[i]!=null){if(!this.$1267(_4[i],_1,_2,_13))_4[i]=null}}}}
for(var i=0,_6=(_4!=null?_4.length:0);i<_6;++i){if(_4[i]!=null){delete _4[i].drawItemId;delete _4[i].text}}
return _4},isc.A.$111u=function isc_FacetChart__canGetNearestDrawnValue(_1,_2){if(_1!=null&&_2==null){isc.logWarn("Both coordinates should be passed in method getNearestDrawnValue or no coordinates at all to use getOffset methods.");return false}else if(!this.isDrawn()){isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return false}else if(this.chartType!="Scatter"&&this.getOrderedData().length==0){return false}else if(this.chartType=="Scatter"&&this.$106j().length==0){return false}else{return true}},isc.A.$111v=function isc_FacetChart__getScatterNearestDrawnValues(_1,_2,_3){var _4=isc.Math.$101k,_5=this.getOrderedData(),_6=this.getLegendFacet(),_7=null,_8=null,_9=null;for(var j=_6?_6.values.length:1;j--;){var _11=(_6?_5[j].series:_5);for(var i=_11.length;i--;){var s=_11[i];if(s.record!=null){var _14=_4(_1-s.drawnX,_2-s.drawnY);if(_9==null||_14<_9){_7=s;if(_6)_8=j;_9=_14}}}}
if(_7==null){return null}else{var _15=this.metricFacet,_16=_15.values.length,_17=new Array(_16),_18=this.getXAxisMetric(),_19=this.getYAxisMetric(),_20=_15.values.findIndex("id",_18),_21=_15.values.findIndex("id",_19),_22={};if(_6!=null){_22[_6.id]=_5[_8].facetValueId}
for(var i=_16;i--;){if(i==_20||i==_21){var _23=_7.record[i==_20?_18:_19];_17[i]={x:Math.round(_7.drawnX),y:Math.round(_7.drawnY),value:_23,facetValues:_22,record:_7.record,text:(_3?this.formatDataValue(_23):null),drawItemId:_7.drawItemId}}else{_17[i]=null}}
return _17}},isc.A.$100u=function isc_FacetChart__getNearestDrawnValue(_1,_2,_3,_4,_5){if(_3.chartType=="Scatter"){var _6=this.$111v(_1,_2,_5);if(_6==null){return null}else{var _7=this.metricFacet,_8=this.getXAxisMetric(),_9=this.getYAxisMetric(),_10=_7.values.findIndex("id",_8),_11=_7.values.findIndex("id",_9);return(_6[_11]||_6[_10]||null)}}
var _12=isc.Math.$101k,d=this.getOrderedData(),_14=this.$1068(),_15=_14[0].index,_16=1+_14[1].index,_17=this.getDataLabelFacet(),_18=_17&&_17.id,_19=this.getLegendFacet(),_20=_19&&_19.id,_21=(this.inlinedFacet!=null&&this.inlinedFacet!=_17&&this.inlinedFacet!=_19?this.inlinedFacet:null);var _22=(_3!=this),_23=_3.isMultiFacet(),_24,_25;if(_22){_24=_3.$103o;if(this.isMultiFacet()&&!_3.isMultiFacet()){var _26=this.$103u(_3);_25=_19.values.findIndex("id",_26.id)}}
switch(_3.chartType){case"Bar":var _27=null,_28={};if(this.isMultiFacet()){var _29=_23&&!this.isStacked(_3),_30=null;if(_29){outer:for(var i=0,_32=null;i<d.length;++i){var _33=d[i];for(var j=0;j<_33.series.length;++j){var s=_33.series[j];if(isc.isA.Number(s.value)){var _36=s.drawnY&&Math.abs(s.drawnY-_2);if(_32==null||_36<_32){_30=_33;_27=s;_32=_36}else{break outer}}}}}else{var _37=(_23&&this.isStacked(_3));for(var i=0,_32=null;i<d.length;++i){var s=null;for(var j=d[i].series.length;s==null&&j--;){if(isc.isA.Number(d[i].series[j].value)){s=d[i].series[j];break}}
if(s!=null){var _36=Math.abs(s.drawnY-_2);if(_32==null||_36<_32){_30=d[i];_32=_36}else{break}}}
if(_30!=null){var _32=0,_38=true,_39=false;for(var j=0;j<_30.series.length;++j){var s=_30.series[j];if(isc.isA.Number(s.value)){var _40=s.prevDrawnX,_41=(_40+s.drawnX)/2,_36=Math.abs(_41-_1),_42=((_40<=_1&&_1<=s.drawnX)||(s.drawnX<=_1&&_1<=_40));if(_38||(_39?(_42&&_36<_32):(_42||_36<_32)))
{_27=s;_32=_36}else if(!_37){break}
_38=false;_39=_39||_42}}}}
_28[_18]=_30&&_30.facetValueId;_28[_20]=_27&&_27.facetValueId}else{for(var i=0,_32=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){var _36=Math.abs(s.drawnY-_2);if(_32==null||_36<_32){_27=s;_32=_36}else{break}}}
_28[_18]=_27&&_27.facetValueId}
if(_21!=null){_28[_21.id]=_21.values[0].id}
return(_27&&{x:Math.round(_27.drawnX),y:Math.round(_27.drawnY),prevX:_27.prevDrawnX,barThickness:_27.barThickness,value:_27.value,text:(_5?this.formatDataValue(_27.value):null),facetValues:_28,record:_27.record,drawItemId:_27.drawItemId});case"Column":var _43=this.isMultiFacet()&&(!_22||_23),_44=!_43&&_22&&this.isMultiFacet(),_45=!_43&&!_44,_27=null,_46,_28={},_47;if(_43){var _29=_23&&!this.isStacked(_3),_48=null,_49=null;if(_29){outer:for(var i=_15,_32=null;i<_16;++i){var _33=d[i];for(var j=0;j<_33.series.length;++j){var _50=this.$1040(_3,i,j);if(isc.isA.Number(_50.value)){var _36=Math.abs(_50.drawnX-_1);if(_32==null||_36<_32){_48=i;_49=j;_32=_36}else{break outer}}}}}else{var _37=(_23&&this.isStacked(_3));for(var i=_15,_32=null;i<_16;++i){var _50=null;for(var j=d[_15].series.length;_50==null&&j--;){var _51=this.$1040(_3,i,j);if(isc.isA.Number(_51.value))_50=_51}
if(_50!=null){var _36=Math.abs(_50.drawnX-_1);if(_32==null||_36<_32){_48=i;_32=_36}else{break}}}
if(_48!=null){var _32=0,_38=true,_52=false;for(var j=0;j<d[_48].series.length;++j){var _50=this.$1040(_3,_48,j);if(isc.isA.Number(_50.value)){var _53=_50.prevDrawnY,_54=(_53+_50.drawnY)/2,_36=Math.abs(_54-_2),_42=((_53<=_2&&_2<=_50.drawnY)||(_50.drawnY<=_2&&_2<=_53));if(_38||(_52?(_42&&_36<_32):(_42||_36<_32)))
{_49=j;_32=_36}else if(!_37){break}
_38=false;_52=_52||_42}}}}
if(_48!=null&&_49!=null){_27=this.$1040(_3,_48,_49);var _55=d[_48].series[_49];_47=_55.record;_46=(_22?_47[_24]:_55.value);_28[_18]=d[_48].facetValueId;_28[_20]=_55.facetValueId;if(_21!=null){_28[_21.id]=(_22?_24:_21.values[0].id)}}}else{var _48=null,_49=(_44?_25:null);for(var i=_15,_32=null;i<_16;++i){var _50=this.$1040(_3,i,_49);if(isc.isA.Number(_50.value)){var _36=Math.abs(_50.drawnX-_1);if(_32==null||_36<_32){_48=i;_32=_36}else{break}}}
if(_48!=null){_27=this.$1040(_3,_48,_49);var _55=(_44?d[_48].series[_49]:d[_48]);_47=_55.record;_46=(_22?_47[_24]:_55.value);_28[_18]=d[_48].facetValueId;if(_44){_28[_20]=_55.facetValueId}
if(_21!=null){_28[_21.id]=(_22?_24:_21.values[0].id)}}}
return(_27&&{x:Math.round(_27.drawnX),y:Math.round(_27.drawnY),prevY:_27.prevDrawnY,barThickness:_27.barThickness,value:_46,text:(_5?_3.formatDataValue(_46):null),facetValues:_28,record:_47,drawItemId:_27.drawItemId});case"Area":case"Line":var _43=this.isMultiFacet()&&(!_22||_23),_44=!_43&&_22&&this.isMultiFacet(),_45=!_43&&!_44,_48=null,_49=null,_27=null;if(_4){for(var i=_16-1,_56=null;i>=_15;--i){for(var j=(_43?d[i].series.length:1);j--;){var k=(_43?j:(_44?_25:null)),_58=this.$1040(_3,i,k);if(isc.isA.Number(_58.value)){var _59=_12(_1-_58.drawnX,_2-_58.drawnY);if(_56==null||_59<_56){_56=_59;_48=i;_49=k;_27=_58}}}}}else if(_43){for(var i=_15,_32=null;i<_16;++i){var _50=null;for(var j=d[_15].series.length;_50==null&&j--;){var _51=this.$1040(_3,i,j);if(isc.isA.Number(_51.value))_50=_51}
if(_50!=null){var _36=Math.abs(_50.drawnX-_1);if(_32==null||_36<_32){_48=i;_32=_36}else{break}}}
if(_48!=null){for(var j=0,_60=false,_32=null;j<d[_48].series.length;++j){var s=this.$1040(_3,_48,j);if(isc.isA.Number(s.value)){var _54=s.drawnY,_36=Math.abs(_54-_2);if(!_60&&_54>=_2){_60=true;_32=_36;_27=s;_49=j}else if((!_60||_54>=_2)&&(_27==null||_32>_36)){_32=_36;_27=s;_49=j}}}}}else{_48=null;_49=(_44?_25:null);for(var i=_15,_32=null;i<_16;++i){var _50=this.$1040(_3,i,_49);if(isc.isA.Number(_50.value)){var _36=Math.abs(_50.drawnX-_1);if(_32==null||_36<_32){_48=i;_32=_36}else{break}}}
_27=(_48!=null&&this.$1040(_3,_48,_49))}
if(_27==null){return null}
var _46,_28={},_47;if(_43){var _55=d[_48].series[_49];_47=_55.record;_46=(_22?_47[_24]:_55.value);_28[_18]=d[_48].facetValueId;_28[_20]=_55.facetValueId;if(_21!=null){_28[_21.id]=(_22?_24:_21.values[0].id)}}else{var _55=(_44?d[_48].series[_49]:d[_48]);_47=_55.record;_46=(_22?_47[_24]:_55.value);_28[_18]=d[_48].facetValueId;if(_44){_28[_20]=_55.facetValueId}
if(_21!=null){_28[_21.id]=(_22?_24:_21.values[0].id)}}
return{x:Math.round(_27.drawnX),y:Math.round(_27.drawnY),value:_46,text:(_5?_3.formatDataValue(_46):null),facetValues:_28,record:_47};case"Radar":var _30=null,_28={};if(this.isMultiFacet()){var _48=null,_49=null;for(var i=0,_59=null;i<d.length;++i){for(var j=0;j<d[i].series.length;++j){var s=d[i].series[j];if(isc.isA.Number(s.value)){var _61=_12(s.drawnX-_1,s.drawnY-_2);if(_59==null||_61<_59){_59=_61;_30=s;_48=i;_49=j}}}}
if(_30!=null){_28[_18]=d[_48].facetValueId;_28[_20]=_30.facetValueId}}else{for(var i=0,_59=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){var _61=_12(s.drawnX-_1,s.drawnY-_2);if(_59==null||_61<_59){_59=_61;_30=d[i]}}}
_28[_18]=_30&&_30.facetValueId}
if(_21!=null){_28[_21.id]=_21.values[0].id}
return(_30&&{x:Math.round(_30.drawnX),y:Math.round(_30.drawnY),value:_30.value,text:(_5?this.formatDataValue(_30.value):null),facetValues:_28,record:_30.record});case"Doughnut":case"Pie":var _62=this.isMultiFacet(),_28={},_27=null
if(!_62){for(var i=0,_63=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){if(_63==null){var _64=_2-s.pieY,_65=_1-s.pieX;_63=Math.atan2(_64,_65)*180/Math.PI;if(_63<0)_63+=360}
if(_63>s.startAngle&&_63<s.endAngle){_27=s}}}}else{var _25=null;if(this.stacked){for(var i=0,_59=null;i<d.length;++i){var s=null;for(var j=d[0].series.length;s==null&&j--;){var _51=d[i].series[j];if(isc.isA.Number(_51.value))s=_51}
if(s!=null){if(_59==null){_59=_12(s.pieX-_1,s.pieY-_2)}
if(_59<s.pieRadius&&(_25==null||s.pieRadius<d[_25].series[0].pieRadius))
{_25=i}}}}else{for(var i=0,_59=null;i<d.length;++i){var s=null;for(var j=d[0].series.length;s==null&&j--;){var _51=d[i].series[j];if(isc.isA.Number(_51.value))s=_51}
if(s!=null){var _61=_12(s.pieX-_1,s.pieY-_2);if(_59==null||_61<_59){_59=_61;_25=i}}}}
if(_25!=null){var _30=d[_25],_64=_2-_30.series[0].pieY;_65=_1-_30.series[0].pieX;_63=Math.atan2(_64,_65)*180/Math.PI;if(_63<0)_63+=360;for(var i=0;i<_30.series.length;++i){var s=_30.series[i];if(isc.isA.Number(s.value)){if(_63>=s.startAngle&&_63<s.endAngle){_27=s}}}
_28[_18]=d[_25].facetValueId}}
if(_27==null){return null}
_28[_20]=_27.facetValueId;if(_21!=null){_28[_21.id]=_21.values[0].id}
return{x:Math.round(_27.pieX),y:Math.round(_27.pieY),value:_27.value,text:(_5?this.formatDataValue(_27.value):null),facetValues:_28,record:_27.record,startAngle:_27.startAngle,endAngle:_27.endAngle,radius:_27.pieRadius,drawItemId:_27.drawItemId};default:return null}});isc.evalBoundary;isc.B.push(isc.A.$1268=function isc_FacetChart__getDrawnValueHelper(_1,_2,_3,_4){var _5=this.$1040(_2,_3,_4,true);if(_5==null||(this.isPieChart(_2.chartType)?(_5.pieX==null||_5.pieY==null):(_5.drawnX==null||_5.drawnY==null)))
{return null}
var _6={x:_5.drawnX,y:_5.drawnY,value:_5.value,facetValues:_1,record:_5.record};if(_5.startAngle!=null){_6.x=_5.pieX;_6.y=_5.pieY;_6.startAngle=_5.startAngle;_6.endAngle=_5.endAngle;_6.radius=_5.pieRadius}else if(_5.barThickness!=null)_6.barThickness=_5.barThickness;return _6},isc.A.getDrawnValue=function isc_FacetChart_getDrawnValue(_1,_2,_3){if(_2==null)_2=true;if(!this.isDrawn()){if(_2)isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return null}
var d=this.getOrderedData();var _5=this.isMultiFacet();if(d.length==0)return null;var _6=this.getDataLabelFacet(),_7=_6&&_6.id,_8=this.getLegendFacet(),_9=_8&&_8.id,_10=(this.inlinedFacet!=null&&this.inlinedFacet!=_6&&this.inlinedFacet!=_8?this.inlinedFacet:null),_11=_10&&_10.id,_12=(_6?_7:_9),_13=null,_14=this.chartType=="Scatter";if(_1&&_10&&!_10.values.find("id",_13=_1[_11])){return null}
var _15=this;if(this.$1035()&&_13!=null){var i=this.$1039().indexOf(_13);if(i!=-1){_15=this.$1036().all[i]}}
if(!_3){if(!_1){if(_2)isc.logWarn("FacetValues should be passed to get drawn value.");return null}
if((_6&&!_1.hasOwnProperty(_7))||(_8&&!_1.hasOwnProperty(_9))||(_10&&!_1.hasOwnProperty(_11)))
{return null}
for(var i=d.length;i--;){if(d[i].facetValueId==_1[_12]){if(_14){if(d[i].series.length!=1){return null}
return this.$1268(_1,_15,i,0)}else if(!_5){return this.$1268(_1,_15,i)}else{for(var j=d[i].series.length;j--;){if(d[i].series[j].facetValueId==_1[_9]){return this.$1268(_1,_15,i,j)}}}}}
return null}else{var _18,_19=[],_20;for(var i=d.length;i--;){if(_1==null||_1[_12]==null||d[i].facetValueId==_1[_12])
{if(_14){for(var j=d[i].series.length;j--;){_20={};_20[_12]=d[i].facetValueId;var _21=this.$1268(_20,_15,i,j);if(_21!=null){_19.add(_21)}}}else if(!_5){_20={};_20[_12]=d[i].facetValueId;var _21=this.$1268(_20,_15,i);if(_21!=null){_19.add(_21)}}else{for(var j=d[i].series.length;j--;){if(_1==null||_1[_9]==null||d[i].series[j].facetValueId==_1[_9])
{_20={};_20[_12]=d[i].facetValueId;_20[_9]=d[i].series[j].facetValueId;var _21=this.$1268(_20,_15,i,j);if(_21!=null){_19.add(_21)}}}}}}
return _19}},isc.A.getDrawnValues=function isc_FacetChart_getDrawnValues(_1,_2){return this.getDrawnValue(_1,_2,true)},isc.A.$1040=function isc_FacetChart__getDrawnValue(_1,_2,_3,_4){var _5=this.getOrderedData(),_6=this.getLegendFacet(),_7=this.$116d(),_8=this.$116e(),_9=!(_7||_8);if(_1.chartType=="Scatter"){return(_6?_5[_2].series[_3]:_5[_2])}
var _10=this.isMultiFacet(),_11=(_1!=this),_12;if(_11){_12=this.$1036().all.indexOf(_1);if(_10&&!_1.isMultiFacet()){var _13=this.$103u(_1),_14=_6.values.findIndex("id",_13.id);if(_4&&_3!=null&&_3!=_14){return null}else{_3=_14}}}
var _15=_10?_5[_2].series[_3]:_5[_2],_16=_15.record;if(_11){_15=((_15.drawn||(_15.drawn=[]))[_12]||(_15.drawn[_12]={}))}
if(_7){_15=(_15.zoom||(_15.zoom={}))}else if(_8){_15=(_15.zoomSelection||(_15.zoomSelection={}))}
_15.record=_16;return _15},isc.A.mouseOut=function isc_FacetChart_mouseOut(){if(this.$120s==null){var _1=this;this.$120s=isc.Timer.setTimeout(function(){delete _1.$120s;_1.$1002();_1.$105f()},100)}
return true},isc.A.mouseOver=function isc_FacetChart_mouseOver(){if(this.$120s!=null){isc.Timer.clear(this.$120s);delete this.$120s}
return true},isc.A.handleTouchMove=function isc_FacetChart_handleTouchMove(_1){_1.DOMevent.preventDefault()},isc.A.mouseMove=function isc_FacetChart_mouseMove(){var _1=this.$106j();if(!isc.isAn.Array(_1)||_1.length==0||!this.$122i()){return}
var _2=this.getChartRect();if(_2==null){return}
var x=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopMargin()-this.getTopPadding();if(x>=_2.left&&x<=_2.left+_2.width&&y>=_2.top&&y<=_2.top+_2.height)
{var _5=this.$1043();if(_5!=null){if(this.$100l==null){this.$100m=isc.DrawRect.create(this.hoverRectProperties,{autoDraw:true,drawPane:this,height:20,width:24,top:-100,shadow:(this.$1334(this)?this.hoverRectProperties.shadow:null)});this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:"",shadow:(this.$1334(this)?this.hoverLabelProperties.shadow:null)})}
var _6=this.$100u(x,y,_5,false,true);if(_6!=null&&_6.value==null)_6.value=0;if(_6!=null&&this.$100l.contents!==_6.value){var _7=this.measureHoverLabel(_6.text);if(this.$100m.drawingVML){this.$100m.destroy();this.$100m=isc.DrawRect.create(this.hoverRectProperties,{autoDraw:true,drawPane:this,height:_7.height+8,width:_7.width+8,top:-300});this.$100l.destroy();this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:_6.text})}else{this.$100l.contents=_6.text;this.$100m.width=_7.width+8;this.$100m.height=_7.height+8}
this.$100l.draw();var _8=_6.x;var _9=_6.y;switch(_5.chartType){case"Area":case"Line":case"Radar":if(_5.showDataPoints==true){}
_9-=this.$100m.height+4;_8+=4;break;case"Bar":_9-=this.$100m.height/2;_8-=this.hoverLabelOffset;break;case"Column":_9-=this.$100m.height;break;case"Doughnut":case"Pie":var _10=(_6.startAngle+_6.endAngle)/2+90;if(_10<0){_10+=360}
var _11=this.$100k([_6.x,_6.y],this.maxRadius||_6.radius,_10,_6.text,this.hoverLabelProperties);_8=_11[0];_9=_11[1]}
if(_6.drawItemId){var _12=window[_6.drawItemId];if(this.$100y&&this.$100y.ID!=_12.ID){this.$100z()}
if(this.$100y==null){this.$100y=_12;if(_12.radius){_12.setFillOpacity((100-this.brightenPercent)/100)}else{var _13=_12.lineColor;_12.prevLineColor=_13;_13=this.$100x(_13,this.brightenPercent);_12.setLineWidth(2);_12.setLineColor(_13)}}}
if(_8<0){_8=0}else{var _14=this.getInnerContentWidth();if((_8+this.$100m.width)>_14){_8=_14-this.$100m.width-8}}
if(_9<0){_9=0}else{var _15=this.getInnerContentHeight();if((_9+this.$100m.height)>_15){_9=_15-this.$100m.height-8}}
var _16=4;if(isc.Browser.isFirefox)_16+=3;this.$100l.moveTo(_8+4,_9+_16);this.$100m.moveTo(_8,_9)}else if(_6==null){this.$1002()}}else{this.$1002()}}else if(this.$1045()){var _17=this.$1036(),_18=1+_17.visible.length;for(var j=0;j<_18;++j){var _5=(j==0?this:_17.visible[j-1]),_20=this.$103v(_5),_21=_20+_5.$104f;if(_20<=x&&x<=_21){if(_5==this){break}
var _22=_2.top,_23=_22+_2.height,_24=(_20<=x&&x<=_21&&_22<=y&&y<=_23),_25=_5.$1048;if(!_24&&_25!=null){var _26=_25.getBoundingBox();_24=((_20<=x&&x<=_21&&(_26[1]<=y||_22<=y)&&(y<=_26[3]||y<=_23))||(_26[0]<=x&&x<=_26[2]&&_26[1]<=y&&y<=_26[3]))}
if(_24){this.$105d(_5);return}}}}
if(this.$1045()){this.$105f()}},isc.A.$1002=function isc_FacetChart__cleanHoverItems(){if(this.$100l!=null){this.$100l.destroy();this.$100m.destroy();this.$100l=null;this.$100m=null;if(this.$100y)this.$100z()}},isc.A.$100z=function isc_FacetChart__cleanHighlightedItem(){this.$100y.setLineColor(this.$100y.prevLineColor);this.$100y.setLineWidth(1);delete this.$100y.prevLineColor;if(this.$100y.radius){this.$100y.setFillOpacity(1.0)}
delete this.$100y},isc.A.$100x=function isc_FacetChart__getHighlightedColor(_1,_2){if(_1.charAt(0)=="#"){_1=_1.substring(1,7)}
var r=parseInt(_1.substring(0,2),16);var g=parseInt(_1.substring(2,4),16);var b=parseInt(_1.substring(4,6),16);r=Math.min(255,r+Math.round((r*_2)/100));g=Math.min(255,g+Math.round((g*_2)/100));b=Math.min(255,b+Math.round((b*_2)/100));return"#"+(r>15?"":"0")+r.toString(16)+(g>15?"":"0")+g.toString(16)+(b>15?"":"0")+b.toString(16)},isc.A.$104t=function isc_FacetChart__getHoverLabel(_1,_2,_3,_4,_5){var _6;if(_3!=null){_6=(_1[_2]||(_1[_2]={}))[_3]}else{_6=_1[_2]}
if(_6!=null){return _6}else if(_5==null){return null}else{var _7=_4.formatDataValue(_5);_6=this.measureHoverLabel(_7);_6.text=_7;_6.value=_5;if(_3!=null){_1[_2][_3]=_6}else{_1[_2]=_6}
return _6}},isc.A.measureHoverLabel=function isc_FacetChart_measureHoverLabel(_1){return this.measureLabel(_1,this.hoverLabelProperties)},isc.A.destroy=function isc_FacetChart_destroy(){if(this.$117r!=null){this.$117r.destroy();delete this.$117r}
this.$1002();this.Super("destroy",arguments)},isc.A.$107e=function isc_FacetChart__getDataType(){if(this.labelCollapseMode=="numeric"){return"float"}else if(this.labelCollapseMode=="time"){return"date"}
var _1=this.$107f(),_2=this.$107g();if(isc.isA.Number(_1)&&isc.isA.Number(_2)){return"float"}else if(isc.isA.Date(_1)&&isc.isA.Date(_2)){return"date"}else if(isc.isA.String(_1)&&isc.isA.String(_2)){return"string"}},isc.A.$107d=function isc_FacetChart__hasDiscreteDataValues(){var _1=(this.chartType=="Bar"||this.chartType=="Column"||this.labelCollapseMode=="sample");if(!_1){var _2=this.$107e();_1=(_2=="string"||_2==null);if(!_1){var _3=this.$114q;if(_3==null){_3=true;var _4=this.getOrderedData();for(var i=_4.length,_6=_4[i-1].title;_3&&i--;){var _7=_4[i].title;_3=(_7<=_6);_6=_7}
this.$114q=_3}
_1=!_3}}
return _1},isc.A.$107f=function isc_FacetChart__getMinDataValue(){var _1=this.getOrderedData(),_2=_1.length;var i=0;while(i<_2&&_1[i].title==null)
++i;return _1[(i==_2?0:i)].title},isc.A.$107g=function isc_FacetChart__getMaxDataValue(){var _1=this.getOrderedData(),_2=_1.length;var i=_2-1;while(i>=0&&_1[i].title==null)
--i;return _1[(i==-1?_2-1:i)].title},isc.A.$107h=function isc_FacetChart__delegateToParentChartMethods(){var _1={};var _2=["getFacet","getFacetValue","getOrderedData","getValue","setData","setFacets","swapFacets","getFacetData","deriveFacetValues","isMultiFacet","getValueFromRecord","getDataRecord","getDataSeries","getDefaultMetric","getMinValue","getMaxValue"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=(function(_5){return function(){var _6=this.$106l;return _6[_5].apply(_6,arguments)}})(_5)}
_1.setupChart=function(){};return _1},isc.A.$116d=function isc_FacetChart__isZoomChart(){return(this.$106l!=null&&this.$106l.zoomChart==this)},isc.A.$116e=function isc_FacetChart__isZoomSelectionChart(){return(this.$106l!=null&&this.$106l.zoomSelectionChart==this)},isc.A.$106j=function isc_FacetChart__getData(){return(this.$106l||this).data},isc.A.$106i=function isc_FacetChart__getFacets(){return(this.$106l||this).facets},isc.A.$1065=function isc_FacetChart__getMetricFacet(){return(this.$106l||this).metricFacet},isc.A.$107c=function isc_FacetChart__getMultiCellData(){return(this.$106l||this).multiCellData},isc.A.$1064=function isc_FacetChart__getHighErrorMetric(){return(this.$106l||this).highErrorMetric},isc.A.$1066=function isc_FacetChart__getLowErrorMetric(){return(this.$106l||this).lowErrorMetric},isc.A.$133f=function isc_FacetChart__isDateValued(_1){if(this.chartType=="Scatter"&&_1!=this.getXAxisMetric()){return false}
var _2=isc.Chart.getPrototype().$133f;return _2.apply(this.$106l||this,arguments)},isc.A.zoomTo=function isc_FacetChart_zoomTo(_1,_2){if(!this.$106d()){return}
this.$107k([{dataValue:_1},{dataValue:_2}],false);var _3=this.$1068();this.zoomStartValue=_3[0].dataValue;this.zoomEndValue=_3[1].dataValue;if(this.zoomChartSlider!=null){this.zoomChartSlider.setValues(_3[0].lambda,_3[1].lambda);this.$107j()}},isc.A.setZoomStartValue=function isc_FacetChart_setZoomStartValue(_1){this.zoomTo(_1,this.zoomEndValue)},isc.A.setZoomEndValue=function isc_FacetChart_setZoomEndValue(_1){this.zoomTo(this.zoomStartValue,_1)},isc.A.$106q=function isc_FacetChart__getZoomChartTop(){return this.getTopPadding()+this.getChartTop()+this.getChartHeight()+this.chartRectMargin+this.getXLabelsHeight()+(this.$78k?this.legendMargin+this.$78k.height:0)+this.$106c},isc.A.$1060=function isc_FacetChart__getZoomChartLeft(){return this.getLeftPadding()+this.getChartLeft()},isc.A.$117l=function isc_FacetChart__setZoomChartProperties(){var _1={autoDraw:false,redrawWithParent:false,_constructor:"FacetChart",labelCollapseMode:this.$106m(),$106l:this,extraAxisMetrics:this.extraAxisMetrics.duplicate(),extraAxisSettings:isc.clone(this.extraAxisSettings)};this.$117m=isc.addProperties({colorMutePercent:this.zoomMutePercent},this.zoomChartProperties,_1);this.$117n=isc.addProperties({},this.zoomSelectionChartProperties,_1);var _2=(this.chartType=="Line"||this.chartType=="Area"),_3=_2&&this.isFilled(),_4=_2&&!_3;this.zoomChartDefaults.showInlineLabels=_3;this.zoomSelectionChartDefaults.showInlineLabels=_3;if(_4){this.zoomChartDefaults.showGradationsOverData=false;this.zoomSelectionChartDefaults.showGradationsOverData=false;var _5={lineWidth:2,lineColor:"#d3d3d3",linePattern:"dash"};this.zoomChartDefaults.gradationLineProperties=_5;this.zoomSelectionChartDefaults.gradationLineProperties=_5}else{this.zoomChartDefaults.showGradationsOverData=true;this.zoomSelectionChartDefaults.showGradationsOverData=true;var _5={lineWidth:2,lineColor:this.$106n()};this.zoomChartDefaults.gradationLineProperties=_5;this.zoomSelectionChartDefaults.gradationLineProperties=_5}},isc.A.$106y=function isc_FacetChart__createZoomChartAndSlider(){if(this.$106d()){this.$106k=true;var _1=this.zoomShowSelection,_2=this.$1060(),_3=this.$106q(),_4=this.getChartWidth(),_5=this.$1068(),_6=_5[0].lambda,_7=_5[1].lambda;var _8=isc.addProperties({logScale:this.$107i(),chartType:this.chartType,stacked:this.stacked,filled:this.filled,connected:this.connected},this.$107h());isc.addProperties(this.$117m,{autoDraw:false,top:_3,left:_2,width:_4,height:this.zoomChartHeight},_8);var _9=this.addAutoChild("zoomChart",this.$117m);this.$117o=isc.addProperties({},this.zoomChartSliderProperties,{_constructor:"RangeSlider",left:_2,top:_3,width:_4,height:this.zoomChartHeight+this.$106e,showTrack:false,labelStartProperties:{},labelDragProperties:{},labelEndProperties:{},startThumbProperties:{backgroundColor:"transparent"},endThumbProperties:{backgroundColor:"transparent"},minValue:0,maxValue:1,startValue:_6,endValue:_7});var _10=this.addAutoChild("zoomChartSlider",this.$117o);this.observe(_10,"resized","observer.$107j()");this.observe(_10,"changed","observer.$117v(arguments[0],arguments[1],arguments[2])");_10.labelStart.hide();_10.labelDrag.hide();_10.labelEnd.hide();if(_1){var _11=_10.startThumb.getLeft();var _12=_10.endThumb.getRight()-_11+1;var _13=this.$106r=isc.Canvas.create({redrawWithParent:false,backgroundColor:this.$106n(),padding:0,left:_2+_11,top:_3,width:_12,height:this.zoomChartHeight,overflow:"hidden",hideUsingDisplayNone:true});this.addChild(_13);isc.addProperties(this.$117n,{autoParent:"none",left:-_11,top:0,width:_4,height:this.zoomChartHeight},_8);var _14=this.addAutoChild("zoomSelectionChart",this.$117n);_13.addChild(_14);_10.moveAbove(_13)}}
this.$106p=true},isc.A.$117v=function isc_FacetChart__zoomChartSliderChanged(_1,_2,_3){this.$107j();if(!_3){this.$107k([{lambda:_1},{lambda:_2}],false);var _4=this.$1068(),_5=this.zoomStartValue=_4[0].dataValue,_6=this.zoomEndValue=_4[1].dataValue;if(this.zoomChanged){this.zoomChanged(_5,_6)}}},isc.A.$107j=function isc_FacetChart__refreshZoomSelectionChart(){var _1=this.zoomChartSlider,_2=this.zoomShowSelection,_3=this.zoomSelectionChart,_4=this.$106r;if(_2){var _5=this.zoomChart.getLeft(),_6=_1.startThumb,_7=_1.endThumb,_8=_6.getLeft(),_9=_7.getRight()-_8+1,_10=_8+_9;_4.setLeft(_5+_8);_4.setWidth(_9);_3.setLeft(-_8)}},isc.A.$1063=function isc_FacetChart__destroyZoomChartAndSlider(){if(this.zoomSelectionChart!=null){this.zoomSelectionChart.destroy();delete this.zoomSelectionChart}
if(this.$106r!=null){this.$106r.destroy();delete this.$106r}
if(this.zoomChartSlider!=null){this.ignore(this.zoomChartSlider,"changed");this.ignore(this.zoomChartSlider,"resized");this.zoomChartSlider.destroy();delete this.zoomChartSlider}
if(this.zoomChart!=null){this.zoomChart.destroy();delete this.zoomChart}
delete this.$106p},isc.A.$106d=function isc_FacetChart__getCanZoom(_1){if(_1==null)_1=this.chartType;return(_1!="Radar"&&!this.isPieChart(_1)&&_1!="Scatter"&&this.hasYGradations(_1)&&this.canZoom)},isc.A.$106m=function isc_FacetChart__getZoomChartLabelCollapseMode(){if(this.labelCollapseMode!=null){return this.labelCollapseMode}else if(this.$106d()){var _1=this.$107e();if(_1=="float")return"numeric";if(_1=="date")return"time";if(_1=="string")return"sample"}},isc.A.$107i=function isc_FacetChart__getZoomLogScale(_1){_1=_1||this;if(_1.zoomLogScale!=null&&!_1.zoomLogScale){return false}else{var _2=this.$107l(_1);return(_2.minValue>0)}},isc.A.$107m=function isc_FacetChart__getZoomStartPosition(){if(this.zoomStartPosition!=null){return this.zoomStartPosition}else{if(this.$107e()=="date"){var _1=1000*60*60*24,_2=new Date(),_3=this.$107g();if(_2.getTime()-_3.getTime()<_1){return"end"}}
return"start"}},isc.A.$1068=function isc_FacetChart__getZoomValueRange(){var _1;if(this.$107n==null){if(this.$106d()){_1=[{dataValue:this.zoomStartValue},{dataValue:this.zoomEndValue}]}else{_1=[{lambda:0.0},{lambda:1.0}]}
this.$107k(_1,true);this.zoomStartValue=_1[0].dataValue;this.zoomEndValue=_1[1].dataValue}else{_1=this.$107n}
return _1},isc.A.$107o=function isc_FacetChart__dateComparator(_1,_2){return Date.compareDates(_2,_1)},isc.A.$107k=function isc_FacetChart__setZoomValueRange(_1,_2){var _3=this.getOrderedData(),_4=_3.length,_5=_1[0],_6=_1[1],_7=_5.lambda,_8=_6.lambda,_9=this.$107f(),_10=this.$107g(),_11=this.$107e(),_12=this.$107d(),_13=(_5.lambda!=null&&_6.lambda!=null),_14=!_13;if(!(_13||_12||_6.dataValue==null||_5.dataValue==null)&&_6.dataValue<_5.dataValue)
{var _15=_5.dataValue;_5.dataValue=_6.dataValue;_6.dataValue=_15}
if(_14){var _16=_5.dataValue,_17=_6.dataValue;if(!_12){if(_16<_9||_10<_16){_16=null}
if(_17<_9||_10<_17){_17=null}}
if(_16==null&&_17==null){_13=true;_14=false;var _18=this.$107m();if(_18=="start"){_7=0.0;_8=1.0/5.0}else if(_18=="end"){_7=4.0/5.0;_8=1.0}
_5.lambda=_7;_6.lambda=_8}else if(_16==null){_16=_9}else if(_17==null){_17=_10}
_5.dataValue=_16;_6.dataValue=_17}
var i,j,_21,_22;if(_12){if(_13){i=Math.floor(_7*(_4-1));_21=_3[i].title;j=Math.ceil(_8*(_4-1));_22=_3[j].title}else{_21=_5.dataValue;_22=_6.dataValue;var k=_3.findIndex("title",_21,Array.DATETIME_VALUES);if(k!=-1){i=k}else{k=0}
k=_3.findNextIndex(k,"title",_22,_4-1,Array.DATETIME_VALUES);if(k!=-1){j=k}
if(i==null&&j!=null){this.logWarn("Could not find data value "+_21+" in the data.  Defaulting to show the data from the beginning of the data set up to zoomEndValue.");this.$107k([{dataValue:_9},{dataValue:_22}],_2);return}else if(i!=null&&j==null){this.logWarn("Could not find data value "+_22+" in the data.  Defaulting to show the data from zoomStartValue to the end of the data set.");this.$107k([{dataValue:_21},{dataValue:_10}],_2);return}else if(i==null&&j==null){this.logWarn("Could not find zoomStartValue or zoomEndValue in the data.  Defaulting to show the entire data set.");this.$107k([{lambda:0.0},{lambda:1.0}],_2);return}else{_7=_4>1?i/(_4-1):0;_8=_4>1?j/(_4-1):1}}}else if(_11=="float"){if(_13){_21=(1.0-_7)*_9+_7*_10;_22=(1.0-_8)*_9+_8*_10}else{_21=_5.dataValue;_22=_6.dataValue;var _24=_10-_9;_7=(_24>0?Math.max(0,Math.min(1,(_5.dataValue-_9)/_24)):0);_8=(_24>0?Math.max(0,Math.min(1,(_6.dataValue-_9)/_24)):1)}
i=isc.FacetChart.$96c(_3,0,_4-1,"title",_21);j=isc.FacetChart.$96c(_3,0,_4-1,"title",_22);if(i<0)i=-(1+i);if(j<0)j=-(2+j)}else if(_11=="date"){var _25=this.$107o,_26=_9.getTime(),_27=_10.getTime();if(_13){_21=new Date(Math.floor((1.0-_7)*_26+_7*_27));_22=new Date(Math.ceil((1.0-_8)*_26+_8*_27))}else{_21=_5.dataValue;_22=_6.dataValue;var _28=_21.getTime(),_29=_22.getTime(),_24=_27-_26;_7=(_24>0?Math.max(0,Math.min(1,(_28-_26)/_24)):0);_8=(_24>0?Math.max(0,Math.min(1,(_29-_26)/_24)):1)}
i=isc.FacetChart.$96c(_3,0,_4-1,"title",_21,_25);j=isc.FacetChart.$96c(_3,0,_4-1,"title",_22,_25);if(i<0)i=-(1+i);if(j<0)j=-(2+j)}
isc.addProperties(_1[0],{index:i,dataValue:_21,lambda:_7});isc.addProperties(_1[1],{index:j,dataValue:_22,lambda:_8});this.$107n=_1;delete this.$107p;if(this.$1035()){var _30=this.$1036().all;for(var j=_30.length;j--;){delete _30[j].$107p}}
if(!_2){this.$105a(false)}},isc.A.$107q=function isc_FacetChart__getZoomStartValue(){return this.$1068()[0].dataValue},isc.A.$107r=function isc_FacetChart__getZoomEndValue(){return this.$1068()[1].dataValue},isc.A.$107l=function isc_FacetChart__getZoomDataBounds(_1){_1=_1||this;if(_1.$107p!=null){return _1.$107p}
var _2=this.getOrderedData(),_3=_2.length,_4=this.$1068(),_5=_4[0].index,_6=1+_4[1].index;var _7=(_1!=this),_8=_7&&_1.$103o,_9=_1.isMultiFacet()&&this.isStacked(_1);var _10=_1.logScale;var _11,_12;if(!(_5<_6)){}else if(this.isMultiFacet()&&(!_7||_1.isMultiFacet())){var _13=_2[_5].series.length;if(_9){var _14=(_1.chartType=="Column"||_1.chartType=="Bar");for(var i=_5;i<_6;++i){var _16=_2[i].series,_17=0,_18=false,_19=0,_20=0,_21=false,_22=0,_23=0,_24=false;for(var j=0;j<_13;++j){var s=_16[j],v=(_7?s.record&&s.record[_8]:s.value);if(isc.isA.Number(v)){if(_14){if(v>0){if(!_18){_19=v}
_18=true;_20+=v}else if(!_10){if(v==0){_24=(_24||!(_18||_21))}else{if(!_21){_23=v}
_21=true;_22+=v}}}else{_17+=v;if(!_10||_17>0){_11=(_11==null?_17:Math.min(_11,_17));_12=(_12==null?_17:Math.max(_12,_17))}}}}
if(_14&&(_18||_21)){var _28=0,_29=0;if(_18&&_21){_28=_22;_29=_20}else if(_18){_28=(_24?0:_19);_29=_20}else if(_21){_28=_22;_29=(_24?0:_23)}
_11=(_11==null?_28:Math.min(_11,_28));_12=(_12==null?_29:Math.max(_12,_29))}}}else{for(var i=_5;i<_6;++i){var _16=_2[i].series;for(var j=0;j<_13;++j){var s=_16[j],_17=(_7?s.record&&s.record[_8]:s.value);if(isc.isA.Number(_17)&&(!_10||_17>0)){_11=(_11==null?_17:Math.min(_11,_17));_12=(_12==null?_17:Math.max(_12,_17))}}}}}else if(this.isMultiFacet()){var _30=this.$103u(_1),_31=this.getLegendFacet().values.findIndex("id",_30.id);for(var i=_5;i<_6;++i){var s=_2[i].series[_31],_17=s.record&&s.record[_8];if(isc.isA.Number(_17)&&(!_10||_17>0)){_11=(_11==null?_17:Math.min(_11,_17));_12=(_12==null?_17:Math.max(_12,_17))}}}else{for(var i=_5;i<_6;++i){var s=_2[i],_17=(_7?s.record&&s.record[_8]:s.value);if(isc.isA.Number(_17)&&(!_10||_17>0)){_11=(_11==null?_17:Math.min(_11,_17));_12=(_12==null?_17:Math.max(_12,_17))}}}
if(_5<_6&&_10&&_11==null&&_12==null){_11=_12=0}
var _32={minValue:_11,maxValue:_12,minDataValue:this.$107q(),maxDataValue:this.$107r()};var _33=this.$1065(_1);if(!this.$1035()&&_33!=null){var _34=this.$1066(),_35=this.$1064();if(_34!=null){this.$128e(_34,_32,_10)}
if(_35!=null){this.$128e(_35,_32,_10)}}
return(_1.$107p=_32)});isc.evalBoundary;isc.B.push(isc.A.$107s=function isc_FacetChart__getMinLabelGap(_1,_2){if(this.minLabelGap!=null)return this.minLabelGap;if(_1){return Math.ceil(this.measureLabel("Xy",_2).height/2)}else{return this.measureLabel("XXXX",_2).width}},isc.A.$106v=function isc_FacetChart__calculateAxisLayout(_1,_2,_3,_4){var _5=_1.length,_6=new Array(_5),_7=new Array(_5),_8=[];for(var j=_5;j--;){_6[j]=0;_7[j]=[]}
var _10=function(_6,_14){return isc.FacetChart.$111b(_7,_8,_1,_2,_6,_3,_4,_14)};var _11=isc.FacetChart.$111c(_1,_10,_6),_12=(_11!=null);var _13={};_10(_6,_13);return _13},isc.A.$106t=function isc_FacetChart__createAxis(_1,_2,_3){var _4=this.labelCollapseMode,_5=this.chartType=="Scatter"||(_1&&this.hasYGradations())||(!_1&&this.hasXGradations());var _6=null;if(_5){if(this.$1057){var c=(isc.isAn.Array(_2)?_2[0]:_2);if((c.chartType!="Scatter"||_1)&&this.shouldUseLogGradations(c)){_6=isc.FacetChart.$107u(_1)}else{var _8=c.chartType!="Scatter"||_1;_6=isc.FacetChart.$107v(_8,_1,(!_1&&(c.chartType=="Scatter"||this.hasXGradations())))}}else{_6=isc.FacetChart.$107w(_1)}}else{if(_4=="numeric"){_6=isc.FacetChart.$107x(_1)}else if(_4=="time"){_6=isc.FacetChart.$107y(_1)}else if(_4=="sample"){_6=isc.FacetChart.$107z(_1)}else{_6=isc.FacetChart.$1070(_1)}}
_6.rotateLabels=function(_9){return _9.$1071};_6.useGradations=function(_9){return _9.$1072};_6.logScale=function(_9){return _9.$1072&&_9.$1073};_6.init(this,_2,_3);return _6},isc.A.$120g=function isc_FacetChart__clickShape(){var _1=this;if(this.drawPane){_1=this.drawPane}
if(!_1.getNearestDrawnValues)return;var _2=_1.getNearestDrawnValues();if(_1.valueClick){_1.valueClick(_2[0])}});isc.B._maxIndex=isc.C+258;isc.A=isc.FacetChart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$133l=1000;isc.A.$134j=15000;isc.A.$134k=30000;isc.A.$133m=60000;isc.A.$134l=300000;isc.A.$133n=900000;isc.A.$133o=1800000;isc.A.$133p=3600000;isc.A.$133q=86400000;isc.A.$133r=604800000;isc.A.$133s=2592000000;isc.A.$133t=7776000000;isc.A.$133u=31536000000;isc.B.push(isc.A.$105b=function isc_c_FacetChart__evenIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==0)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$105c=function isc_c_FacetChart__oddIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==1)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$102z=function isc_c_FacetChart__calculateOrdinaryLeastSquares(_1,_2){var _3=isc.Math.$101l(_1),L=isc.Math.$101n(_3);if(L==null){var _5=isc.Math.$101t(_1);if(_5==null){return null}else{var m=_5.length,n=_5[0].length,b=new Array(m);for(var i=m;i--;){var _10=_5[i],_11=0;for(var j=n;j--;){_11+=_10[j]*_2[j]}
b[i]=_11}
return b}}
var _13=isc.Math.$101m(_1,_2);var n=L.length,z=new Array(n);for(var i=0;i<n;++i){var _15=L[i],_11=0;for(var j=i;j--;){_11+=_15[j]*z[j]}
z[i]=(_13[i]-_11)/_15[i]}
var _16=new Array(n);for(var i=n;i--;){var _11=0;for(var j=i+1;j<n;++j){_11+=L[j][i]*_16[j]}
_16[i]=(z[i]-_11)/L[i][i]}
return _16},isc.A.$1020=function isc_c_FacetChart__generatePolynomial(_1){var _2=_1.length-1;var _3=isc.StringBuffer.newInstance();_3.append("return ");for(var i=_2;i--;){_3.append("(")}
_3.append(_1[_2]);for(var i=_2;i--;){_3.append("*x+",_1[i],")")}
_3.append(";");return isc.$aq("x",_3.toString())},isc.A.$102v=function isc_c_FacetChart__calculateBestFitPolynomial(_1,_2,_3){var m=_2.length,n=_1+1,M=new Array(m);for(var i=m;i--;){var _8=M[i]=new Array(n),_9=_2[i];for(var j=0,_11=1;j<n;++j,_11*=_9){_8[j]=_11}}
var _12=isc.FacetChart.$102z(M,_3);return(_12!=null?isc.FacetChart.$1020(_12):null)},isc.A.$102y=function isc_c_FacetChart__clipDrawPathToRect(_1,_2,_3){var n=_1.length;if(n==0){return[]}
var _5=[_2.left,_2.top,_2.left+_2.width,_2.top+_2.height],_6=[],_7=null,_8,_9=_1[0],_10=new Array(2);if(_5[0]<=_9[0]&&_9[0]<=_5[2]&&_5[1]<=_9[1]&&_9[1]<=_5[2]){_7=[_9]}
for(var i=1;i<n;++i){_8=_9;_9=_1[i];_10[0]=1/(_10[1]=(_9[1]-_8[1])/(_9[0]-_8[0]));var _12=_8,_13=_9;for(var m=0;m<4;++m){var k=m%2,l=(k+1)%2,s=(m<2?-1:1),_18=_5[s+1+k];var _19=!(s*_12[k]>s*_18),_20=!(s*_13[k]>s*_18);if(_19^_20){var _21=new Array(2);_21[k]=_18;_21[l]=_12[l]+(_18-_12[k])*_10[l];if(!_19){_12=_21}else{_13=_21}}else if(!(_19||_20)){_12=_13=null;break}}
if(_12==null){}else{if(_12===_8){}else{if(_3){_12[0]=Math.round(_12[0]);_12[1]=Math.round(_12[1])}
_7=[_12]}
if(_13===_9){_7.push(_9)}else{if(_3){_13[0]=Math.round(_13[0]);_13[1]=Math.round(_13[1])}
_7.push(_13);_6.push(_7);_7=null}}}
if(_7!=null){_6.push(_7)}
return _6},isc.A.$1074=function isc_c_FacetChart__bellCurve(_1,_2,_3){var z=(_3-_1)/_2;return Math.exp(-z*z/2.0)},isc.A.$107w=function isc_c_FacetChart__createEmptyAxis(_1){return{init:function(_3,_4,_15){this.$103y=_3;if(isc.isAn.Array(_4)){this.$104q=_4}else{_4=this.$104q=[_4];_15=[_15]}
this.$111d=new Array(_4.length);this.$111e=new Array(_4.length);for(var j=_4.length;j--;){this.$111d[j]=(_1?0:_15[j]);this.$111e[j]=(_1?_15[j]:0)}},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){var _3=this.$103y,_4=this.$104q,_5,_6;for(var j=_4.length;j--;){var c=_4[j],_8=_3.$107l(c),_9=_1?_8.minValue:_8.minDataValue,_10=_1?_8.maxValue:_8.maxDataValue;if(_9!=null){_5=(_5!=null?Math.min(_5,_9):_9)}
if(_10!=null){_6=(_6!=null?Math.max(_6,_10):_10)}}
this.$1076=_5;this.$1077=_6;return[{parallel:this.$111d.duplicate(),perpendicular:this.$111e.duplicate(),$1071:false,$1072:true,$1073:this.$104q[0].logScale}]},utility:function(_15,_16,_17){return 1},getLabelDataPairs:function(_15){var _3=this.$103y,_4=this.$104q,_5=this.$1076,_6=this.$1077;var _11=(_5==null||_6==null?[]:[_5,_6]);var _12=new Array(_4.length);for(var j=_4.length;j--;){var c=_4[j],_13=!(c!=_3&&c.showAxis==false);_12[j]=new Array(_11.length);for(var i=_11.length;i--;){_12[j][i]={label:(_13?c.formatAxisValue(_11[i],!_1):""),dataValue:_11[i]}}}
return _12},$127u:function(){var _4=this.$104q,_5=this.$1076,_6=this.$1077;if(_5==null||_6==null){return null}else if(_4[0].axisStartValue!=null){return _4[0].axisStartValue}else{return _5}},$128c:function(){var _4=this.$104q,_5=this.$1076,_6=this.$1077;if(_5==null||_6==null){return null}else{return _6}}}},isc.A.$107v=function isc_c_FacetChart__createLinearGradationsAxis(_1,_2,_3){return{init:function(_23,_19,_88){this.$103y=_23;if(isc.isAn.Array(_19)){this.$104q=_19}else{_19=this.$104q=[_19];_88=[_88]}
var _4=(_23.chartType=="Scatter"),_5=_4,_6=(_4?(_1?_23.getYAxisMetric():_23.getXAxisMetric()):_23.getDefaultMetric());for(var j=_19.length;j--;){_5=_5&&_23.$133f(_19[j]==_23?_6:_19[j].$103o)}
this.$133v=_5;this.$111d=new Array(_19.length);this.$111e=new Array(_19.length);var _8,_9;for(var j=_19.length;j--;){this.$111d[j]=(_2?0:_88[j]);this.$111e[j]=(_2?_88[j]:0);var _10,_11;if(_4){var _12=_23.$128d(_1,_19[j]);_10=_12.minValue;_11=_12.maxValue}else{var _13=_23.$107l(_19[j]);_10=_1?_13.minValue:_13.minDataValue;_11=_1?_13.maxValue:_13.maxDataValue}
if(_10!=null){if(_8==null){_8=_10}else if(_5){_8=isc.DateUtil.$1329(_8,_10)}else{_8=Math.min(_8,_10)}}
if(_11!=null){if(_9==null){_9=_11}else if(_5){_9=isc.DateUtil.$133a(_9,_11)}else{_9=Math.max(_9,_11)}}}
var _14=(_8==null||_9==null);if(!_14){var _15=_23.$127u(_1,_8,_9,null,_19[0]);if(_5){_14=(isc.isA.Date(_15)&&_15.getTime()>_9.getTime())}else{_14=(_15!=null&&_15>_9)}}
this.$1075=_14;if(_14){return}
this.$1076=_8;this.$1077=_9;if(_5){isc.addProperties(this,isc.FacetChart.$133w(_23,_19));this.$108a=isc.FacetChart.$133x(0)}else{this.$1078=new Array(_19.length);this.$78r=new Array(_19.length);for(var j=_19.length;j--;){var c=_19[j],_17=!(c!=_23&&c.showAxis==false);if(_17){this.$1078[j]=c.gradationLabelProperties;this.$78r[j]=_23.$107a(c)}}
this.$108a=_23.$127w(_1,_8,_9,_19[0])}
this.$76w=Math.floor((this.$108a.length-1)/2)},increaseScope:function(){if(this.$1075)return false;var _18=this.$76w<this.$108a.length-1;if(_18)++this.$76w;return _18},decreaseScope:function(){if(this.$1075)return false;var _18=this.$76w>0;if(_18)--this.$76w;return _18},measure:function(){var _5=this.$133v,_19=this.$104q;if(this.$1075){var _20=new Array(_19.length);for(var j=_19.length;j--;){_20[j]=[]}
var _21={parallel:this.$111d.duplicate(),perpendicular:this.$111e.duplicate(),$1071:false,$108b:_20,$127t:null,$1279:null,$1072:true,$1073:false};if(_3){_21.$1238=_21.$1239=0}
if(_5){var _22=new Array(_19.length);for(var j=_19.length;j--;){_22[j]=[]}
_21.$934=_22}
return[_21]}
var _23=this.$103y,_24=!_1&&_23.showInlineLabels,_8=this.$1076,_9=this.$1077,_25=this.$108a[this.$76w];var _26=_23.$128f(_1,_8,_9,_25,_19[0]);var _27=_26.startValue,_28=_26.endValue,_29=_26.b,_30=_26.c,_31=_26.numGradations,_32=_26.oneGradationLabel,_33=_5&&_26.zero,_34=(_31>1&&(_5?0:(_28-_27)/((_30-_29)*_25)));var _35=1.5*Math.max(_23.$106h(),_23.$106f()),_36=(_23.rotateLabels=="always"&&!_24),_37=_23.$116c(),_38=(_2||(_37&&!_24)),_39=!(_2||_36),_40=!_38,_41=!_39;var _20=null,_42=null;if(_5){var _43=isc.FacetChart.$133i(_25,_27);_42=isc.FacetChart.$133y(this,_23,_25,_43,_28,_35,_38,_39,false,true);_20=_42.pairs.getProperty("dataValue");_31=_20.length}else{_20=new Array(_31);for(var i=_31;i--;){_20[i]=((_29+i)*_25)}}
var _45=_38&&new Array(_19.length),_46=_38&&new Array(_19.length),_47=_39&&new Array(_19.length),_48=_39&&new Array(_19.length),_49=_23.$1235(_2);for(var j=_19.length;j--;){var c=_19[j],_17=!(c!=this&&c.showAxis==false);if(!_17){if(_38){_45[j]=_46[j]=0}
if(_39){_47[j]=_48[j]=0}
continue}
var _50=this.$1078[j],_51=0,_52=0,_53=0,_54=0;if(_5){_51=_42.sumHeight[j];_52=_42.maxWidth[j];_53=_42.sumWidth[j];_54=_42.maxHeight[j]}else{var _55=_23.$107s(false,_50),_56=_23.$107s(true,_50),_57=this.$78r[j],_58=0,_59=0;if(!_40&&_31>1){_40=Math.ceil(_34*
Math.max(_23.pixelsPerGradation,_57+_56)*
(_31-1))>_35}
var _60=0;for(var i=0;i<_31;++i){var _61=_20[i];if(!(_40&&_41)&&!(_32&&i>0)){var _62=_23.measureLabel(c.formatAxisValue(_61,!_2),_50).width;if(!_24){var _63=Math.ceil((_62+_60)/2);if(_63>_59){_59=_63}
_58=Math.max(_58,_62);_60=_62}else{if(i!=_31-1&&_62>_59){_59=_62}}
if(!_41&&_31>1){_41=Math.ceil(_34*
Math.max(_23.pixelsPerGradation,_59+_55)*
(_31-1))>_35}}}
if(_31>1){_51=Math.ceil(_34*
Math.max(_23.pixelsPerGradation,_57+_56)*
(_31-1));_53=Math.ceil(_34*
Math.max(_23.pixelsPerGradation,_59+_55)*
(_31-1))}else{_53=_51=0}
_52=_58;_54=_57}
_54=(_24?0:_54);if(_38){var _64=0,_65=0;if(_3){_64=_65=Math.max(0,Math.ceil(_54/2)-_49)}
_45[j]=_64+_65+Math.max(_51,this.$111d[j]);_46[j]=Math.max(_52,this.$111e[j])}
if(_39){var _66=0,_67=0;if(_3){var _68,_69;if(_5){_68=_42.pairs.first();_69=_42.pairs.last()}else{_68=c.formatAxisValue(_20.first(),!_2);_69=c.formatAxisValue(_20.last(),!_2)}
var _70=_23.measureLabel(_68,_50).width,_71=_23.measureLabel(_69,_50).width;_66=Math.max(0,Math.ceil(_70/2)-_49);_67=Math.max(0,Math.ceil(_71/2)-_49)}
_47[j]=_66+_67+Math.max(_53,this.$111d[j]);_48[j]=Math.max(_54,this.$111e[j])}}
var _72;if(_38||_39){_72=new Array(_19.length);for(var j=_19.length;j--;){_72[j]=_20}}
var _21=[];if(_38){var m={parallel:_45,perpendicular:_46,$1071:!_2&&_37,$108b:_72,$1270:_29,$1271:_30,$127t:_27,$1279:_28,$117i:_32,$1072:true,$1073:false,$124b:(_40&&_41),$133v:_5};if(_3){m.$1238=_64;m.$1239=_65}
if(_5){m.$133z=_33;m.$108p=_42.pairs}
_21.push(m)}
if(_39){var m={parallel:_47,perpendicular:_48,$1071:false,$108b:_72,$1270:_29,$1271:_30,$127t:_27,$1279:_28,$117i:_32,$1072:true,$1073:false,$124b:(_40&&_41),$133v:_5};if(_3){m.$1238=_66;m.$1239=_67}
if(_5){m.$133z=_33;m.$108p=_42.pairs}
_21.push(m)}
return _21},utility:function(_88,_89,_90){if(this.$1075)return 1.0;var _23=this.$103y,_20=_90.$108b[0],_31=_20.length;if(_90.$133v){var _74=(1.0-this.$76w/this.$108a.length),_75=(_31>0?1:0);return(_74+_75)/2}
var _76=(_2?_89:_88)[0],_77=this.$1079,_78=_20.last()-_20.first();if(_3){_76-=_90.$1238+_90.$1239}
var _27=_90.$127t,b=_90.$1270,c=_90.$1271;var _80=_76,_81=1.0;if(c>b){var _25=_20[1]-_20[0],_28=_90.$1279,_82=_76*(_78/(_28-_27));_80=_82/(_31-1);_81=(1-2/_25*Math.abs(_27-_25*Math.round(_27/_25)))}
var _83=Math.abs(_80-_23.pixelsPerGradation),_84=Math.max(_23.pixelsPerGradation,_76-_23.pixelsPerGradation);var _74=(_90.$124b?0:1),_75=(_90.$1071?0:1),_85=isc.FacetChart.$1074(_23.pixelsPerGradation,3.0,_80),_86=1-_83/_84;return(_74+_75+_85+_86+_81)/5},getLabelDataPairs:function(_88,_89,_90){var _23=this.$103y,_19=this.$104q,_32=_90.$117i;if(_90.$133v){var _21=new Array(_19.length);for(var i=_19.length;i--;){_21[i]=_90.$108p}
return _21}else{return _19.map(function(c,j){var _17=!(c!=_23&&c.showAxis==false);return _90.$108b[j].map(function(_61,i){var _87=(_17&&(!_32||i==0)?c.formatAxisValue(_61,!_2):"");return{label:_87,dataValue:_61}})})}},$127u:function(_88,_89,_90){return _90.$127t},$128c:function(_88,_89,_90){return _90.$1279}}},isc.A.$107u=function isc_c_FacetChart__createLogGradationsAxis(_1){return{init:function(_12,_16,_38){this.$103y=_12;if(isc.isAn.Array(_16)){this.$104q=_16}else{_16=this.$104q=[_16];_38=[_38]}
this.$111d=new Array(_16.length);this.$111e=new Array(_16.length);var _2,_3;for(var i=_16.length;i--;){this.$111d[i]=(_1?0:_38[i]);this.$111e[i]=(_1?_38[i]:0);var _5,_6;if(_12.chartType=="Scatter"){var _7=_12.$128d(true,_16[i]);_5=_7.minValue;_6=_7.maxValue}else{var _8=_12.$107l(_16[i]);_5=_8.minValue;_6=_8.maxValue}
if(_5!=null){_2=(_2!=null?Math.min(_2,_5):_5)}
if(_6!=null){_3=(_3!=null?Math.max(_3,_6):_6)}}
this.$1075=(_2==null&&_3==null);this.$1078=new Array(_16.length);this.$108c=new Array(_16.length);this.$108d=new Array(_16.length);this.$108b=new Array(_16.length);this.$78r=new Array(_16.length);for(var i=_16.length;i--;){var c=_16[i],_10=!(c!=_12&&c.showAxis==false);if(_10){var _11=this.$1078[i]=c.gradationLabelProperties;this.$108c[i]=_12.$107s(false,_11);this.$108d[i]=_12.$107s(true,_11);this.$108b[i]=_12.getLogGradations(_3,_2,null,c);this.$78r[i]=_12.$107a(c)}}},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){if(this.$1075){return[{parallel:this.$111d.duplicate(),perpendicular:this.$111e.duplicate(),$1071:false,$1072:true,$1073:true}]}
var _12=this.$103y,_13=_12.showInlineLabels,_14=(_12.rotateLabels=="always"&&!_13),_15=_12.$116c(),_16=this.$104q,_17=[];var _18=_12.logValue(_16[0].$127t,null,_16[0]),_19=_12.logValue(_16[0].$1279,null,_16[0]);for(var j=_16.length;j-->1;){_18=Math.min(_18,_12.logValue(_16[j].$127t,null,_16[j]));_19=Math.max(_19,_12.logValue(_16[j].$1279,null,_16[j]))}
if(_1||(_15&&!_13)){var _21=new Array(_16.length),_22=new Array(_16.length);for(var j=_16.length;j--;){var c=_16[j],_10=!(c!=_12&&c.showAxis==false);if(!_10){_21[j]=_22[j]=0;continue}
var _11=this.$1078[j],_23=this.$108b[j],_24=_23.getLength(),_25=this.$108c[j],_26=this.$108d[j],_27=this.$78r[j];var _28=c.logGradations,_29;for(var i=0;i<_28.getLength();++i){var d=_12.logValue(_23[i+1],null,c)
-_12.logValue(_23[i],null,c);if(_29==null||d<_29){_29=d}}
var _31=0;for(var i=0;i<_24;++i){_31=Math.max(_12.measureLabel(c.formatAxisValue(_23[i],!_1),_11).width,_31)}
_21[j]=Math.max(Math.ceil((_27+_26)*(_19-_18)/_29),this.$111d[j]);_22[j]=Math.max(_31,this.$111e[j])}
_17.push({parallel:_21,perpendicular:_22,$1071:!_1&&_15,$1072:true,$108b:this.$108b,$1073:true})}
if(!(_1||_14)){var _21=new Array(_16.length),_22=new Array(_16.length);for(var j=_16.length;j--;){var c=_16[j],_10=!(c!=this&&c.showAxis==false);if(!_10){_21[j]=_22[j]=0;continue}
var _11=this.$1078[j],_23=this.$108b[j],_24=_23.getLength(),_25=this.$108c[j],_26=this.$108d[j],_27=this.$78r[j];var _32=0.0,_33=_12.measureLabel(c.formatAxisValue(_23[0],!_1),_11).width,_34=_12.logValue(_23[0],null,c);for(var i=1;i<_24;++i){var w=_12.measureLabel(c.formatAxisValue(_23[i],!_1),_11).width,_36=_12.logValue(_23[i],null,c),_29=_36-_34,m;if(!_13){m=Math.ceil(((_33+w)/2.0+_25)*(_19-_18)/_29)}else if(i!=_24-1){m=Math.ceil((w+_25)*(_19-_18)/_29)}
_32=Math.max(_32,m);_33=w;_34=_36}
_21[j]=Math.max(_32,this.$111d[j]);_22[j]=Math.max((_13?0:_27),this.$111e[j])}
_17.push({parallel:_21,perpendicular:_22,$1071:false,$1072:true,$108b:this.$108b,$1073:true})}
return _17},utility:function(_38,_39,_40){return _40.$1071?0.5:1.0},getLabelDataPairs:function(_38,_39,_40){if(this.$1075){return[[]]}
var _12=this.$103y,_16=this.$104q;return this.$108b.map(function(_23,j){var c=_16[j],_10=!(c!=_12&&c.showAxis==false);return _23.map(function(_41){return{label:(_10?c.formatAxisValue(_41,!_1):""),dataValue:_41}})})},$127u:function(_38,_39,_40){return this.$104q[0].$127t},$128c:function(_38,_39,_40){return this.$104q[0].$1279}}},isc.A.$1070=function isc_c_FacetChart__createLabelCollapseModeNoneAxis(_1){return{init:function(_2,_33,_34){this.$103y=_2;this.$68q=_2.getOrderedData();this.$1078=_2.dataLabelProperties;this.$78r=_2.getDataLabelHeight()},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){var _2=this.$103y,_3=_2.showInlineLabels,_4=this.$68q,_5=this.$1078,_6=_4.getLength(),_7,_8=0,_9=this.$78r,_10=_2.$1235(_1),_11=(_1?0:Math.max(0,Math.ceil(_9/2)-_10)),_12=_11,_13=0,_14=0;var _15=0,_16=0,_17=0;for(var i=0;i<_6;++i){var _19=_4[i].title;var _20=_2.measureLabel(_19,_5).width;if(i==0||i==_6-1){var _21=Math.ceil(_20/2);if(i==0){_13=Math.max(0,_21-_10)}else{_14=Math.max(0,_21-_10)}}
if(_20>_8)_8=_20;_15+=_20;if(_15>_16)_16=_15;_15-=_17;_17=_20}
var _22=_2.$107s(_1,_5);_7=Math.ceil(_22+_16/2);var _23=0,_24=0;if(_2.chartType=="Area"||_2.chartType=="Line"){_23=(_6-1)*_7;_24=(_6-1)*_9}else{_23=_6*_7-_22;_24=_6*_9}
if(_2.$116d()||_2.$116e()){_11=_12=_13=_14=0}
var _25=[],_26=(_2.rotateLabels=="always"&&!_3),_27=_2.$116c(),_28=!_1&&_27&&!_3;if(_1||_28){_25.push({parallel:_11+_12,perpendicular:_8,$1071:!_1&&_27,$1072:false,$108e:_24,$108f:_23,$1238:_11,$1239:_12})}
if(!(_1||_26)){_25.push({parallel:_13+(_28?_23:0)+_14,perpendicular:(_3?0:_9),$1071:false,$1072:false,$108e:_23,$1238:_13,$1239:_14})}
return _25},utility:function(_33,_34,_35){var _29=(_1?_34:_33)-_35.$1238-_35.$1239,_30=_35.$108e,_31=_35.$1071,_32=_35.$108f,_26=(this.$103y.rotateLabels=="always"&&!this.$103y.showInlineLabels);if(_31&&!_26&&_32<_29){return 0.0}else if(_30>_29){return 0.5*isc.FacetChart.$1074(_29,0.1*_29,_30)}else{return 1.0}},getLabelDataPairs:function(_33,_34,_35){var _4=this.$68q;return _4.map(function(_36){return{label:_36.title,dataValue:_36.title}})}}},isc.A.$107x=function isc_c_FacetChart__createLabelCollapseModeNumericAxis(_1){return{init:function(_4,_27,_28){this.$103y=_4;this.$68q=_4.getOrderedData();this.$1078=_4.gradationLabelProperties;this.$78r=_4.$107a();var _2=this.$108g=isc.FacetChart.$107v(false,_1,!(_1||_4.$116d()||_4.$116e()));_2.init(_4,_27,_28);while(_2.decreaseScope());this.$108h=0},increaseScope:function(){var _2=this.$108g;var _3=this.$108h==0||_2.increaseScope();if(_3)++this.$108h;return _3},decreaseScope:function(){var _2=this.$108g;var _3=this.$108h>0;if(_3){if(this.$108h!=1)_2.decreaseScope();--this.$108h}
return _3},measure:function(){var _4=this.$103y,_5=_4.showInlineLabels,_6=this.$1078,_7=this.$68q,_2=this.$108g,_8=this.$78r,_9=this.$108h!=0;if(!_9){var _10=_7.getLength(),_11=_8,_12=(_10-1)*_11,_13=0,_14=0,_15=_4.$1235(_1),_16=(_1?0:Math.max(0,Math.ceil(_11/2)-_15)),_17=_16,_18=0,_19=0;for(var i=0;i<_10;++i){var _21=_4.formatAxisValue(_7[i].title,!_1),_22=_4.measureLabel(_21,_6).width;if(!_5&&(i==0||i==_10-1)){var _23=Math.ceil(_22/2);if(i==0){_18=Math.max(0,_23-_15)}else{_19=Math.max(0,_23-_15)}
_14+=_23}else if(!_5||(i!=_10-1)){_14+=_22}
if(_22>_13)_13=_22}
if(_4.$116d()||_4.$116e()){_16=_17=_18=_19=0}
var _24=[],_25=(_4.rotateLabels=="always"&&!_5),_26=_4.$116c();if(_1||(_26&&!_5)){_24.push({parallel:_16+_12+_17,perpendicular:_13,$1071:!_1&&_26,$1072:_9,$1238:_16,$1239:_17})}
if(!(_1||_25)){_24.push({parallel:_18+_14+_19,perpendicular:(_5?0:_11),$1071:false,$1072:_9,$1238:_18,$1239:_19})}
return _24}else{return _2.measure().map(function(_27){_27.$1072=true;return _27})}},utility:function(_27,_28,_29){var _2=this.$108g,_9=_29.$1072;return!_9?1.0:0.5*_2.utility(_27,_28,_29)},getLabelDataPairs:function(_27,_28,_29){var _4=this.$103y,_7=this.$68q;_2=this.$108g,_9=_29.$1072;if(!_9){return _7.map(function(_30){return{label:_4.formatAxisValue(_30.title,!_1),dataValue:_30.title}})}else{return _2.getLabelDataPairs(_27,_28,_29)[0]}}}},isc.A.$133g=function isc_c_FacetChart__dateFloor(_1,_2){var _3=_2.getFullYear(),_4=_2.getMonth(),_5=_2.getDate(),_6=_2.getHours(),_7=_2.getMinutes(),_8=_2.getSeconds();if(_1==isc.FacetChart.$134j){return new Date(_3,_4,_5,_6,_7,15*Math.floor(_8/15),0)}else if(_1==isc.FacetChart.$134k){return new Date(_3,_4,_5,_6,_7,30*Math.floor(_8/30),0)}else if(_1==isc.FacetChart.$133m){return new Date(_3,_4,_5,_6,_7,0,0)}else if(_1==isc.FacetChart.$134l){return new Date(_3,_4,_5,_6,5*Math.floor(_7/5),0,0)}else if(_1==isc.FacetChart.$133n){return new Date(_3,_4,_5,_6,15*Math.floor(_7/15),0,0)}else if(_1==isc.FacetChart.$133o){return new Date(_3,_4,_5,_6,30*Math.floor(_7/30),0,0)}else if(_1==isc.FacetChart.$133p){return new Date(_3,_4,_5,_6,0,0,0)}else if(_1==isc.FacetChart.$133q){return new Date(_3,_4,_5)}else if(_1==isc.FacetChart.$133r){var _9=isc.DateChooser.getPrototype().firstDayOfWeek,_10=_5-((7+_2.getDay()-_9)%7);return new Date(_3,_4,_10)}else if(_1==isc.FacetChart.$133s){return new Date(_3,_4,1)}else if(_1==isc.FacetChart.$133t){return new Date(_3,3*Math.floor(_4/3),1)}else if(_1==isc.FacetChart.$133u){return new Date(_3,0,1)}});isc.evalBoundary;isc.B.push(isc.A.$133i=function isc_c_FacetChart__dateCeil(_1,_2){var _3=_2.getFullYear(),_4=_2.getMonth(),_5=_2.getDate(),_6=_2.getHours(),_7=_2.getMinutes(),_8=_2.getSeconds(),_9=_2.getMilliseconds();if(_1==isc.FacetChart.$134j){if(_9>0)++_8;return new Date(_3,_4,_5,_6,_7,15*Math.ceil(_8/15),0)}else if(_1==isc.FacetChart.$134k){if(_9>0)++_8;return new Date(_3,_4,_5,_6,_7,30*Math.ceil(_8/30),0)}else if(_1==isc.FacetChart.$133m){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,_7,0,0)}else if(_1==isc.FacetChart.$134l){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,5*Math.ceil(_7/5),0,0)}else if(_1==isc.FacetChart.$133n){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,15*Math.ceil(_7/15),0,0)}else if(_1==isc.FacetChart.$133o){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,30*Math.ceil(_7/30),0,0)}else if(_1==isc.FacetChart.$133p){if(_7+_8+_9>0)++_6;return new Date(_3,_4,_5,_6,0,0,0)}else if(_1==isc.FacetChart.$133q){if(_6+_7+_8+_9>0)++_5;return new Date(_3,_4,_5)}else if(_1==isc.FacetChart.$133r){var _10=isc.DateChooser.getPrototype().firstDayOfWeek,_11=_2.getDay();if(_6+_7+_8+_9>0){++_5;_11=(_11+1)%7}
var _12=_5+((7-(_11-_10))%7);return new Date(_3,_4,_12)}else if(_1==isc.FacetChart.$133t){if(_8+_9+_7+_6+_5-1>0)++_4;return new Date(_3,3*Math.ceil(_4/3),1)}else{var _13=isc.FacetChart.$133g(_1,_2);if(_13.getTime()==_2.getTime()){return _13}else if(_1==isc.FacetChart.$133s){return new Date(_3,_4+1,1)}else if(_1==isc.FacetChart.$133u){return new Date(_3+1,0,1)}}},isc.A.$133k=function isc_c_FacetChart__dateAddScope(_1,_2,_3){var _4=_2.getFullYear(),_5=_2.getMonth(),_6=_2.getDate(),_7=_2.getHours(),_8=_2.getMinutes(),_9=_2.getSeconds();if(_1==isc.FacetChart.$134j){return new Date(_4,_5,_6,_7,_8,_9+15*_3,0)}else if(_1==isc.FacetChart.$134k){return new Date(_4,_5,_6,_7,_8,_9+30*_3,0)}else if(_1==isc.FacetChart.$133m){return new Date(_4,_5,_6,_7,_8+_3,0,0)}else if(_1==isc.FacetChart.$134l){return new Date(_4,_5,_6,_7,_8+5*_3,0,0)}else if(_1==isc.FacetChart.$133n){return new Date(_4,_5,_6,_7,_8+15*_3,0,0)}else if(_1==isc.FacetChart.$133o){return new Date(_4,_5,_6,_7,_8+30*_3,0,0)}else if(_1==isc.FacetChart.$133p){return new Date(_4,_5,_6,_7+_3,0,0,0)}else if(_1==isc.FacetChart.$133q){return new Date(_4,_5,_6+_3)}else if(_1==isc.FacetChart.$133r){return new Date(_4,_5,_6+7*_3)}else if(_1==isc.FacetChart.$133s){return new Date(_4,_5+_3,1)}else if(_1==isc.FacetChart.$133t){return new Date(_4,_5+3*_3,1)}else if(_1==isc.FacetChart.$133u){return new Date(_4+_3,0,1)}},isc.A.$133j=function isc_c_FacetChart__nextDate(_1,_2){return isc.FacetChart.$133k(_1,_2,1)},isc.A.$1330=function isc_c_FacetChart__prevDate(_1,_2){return isc.FacetChart.$133k(_1,_2,-1)},isc.A.$133h=function isc_c_FacetChart__dateSubtract(_1,_2,_3){var _4=Math.round((_2.getTime()-_3.getTime())/_1),_5=isc.FacetChart.$133k(_1,_3,_4),_6=_2.getTime();while(_5.getTime()<_6){_5=isc.FacetChart.$133j(_1,_5);++_4}
while(_5.getTime()>_6){_5=isc.FacetChart.$1330(_1,_5);--_4}
return _4},isc.A.$108m=function isc_c_FacetChart__detectInternationalization(){var _1=Date.getShortMonthNames(),_2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_3=Date.getShortDayNames(),_4=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(var i=0,_6=_1.getLength();i<_6;++i){if(_1[i]!=_2[i]){return true}}
for(var i=0,_6=_3.getLength();i<_6;++i){if(_3[i]!=_4[i]){return true}}
return false},isc.A.$133x=function isc_c_FacetChart__getPossibleDateScopes(_1){var _2=[isc.FacetChart.$134j,isc.FacetChart.$134k,isc.FacetChart.$133m,isc.FacetChart.$134l,isc.FacetChart.$133n,isc.FacetChart.$133o,isc.FacetChart.$133p,isc.FacetChart.$133q,isc.FacetChart.$133r,isc.FacetChart.$133s,isc.FacetChart.$133t,isc.FacetChart.$133u];if(_1>0){for(var i=0;i<_2.length-1;){if(_2[i]+_2[i+1]<2*_1){_2.splice(i,1)}else{++i}}}
return _2},isc.A.$133w=function isc_c_FacetChart__getDateAxisConstants(_1,_2){var _3=isc.FacetChart.$108m(),_4=isc.isAn.Array(_2),_5=(_4?_2.length:1);var _6={$108l:_3,$1331:(_3?5:0),$1078:new Array(_5),$108c:new Array(_5),$108d:new Array(_5),$1595:new Array(_5),$146u:new Array(_5),_9999:new Array(_5),_2359pm:new Array(_5),_235900pm:new Array(_5)};var _7=isc.Time.parseInput("23:59pm"),_8=isc.Time.toTime(_7),_9=isc.Time.toShortTime(_7);for(var i=_5;i--;){var _11=(_4?_2[i]:_2),_12=_11.gradationLabelProperties;_6.$1078[i]=_12;_6.$108c[i]=_1.$107s(false,_12);_6.$108d[i]=_1.$107s(true,_12);_6.$1595[i]=_1.measureLabel("May 99",_12);_6.$146u[i]=_1.measureLabel("May 9999",_12);_6._9999[i]=_1.measureLabel("9999",_12);_6._2359pm[i]=_1.measureLabel(_9,_12);_6._235900pm[i]=_1.measureLabel(_8,_12)}
return _6},isc.A.$133y=function isc_c_FacetChart__getDateAxisLabels(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10){var _11=isc.isAn.Array(_1.$1078),_12=(_11?_1.$1078.length:1),_13=_1.$1331;var _14=_4.getTime(),_15=_5.getTime(),_16={sumWidth:new Array(_12),maxWidth:new Array(_12),sumHeight:new Array(_12),maxHeight:new Array(_12),pairs:[]},_17=_16.pairs;if(_3==isc.FacetChart.$134j||_3==isc.FacetChart.$134k){var _18=isc.FacetChart.$133g(isc.FacetChart.$133q,_4).getTime(),_19=1+Math.round((_15-_14)/_3);var _20=0,_21=0;for(var i=_12;i--;){var _23=_1.$108c[i],_24=_1.$108d[i],_25=_1.$1595[i],_26=_1._235900pm[i],_27=Math.max(_25.width+_13,_26.width),_28=Math.max(_25.height,_26.height),_29=(_19-1)*(_27+_23),_30=(_19-1)*(_28+_24);_16.maxWidth[i]=_27;_16.maxHeight[i]=_28;_16.sumWidth[i]=_29;_16.sumHeight[i]=_30;_20+=_30;_21+=_29}
if((_7&&_20<=_6)||(_8&&_21<=_6))
{for(var i=0;i<_19;++i){var _31=isc.FacetChart.$133k(_3,_4,i),_32=_31.getTime(),_33;if((_32-_18)%isc.FacetChart.$133q==0){_33=_31.getShortMonthName()+" "+_31.getDate()}else{_33=isc.Time.toTime(_31)}
_17.push({dataValue:_31,label:_33})}}}else if(_3==isc.FacetChart.$133m||_3==isc.FacetChart.$134l||_3==isc.FacetChart.$133n||_3==isc.FacetChart.$133o||_3==isc.FacetChart.$133p)
{var _18=isc.FacetChart.$133g(isc.FacetChart.$133q,_4).getTime(),_19=1+Math.round((_15-_14)/_3);var _20=0,_21=0;for(var i=_12;i--;){var _23=_1.$108c[i],_24=_1.$108d[i],_25=_1.$1595[i],_26=_1._2359pm[i],_27=Math.max(_25.width+_13,_26.width),_28=Math.max(_25.height,_26.height),_29=(_19-1)*(_27+_23),_30=(_19-1)*(_28+_24);_16.maxWidth[i]=_27;_16.maxHeight[i]=_28;_16.sumWidth[i]=_29;_16.sumHeight[i]=_30;_20+=_30;_21+=_29}
if((_7&&_20<=_6)||(_8&&_21<=_6))
{for(var i=0;i<_19;++i){var _31=isc.FacetChart.$133k(_3,_4,i),_32=_31.getTime(),_33;if((_32-_18)%isc.FacetChart.$133q==0){_33=_31.getShortMonthName()+" "+_31.getDate()}else{_33=isc.Time.toShortTime(_31)}
_17.push({dataValue:_31,label:_33})}}}else if(_3==isc.FacetChart.$133q||_3==isc.FacetChart.$133r){var _19=1+Math.round((_15-_14)/_3);var _21=0,_20=0;for(var i=_12;i--;){var _23=_1.$108c[i],_24=_1.$108d[i],_34=_1.$1595[i],_27=_34.width+_13,_28=_34.height,_29=(_19-1)*(_34.width+_13+_23),_30=(_19-1)*(_34.height+_24);_16.maxWidth[i]=_27;_16.maxHeight[i]=_28;_16.sumWidth[i]=_29;_16.sumHeight[i]=_30;_21+=_29;_20+=_30}
if((_7&&_20<=_6)||(_8&&_21<=_6))
{for(var i=0;i<_19;++i){var _31=isc.FacetChart.$133k(_3,_4,i),_33=_31.getShortMonthName()+" "+_31.getDate();_17.push({dataValue:_31,label:_33})}}}else if(_3==isc.FacetChart.$133s||_3==isc.FacetChart.$133t){var _35=isc.Date.getShortMonthNames(),_36=_4.getMonth(),_37=_4.getFullYear(),_19=1+Math.round((_15-_14)/_3);var _21=0,_20=0;for(var i=_12;i--;){var _23=_1.$108c[i],_24=_1.$108d[i],_34=_1.$146u[i];_29=(_19-1)*(_34.width+_13+_23),_30=(_19-1)*(_34.height+_24),_27=_34.width+_13,_28=_34.height;_16.maxWidth[i]=_27;_16.maxHeight[i]=_28;_16.sumWidth[i]=_29;_16.sumHeight[i]=_30;_21+=_29;_20+=_30}
if((_7&&_20<=_6)||(_8&&_21<=_6))
{for(var i=0;i<_19;++i){var m=(_36+(_3==isc.FacetChart.$133s?i:3*i))%12;if(i!=0&&m==0)++_37;var _33=(((i==0&&(_19==1||m!=(_3==isc.FacetChart.$133s?11:9)))||m==0)?""+_37:_35[m]);_17.push({dataValue:isc.FacetChart.$133k(_3,_4,i),label:_33})}}}else if(_3==isc.FacetChart.$133u){var _37=_4.getFullYear(),_19=_5.getFullYear()-_37+1;for(var i=_12;i--;){var _23=_1.$108c[i],_24=_1.$108d[i],_34=_1._9999[i],_29=(_19-1)*(_34.width+_23),_30=(_19-1)*(_34.height+_24),_27=_34.width,_28=_34.height;_16.maxWidth[i]=_27;_16.maxHeight[i]=_28;_16.sumWidth[i]=_29;_16.sumHeight[i]=_30}
for(var i=0;i<_19;++i){_17.push({dataValue:isc.FacetChart.$133k(_3,_4,i),label:""+_37});++_37}}
return _16},isc.A.$107y=function isc_c_FacetChart__createLabelCollapseModeTimeAxis(_1){var _2=0,_3=isc.FacetChart.$133l,_4=isc.FacetChart.$134j,_5=isc.FacetChart.$134k,_6=isc.FacetChart.$133m,_7=isc.FacetChart.$134l,_8=isc.FacetChart.$133n,_9=isc.FacetChart.$133o,_10=isc.FacetChart.$133p,_11=isc.FacetChart.$133q,_12=isc.FacetChart.$133r,_13=isc.FacetChart.$133s,_14=isc.FacetChart.$133t,_15=isc.FacetChart.$133u;return{init:function(_42,_107,_108){this.$103y=_42;var _16=this.$68q=_42.getOrderedData();var _17=this.$102j=_42.$1068();var _18=this.$108i=_42.$107l();this.$1075=(_18.minDataValue==null&&_18.maxDataValue==null);var _19=this.$115u=(_42.chartType=="Column");isc.addProperties(this,isc.FacetChart.$133w(_42,_42));var _20=_18.minDataValue,_21=_18.maxDataValue,_22=_17[0].index,_23=1+_17[1].index,_24=_23-_22,_25;if(_24<2){_25=[_2]}else{var _26=0;if(_19){var i=_22,_28=_16[i].title.getTime(),_29=_16[i+1].title.getTime();for(;i<_23-1;_28=_29,_29=_16[++i].title.getTime()){var _30=_29-_28;if(_30>0&&(_26==null||_30<_26)){_26=_30}}}else{_26=(_21.getTime()-_20.getTime())/(_24-1)}
_25=isc.FacetChart.$133x(_26);_25.push(_2)}
this.$108s=_25;this.$76w=_25.indexOf(_2)},increaseScope:function(){if(this.$108n)return false;var _25=this.$108s,_31=this.$76w<_25.getLength()-1;if(_31)++this.$76w;return _31},decreaseScope:function(){if(this.$1075)return false;var _31=this.$76w>0;if(_31)--this.$76w;return _31},$115v:function(_47,_72){var _29=_72.getTime(),_32=isc.FacetChart.$133g(_47,_72),_33=_32.getTime(),_34=isc.FacetChart.$133i(_47,_72),_35=_34.getTime();if(_29-_33<_35-_29){return _32}else{return _34}},$115y:function(_42,_16,_64,_107,_108){var _36=0,_37=Math.max(_107/_108*_64),_38={},_39=1;for(var i=1000;(_37-_36>_39)&&i--;){var _40=Math.round((_36+_37)/2);_38=_42.$115t(_42,_16,_64,_40+2*_42.dataMargin,0,_38);var _41=_108*_38.clusterSize+(_108-1)*_38.clusterGap;if(_41<=_107){_36=_40}else{_37=_40}}
return _37},measure:function(){var _42=this.$103y,_19=this.$115u,_43=_19&&_42.isMultiFacet()&&!_42.isStacked(),_44=_42.showInlineLabels,_45=Math.max(_42.$106h(),_42.$106f()),_46=1.5*_45,_47=this.$108s[this.$76w],_48=(!_19&&_47!=_2),_49=(_42.rotateLabels=="always"&&!_42.showInlineLabels),_50=_42.$116c(),_51=(_1||(_50&&!_42.showInlineLabels)),_52=!(_1||_49),_53;var _54=this.$1331;var _55=0,_56=0,_57=0,_58=0;var _18=this.$108i,_16=this.$68q;var _59=_42.$1235(_1),_60=0,_61=0,_62=0,_63=0;if(_19){var _17=this.$102j,_22=_17[0].index,_23=1+_17[1].index,_64=_23-_22;var k=(_47==_2?1:null),_66=0,_67=null,_68=true;var _69=(_47!=_2&&this.$115v(_47,_16[_22].title)),_70=_22;_53=[];for(var i=_22,_71=false;i<_23;){var _72;if(_47==_2){_72=_69=_16[i].title}else{var j=isc.FacetChart.$96c(_16,i,_23-1,"title",_69,_42.$107o);if(j<0){var _74=-(1+j);if(_74==i&&!_71){_71=true;_69=this.$115v(_47,_16[i].title);continue}else if(_74==_23){break}else{var _29=_69.getTime(),_75=(_74>i),_76=_75&&_16[_74-1].title,_28=_75&&isc.FacetChart.$1330(_47,_69).getTime(),_77=_75&&((_29-_76.getTime())/(_29-_28)),_78=_75&&(0<=_77&&_77<0.1),_79=(_74<_23),_80=_79&&_16[_74].title,_81=_79&&isc.FacetChart.$133j(_47,_69).getTime(),_82=_79&&((_80.getTime()-_29)/(_81-_29)),_83=_79&&(0<=_82&&_82<0.1);if(_78&&_83){_78=(_77<_82);_83=!_78}
if(_78){i=_74-1}else if(_83){i=_74}else{if(!_71){_71=true;_69=this.$115v(_47,_16[i].title)}else{_71=false;++i}
continue}}}else{i=j}
var _84=i-_70;if(_70!=_22&&(k==null||_84<k)){k=_84}
_72=_16[i].title}
var _85=this.$115z(_47,_69,_68);_53.push({dataValue:_72,label:_85});if(_47==_2){var _86=_85.length;if(_86>_66){_66=_86;_67=_85}}else{_71=false;_69=isc.FacetChart.$133j(_47,_69)}
_68=false;_70=i;++i}
var _87=this.$1078[0],_88=this.$108c[0],_89=this.$108d[0];if(_47==_2){_58=_42.measureLabel("Xy",_87).height;_56=_42.measureLabel(_67||"",_87).width;_60=_61=(_1?0:Math.max(0,Math.ceil(_58/2)-_59));_62=_63=Math.max(0,Math.ceil(_56/2)-_59)}else if(_47==_4||_47==_5){var _90=this.$1595[0],_91=this._235900pm[0];_56=Math.max(_90.width+_54,_91.width);_58=Math.max(_90.height,_91.height)}else if(_47==_6||_47==_7||_47==_8||_47==_9||_47==_10)
{var _90=this.$1595[0],_91=this._2359pm[0];_56=Math.max(_90.width+_54,_91.width);_58=Math.max(_90.height,_91.height)}else if(_47==_11||_47==_12){var _92=this.$1595[0];_56=_92.width+_54;_58=_92.height}else if(_47==_13||_47==_14){var _92=this.$146u[0];_56=_92.width+_54;_58=_92.height}else if(_47==_15){var _92=this._9999[0];_56=_92.width;_58=_92.height}
if(_51){if(k!=null&&_64>1){_57=this.$115y(_42,_16,_64,_58+_89,k)}else{_57=0}}
if(_52){if(k!=null&&_64>1){_55=this.$115y(_42,_16,_64,_56+_88,k)}else{_55=0}}}else if(_47==_2){var _87=this.$1078[0],_88=this.$108c[0],_89=this.$108d[0],_17=this.$102j,_22=_17[0].index,_23=1+_17[1].index,_24=_23-_22;_58=_42.measureLabel("Xy",_87).height;_57=(_24-1)*(_58+_89);_55=(_24-1)*_88;_60=_61=(_1?0:Math.max(0,Math.ceil(_58/2)-_59));var _93=_16[_22].title.toNormalDatetime();_62=Math.max(0,Math.ceil(_42.measureLabel(_93,_87).width/2)-_59);var _94=_16[_23-1].title.toNormalDatetime();_63=Math.max(0,Math.ceil(_42.measureLabel(_94,_87).width/2)-_59);var _95=(!_51||_57>_46),_96=(!_52||_55>_46),i=_22,_97=_57,_98=_55;_53=[];for(;i<_23&&!(_95&&_96);++i){var _72=_16[i].title,_85=_72.toNormalDatetime(),_99=_42.measureLabel(_85,_87).width;if(!_44&&(i==_22||i==_23-1)){_55+=Math.ceil(_99/2)}else if(!_44||i!=_23-1){_55+=_99}
if(_99>_56)_56=_99;_53.push({dataValue:_72,label:_85});_96=(!_52||_55>_46)}
if(_52&&_55>_46){_55=(_98+Math.ceil((_55-_98)/Math.max(1,i-_22)*_24))}
if(_51&&_57>_46){_57=(_97+Math.ceil((_57-_97)/Math.max(1,i-_22)*_24))}
if(_95&&_96){_53=[]}}else{var _100=_18.minDataValue,_101=_18.maxDataValue,_20,_21;if(_19){_20=_100;_21=_101}else{_20=isc.FacetChart.$133i(_47,_100);_21=isc.FacetChart.$133g(_47,_101);if(Date.compareDates(_20,_21)<=0){_20=isc.FacetChart.$133g(_47,_100);_21=isc.FacetChart.$133i(_47,_101);if(Date.compareDates(_20,_21)<=0){_20=isc.FacetChart.$133g(_47,new Date(_20.getTime()-1));_21=isc.FacetChart.$133i(_47,new Date(_21.getTime()+1))}}}
var _102=(_101.getTime()-_100.getTime()),_103=(_21.getTime()-_20.getTime()),_104=Math.max(1.0,Math.min(1.1,(_103==0?1:(_102/_103)))),_38=isc.FacetChart.$133y(this,_42,_47,_20,_21,_46,_51,_52,_44,_48);_53=_38.pairs;_57=Math.ceil(_104*_38.sumHeight[0]);_56=_38.maxWidth[0];_55=Math.ceil(_104*_38.sumWidth[0]);_58=_38.maxHeight[0]}
if(_42.$116d()||_42.$116e()){_60=_61=_62=_63=0}
var _105=[];if(_51){_105.push({parallel:_60+_57+_61,perpendicular:_56,$1071:!_1&&_50,$1072:_48,$1073:false,$108p:_53,$1238:_60,$1239:_61})}
if(_52){_105.push({parallel:_62+_55+_63,perpendicular:(_44?0:_58),$1071:false,$1072:_48,$1073:false,$108p:_53,$1238:_62,$1239:_63})}
return _105},utility:function(_107,_108,_109){var _25=this.$108s;if(_25[this.$76w]==_2){return 1.0}else{return 0.5*(1.0-this.$76w/_25.getLength())}},getLabelDataPairs:function(_107,_108,_109){return _109.$108p},$115z:function(_47,_72,_107){if(_47==_2){return _72.toNormalDatetime()}else if(_47==_4||_47==_5){if(_72.getHours()==0&&_72.getMinutes()==0&&_72.getSeconds()==0){return _72.getShortMonthName()+" "+_72.getDate()}else{return isc.Time.toTime(_72)}}else if(_47==_6||_47==_7||_47==_8||_47==_9||_47==_10)
{if(_72.getHours()==0&&_72.getMinutes()==0){return _72.getShortMonthName()+" "+_72.getDate()}else{return isc.Time.toShortTime(_72)}}else if(_47==_11||_47==_12){return _72.getShortMonthName()+" "+_72.getDate()}else if(_47==_13||_47==_14){var _106=_72.getMonth();if(_107||(_106==0)){return""+_72.getFullYear()}else{return isc.Date.getShortMonthNames()[_106]}}else if(_47==_15){return""+_72.getFullYear()}else{return""}}}},isc.A.$107z=function isc_c_FacetChart__createLabelCollapseModeSampleAxis(_1){return{init:function(_17,_36,_37){this.$103y=_17;var _2=this.$68q=_17.getOrderedData(),_3=_17.$1068(),_4=this.$d=_3[0].index,_5=_3[1].index,_6=this.$108q=_5-_4+1;var _7=_17.$1235(_1);var _8="",_9=0;for(var i=_4;i<=_5;++i){var _11=_2[i].title.toString();if(i==_4){var d=_17.measureLabel(_11,_17.dataLabelProperties);this.$124c=Math.max(0,Math.ceil(d.height/2)-_7);this.$124d=Math.max(0,Math.ceil(d.width/2)-_7)}
if(i==_5){var d=_17.measureLabel(_11,_17.dataLabelProperties);this.$124e=Math.max(0,Math.ceil(d.height/2)-_7);this.$124f=Math.max(0,Math.ceil(d.width/2)-_7)}
if(_11.length>_9){_8=_11;_9=_11.length}}
this.$108r=_17.measureLabel(_8,_17.dataLabelProperties).width;this.$78r=_17.getDataLabelHeight();this.$108c=_17.$107s(false,_17.dataLabelProperties);this.$108d=_17.$107s(true,_17.dataLabelProperties);var _13=_1?_17.$106f():_17.$106h();this.$108s=_6<2?[1]:[];for(var i=_6-1;i>=1;--i){var n=1+Math.floor((_6-1)/i);if(this.$108s.indexOf(n)==-1){this.$108s.push(n)}}
this.$109v=this.$109w(_6);this.$76w=this.$108s.length-1},$102j:function(_36,_37){var _6=_37-_36+1,r=new Array(_6);for(var i=0;i<_6;++i){r[i]=_36+i}
return r},$109w:function(n){if(n>2){return isc.FacetChart.$108v(n-1).sort(function(_36,_37){return _36-_37}).map(function(d){return d+1})}else{return[n]}},increaseScope:function(){var _16=(this.$76w<this.$108s.getLength()-1);if(_16)++this.$76w;return _16},decreaseScope:function(){var _16=this.$76w>0;if(_16)--this.$76w;return _16},measure:function(){var _17=this.$103y,_18=_17.showInlineLabels,_19=(_17.$116d()||_17.$116e()),_20=!(_1||_19),_21=this.$108s[this.$76w],_22=this.$78r,_23=this.$108c,_24=this.$108d,_25=(_17.rotateLabels=="always"&&!_18),_26=_17.$116c(),_27=[];var _28=0,_29=0;if(_21>2){if(_19||_17.chartType=="Area"||_17.chartType=="Line"){_28=(_21-1)*(this.$108r+_23);_29=(_21-1)*(_22+_24)}else{_28=_21*(this.$108r+_23)-_23;_29=_21*(_22+_24)-_24}}
if(_1||(_26&&!_18)){_30=(_20?this.$124c:0),_31=(_20?this.$124e:0);_27.push({parallel:_30+_31+_29,perpendicular:this.$108r,$1071:!_1&&_26,$108f:_30+_28+_31,$1072:false,$1238:_30,$1239:_31})}
if(!(_1||_25)){var _30=(_20?this.$124d:0),_31=(_20?this.$124f:0);_27.push({parallel:_30+_31+_28,perpendicular:(_18?0:_22),$1071:false,$1072:false,$1238:_30,$1239:_31})}
return _27},utility:function(_36,_37,_38){var _32=((_1?_37:_36)-_38.$1238-_38.$1239),_25=(this.$103y.rotateLabels=="always"&&!this.$103y.showInlineLabels);if(_38.$1071&&!_25&&_38.$108f<_32)
{return 0.0}
var j=this.$109v.indexOf(this.$108s[this.$76w]);if(j!=-1){return(j+1)/(this.$109v.getLength()+1)}else{return 0.2*(this.$76w+1)/(this.$108s.getLength()+1)}},getLabelDataPairs:function(_36,_37,_38){var _17=this.$103y,_2=this.$68q,n=this.$108s[this.$76w],_4=this.$d,_6=this.$108q;var _34=_6>2?Math.floor((_6-1)/(n-1)):1,_35=[];for(var i=0;i<n-1;++i){var j=_4+_34*i;_35.push({label:_2[j].title,dataValue:_2[j].title})}
_35.push({label:_2[_4+_6-1].title,dataValue:_2[_4+_6-1].title});return _35}}},isc.A.$108v=function isc_c_FacetChart__getDivisors(_1){var _2=isc.FacetChart.$108w,_3=[],_4=[],_5=[];if(_1!=1){var _6=[_1];while(!_6.isEmpty()){var m=_6.pop();var p=_2(m);if(p==1){_3.push(m)}else{_6.push(p);_6.push(m/p)}}}
for(var i=0,_10=0,_11=_3.getLength();i<_11;++i){var j=i-_10;var _13=_3[j];var _14=1;var _15=0;for(var k=j+1;k<_11;++k){var l=k-_10-_15;if(_3[l]==_13){++_14;++_15;_3.splice(l,1)}}
_11-=_15;_4[j]=_14}
var _18=1;var _19=[];for(var i=0,_11=_4.getLength();i<_11;++i){_19.push(_18);_18*=(_4[i]+1)}
_19.push(_18);for(var i=0;i<_18;++i){var _20=1;for(var j=0,_11=_3.getLength();j<_11;++j){_20*=Math.pow(_3[j],Math.floor(i/_19[j])%(_4[j]+1))}
_5.push(_20)}
return _5},isc.A.$108w=function isc_c_FacetChart__findFactor(_1){var _2=isc.FacetChart.$108x(1,_1);if(_2!=null)return _2;_2=isc.FacetChart.$108x(8,_1);if(_2!=null)return _2;if(_1==4){return 2}else if(_1==5713){return 197}else if(_1==8927){return 113}else if(_1==42733){return 283}else if(_1==51379){return 269}
return 1},isc.A.$108y=function isc_c_FacetChart__gcd(_1,_2){var _3=_1,_4=_2,_5;while((_5=_3%_4)!=0){_3=_4;_4=_5}
return _4},isc.A.$108x=function isc_c_FacetChart__pollardRho(_1,_2){var _3=isc.FacetChart.$108y,x=2,y=2,d=1;while(d==1){x=(x*x+_1)%_2;var _7=(y*y+_1)%_2;y=(_7*_7+_1)%_2;d=_3(Math.abs(x-y),_2)}
return(d==_2?null:d)},isc.A.$111b=function isc_c_FacetChart__objective(_1,_2,_3,_4,_5,_6,_7,_8){var _9=isc.isAn.Object(_8),_10=isc.FacetChart.$111f(_2,_5);if(!_9&&_10!=null){return _10}
var _11=_3.length;for(var i=_11;i--;){if(_1[i][_5[i]]==null){_1[i][_5[i]]=_3[i].measure()}}
var _13=null,k=_3.indexOf(_4);var i=1;for(var j=_11;j--;){i*=_1[j][_5[j]].length}
var _16=new Array(_11),_17=new Array(_11),_18=new Array(_11);for(;i--;){var _19=false,_20=0,_21=null;for(var j=_11,n=i;j--;){var m=_1[j][_5[j]],d=_18[j]=n%m.length,_25=m[d].parallel,_26=m[d].perpendicular,_27,_28;if(j==k){if(isc.isAn.Array(_25)){_16[j]=_25.duplicate();_27=_25.max()}else{_27=_16[j]=_25}
if(isc.isAn.Array(_26)){_17[j]=_26.duplicate();_28=_26.sum()}else{_28=_17[j]=_26}}else{if(isc.isAn.Array(_26)){_16[j]=_26.duplicate();_27=_26.sum()}else{_27=_16[j]=_26}
if(isc.isAn.Array(_25)){_17[j]=_25.duplicate();_28=_25.max()}else{_28=_17[j]=_25}}
_20+=_27;_21=(_21==null?_28:Math.max(_21,_28));n=(n-d)/m.length}
if(_20<=_6&&_21<=_7){var _29=_6-_20;if(isc.isAn.Array(_16[k])){for(var l=_16[k].length;l--;){_16[k][l]+=_29}}else{_16[k]+=_29}
var _31=(_7
-(isc.isAn.Array(_17[k])?_17[k].sum():_17[k])),_32=1.0;for(var j=_11;j--;){var m=_1[j][_5[j]];if(j!=k){if(isc.isAn.Array(_17[j])){for(var l=_17[j].length;l--;){_17[j][l]=_31}}else{_17[j]=_31}}
_32*=(1+_3[j].utility(_16[j],_17[j],m[_18[j]]))}
if(_13==null||_32>_13){_19=true;_13=_32}}else{var _32=Math.min((_6-_20)*_7,_6*(_7-_21));if(_13==null||_32>_13){_19=true;_13=_32}
var _33=_17[k]=Math.min(_17[k],_7),_34=0;for(var j=_11;j--;){if(j!=k){if(isc.isAn.Array(_16[j])){for(var l=_16[j].length;l--;){if(_6<_20){var w=_16[j][l]=Math.floor(_16[j][l]*_6/_20);_34+=w}}}else{if(_6<_20){var w=_16[j]=Math.floor(_16[j]*_6/_20);_34+=w}}
if(isc.isAn.Array(_17[j])){for(var l=_17[j].length;l--;){_17[j][l]=_7-_33}}else{_17[j]=_7-_33}}}
if(!(_6<_20)){_34=_20-_16[k]}
_16[k]=_6-_34}
if(_19&&_9){var _36=new Array(_11);for(var j=_11;j--;){_36[j]=_1[j][_5[j]][_18[j]]}
isc.addProperties(_8,{axisMeasures:_36,axisWidths:_16.map(function(w){return(isc.isAn.Array(w)?w.duplicate():w)}),axisHeights:_17.map(function(_37){return(isc.isAn.Array(_37)?_37.duplicate():_37)})})}}
isc.FacetChart.$111g(_2,_5,_13);return _13});isc.evalBoundary;isc.B.push(isc.A.$111f=function isc_c_FacetChart__getCacheByAxes(_1,_2){var _3=_2.length;for(var i=0;i<_3-1;++i){if(_1[_2[i]]==null){return null}else{_1=_1[_2[i]]}}
return _1[_2[_3-1]]},isc.A.$111g=function isc_c_FacetChart__setCacheByAxes(_1,_2,_3){var _4=_2.length;for(var i=0;i<_4-1;++i){if(_1[_2[i]]==null){_1=_1[_2[i]]=[]}else{_1=_1[_2[i]]}}
_1[_2[_4-1]]=_3;return _3},isc.A.$111c=function isc_c_FacetChart__localSearch(_1,_2,_3){var _4=isc.FacetChart.$1083,_5=isc.FacetChart.$108z,_6=isc.FacetChart.$1080,_7=isc.FacetChart.$96c,_8=this,_9=_1.length,_10=Math.pow(1.3,_9);var _11=new Array(2*_9);for(var i=2*_9;i--;)_11[i]=null;var _13=[];var _14=_3.duplicate();var _15=_2(_3);isc.FacetChart.$111g(_13,_3,_15);var _16=this.$1081();var _17=new Array(_9);for(var _18=0;true;++_18){var _19=_3.duplicate(),_20=isc.FacetChart.$111f(_13,_3),_21;if(_20==null){_21=isc.FacetChart.$111g(_13,_3,_2(_3))}else{_21=_20}
var _22=null,_23=null;for(var i=_9;i--;){_17[i]=0}
var _24=true,_25=true,_26=0,_27=0;for(var i=_9;i--;){var _28=true,_29=true;for(var _30=-1;_30<=1;_30+=2){_17[i]=_30;var _31=_4(_1,_17,_3,_11);if(_31){var u=_2(_3);_16.addEdge(_19,_21,_3,u);_24=_24&&_21>=u;_25=_25&&_21<=u;_28=_28&&_21>u;_29=_29&&_21<u;isc.FacetChart.$111g(_13,_3,u);if(_22==null||u>_22){_22=u;_23=_3.duplicate()}}
_5(_1,_3,_19,_11)}
if(!(_29&&_28)){if(_29)++_27;if(_28)++_26}
_17[i]=0}
if(_22!=null&&_22>_15){_15=_22;_14=_23}
var _33=Math.min(0,_10*(1-_18/20)),_34=(_24&&_15>=_33);_24=_24&&_26==_9;var _35=!_24&&(_9<2||(_27>1&&_26>1));_25=_25&&!(_24||_35);if(_34){break}
_16.visit(_19,_21,_24,_25,_35);var _36=_16.getNewLead();if(_36!=null){_5(_1,_3,_36)}else{break}}
_5(_1,_3,_14);return(_15>=0.0?_3:null)},isc.A.$1081=function isc_c_FacetChart__createLocationGraph(){return{vertices:[],leads:new isc.FacetChart.$159q(),$1085:function(_15){return _15.join(",")},$1086:function(_1){return _1.split(",").map(parseInt,10)},$1087:function(_15){var _1=this.$1085(_15);var j=isc.FacetChart.$96c(this.vertices,0,this.vertices.length-1,"key",_1);if(j<0){var _3={key:_1,visited:false,priority:0,index:0,forward:[],reverse:[]};this.vertices.addAt(_3,-(1+j));this.leads.enqueue(_3);return _3}else{return this.vertices[j]}},getNewLead:function(){var _4=this.leads.dequeue();return(_4!=null?this.$1086(_4.key):null)},$137u:function(_4){var _5=10e-6;var _6=1/(1+Math.exp(_5*-_4.utility));var _7=_4.forward,_8=_4.reverse,_9=0;for(var i=_8.length;i--;){var _11=_8[i];if(_11.saddle){_9=5;break}else if(_11.minimum){_9=Math.max(_9,4)}else{_9=Math.max(_9,3)}}
if(_9==0){for(var i=_7.length;i--;){var _11=_7[i];if(_11.saddle){_9=2;break}else if(_11.maximum){_9=Math.max(_9,1)}}}
_9/=5;return(_6+_9)/2},addEdge:function(_15,_16,_17,_18){var _12=this.$1087(_15),_13=this.$1087(_17);_12.utility=_16;_13.utility=_18;if(!(_12.visited||_13.visited)){if(_16<=_18){_12.forward.push(_13);_13.reverse.push(_12)}
if(_16>=_18){_12.reverse.push(_13);_13.forward.push(_12)}}},visit:function(_15,_16,_17,_18,_19){var _4=this.$1087(_15);_4.visited=true;_4.utility=_16;_4.maximum=_17;_4.minimum=_18;_4.saddle=_19;var _14=this.leads;_14.remove(_4);var _7=_4.forward,_8=_4.reverse;for(var i=_7.length;i--;){var _11=_7[i];if(!_11.visited){_14.changePriority(_11,this.$137u(_11))}}
for(var i=_8.length;i--;){var _11=_8[i];if(!_11.visited){_14.changePriority(_11,this.$137u(_11))}}}}},isc.A.$159q=function isc_c_FacetChart__priorityQueue(){isc.addProperties(this,{priorityProperty:"priority",indexProperty:"index",dequeue:function(){var _1=this.$68q.length;if(_1==0){return null}else{var _2=this.$68q[0],_3=this.$68q.pop();delete _2[this.indexProperty];if(_1>1){this.$68q[0]=_3;_3[this.indexProperty]=0;this.$137v(0)}
return _2}},enqueue:function(_2){this.$68q.push(_2);var _1=this.$68q.length;_2[this.indexProperty]=_1-1;this.$137w(_1-1)},changePriority:function(_2,_17){var _4=this.priorityProperty,_5=_2[_4];if(_17!=_5){var _6=this.$137x(_2);if(_6!=-1){_2[this.priorityProperty]=_17;if(_17<_5){this.$137v(_6)}else{this.$137w(_6)}}}},remove:function(_2){if(this.contains(_2)){this.changePriority(_2,2);this.dequeue()}},contains:function(_2){return(this.$137x(_2)!=-1)},$137x:function(_2){var _6=_2[this.indexProperty];if(!(0<=_6&&_6<this.$68q.length)){return-1}else{return _6}},$68q:[],$137w:function(_6){var _4=this.priorityProperty,_7=this.indexProperty,_8=this.$68q,_2=_8[_6],_9=_2[_4];while(_6>0){var _10=(_6-1)>>>1,_11=_8[_10];if(_11[_4]<_9){_8[_6]=_11;_11[_7]=_6;_6=_10}else{break}}
_8[_6]=_2;_2[_7]=_6},$137v:function(_6){var _4=this.priorityProperty,_7=this.indexProperty,_8=this.$68q,_1=_8.length,_12=(_1>>>1),_2=_8[_6],_9=_2[_4];while(_6<_12){var _13=(_6<<1)+1,_14=_13+1,_15=((_14<_1&&_8[_13][_4]<_8[_14][_4])?_14:_13);var _16=_8[_15];if(_16[_4]>_9){_8[_6]=_16;_16[_7]=_6;_6=_15}else{break}}
_8[_6]=_2;_2[_7]=_6}})},isc.A.$1083=function isc_c_FacetChart__move(_1,_2,_3,_4){var _5=_1.length,_6=true;if(_4!=null){for(var i=_5;_6&&i--;){var _8=_4[i],_9=_4[_5+i],_10=_3[i]+_2[i];_6=(_8==null||_8<=_10)&&(_9==null||_10<=_9)}
if(!_6){return null}}
for(var i=_5;_6&&i--;){var _11=Math.abs(_2[i]),_12=(_2[i]>0?1:-1),_13=_1[i],_14=_2[i]>0?"increaseScope":"decreaseScope";for(var j=0;_6&&j<_11;++j){_6=_13[_14].call(_13);if(_6){_3[i]+=_12}else if(_4!=null){_4[Math.max(_12,0)*_5+i]=_3[i]}}}
return _6?_3:null},isc.A.$108z=function isc_c_FacetChart__moveTo(_1,_2,_3,_4){var _5=_1.length,_6=new Array(_5);for(var i=_5;i--;){_6[i]=_3[i]-_2[i]}
return isc.FacetChart.$1083(_1,_6,_2,_4)},isc.A.$96c=function isc_c_FacetChart__binarySearch(_1,_2,_3,_4,_5,_6){if(!isc.isA.Function(_6))_6=null;if(_1.isEmpty())return-1;if(_6!=null&&_4!=null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),_8=_6(_5,_1[k][_4]);if(_8<0){_3=k}else if(_8>0){_2=k}else{return k}}
var k;var _9=_6(_5,_1[_2][_4]);if(_9<0){k=_2}else if(!(_9>0)){return _2}else{var _10=_6(_5,_1[_3][_4]);if(_2!=_3&&_10<0){k=_3}else if(_2!=_3&&!(_10>0)){return _3}else{k=_3+1}}
return-(1+k)}else if(_6==null&&_4!=null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),v=_1[k][_4];if(_5<v){_3=k}else if(_5>v){_2=k}else{return k}}
var k;if(_5<_1[_2][_4]){k=_2}else if(!(_5>_1[_2][_4])){return _2}else if(_2!=_3&&_5<_1[_3][_4]){k=_3}else if(_2!=_3&&!(_5>_1[_3][_4])){return _3}else{k=_3+1}
return-(1+k)}else if(_6==null&&_4==null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),v=_1[k];if(_5<v){_3=k}else if(_5>v){_2=k}else{return k}}
var k;if(_5<_1[_2]){k=_2}else if(!(_5>_1[_2])){return _2}else if(_2!=_3&&_5<_1[_3]){k=_3}else if(_2!=_3&&!(_5>_1[_3])){return _3}else{k=_3+1}
return-(1+k)}});isc.B._maxIndex=isc.C+37}else{isc.defineClass("FacetChart","Canvas","Chart");isc.A=isc.FacetChart;isc.A.invalidClass=true;isc.A.invalidErrorMessage="FacetChart class requires optional Drawing module which is not loaded. Please make sure the Drawing module is included in this page before the Charts module.";isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.initWidget=function isc_FacetChart_initWidget(){this.logWarn(isc.FacetChart.invalidErrorMessage);this.Super("initWidget",arguments)});isc.B._maxIndex=isc.C+1}
isc.A=isc.FacetChart;isc.A.allChartTypes=["Area","Column","Bar","Line","Pie","Doughnut","Radar"];isc.A.$1340=["Area","Column","Line"];isc.A.regressionLinesContextMenuItemTitle="Regression Lines";isc.A.hideRegressionLinesContextMenuItemTitle="None";isc.A.linearRegressionLinesContextMenuItemTitle="Straight Line";isc.A.polynomialRegressionLinesContextMenuItemTitle="Polynomial Curve";isc.A.polynomialDegreeRegressionLinesContextMenuItemTitle="Polynomial Degree...";isc.A.polynomialDegreePrompt="Enter a degree for the polynomial regression curve (must be a positive integer):";isc.A.invalidPolynomialDegreeMessage="The regression polynomial degree must be a positive integer.";isc.A=isc.FacetChart;isc.A.$127c=100;isc.Page.setEvent("load",function(){if(isc.FacetChart){isc.FacetChart.$127b=new Date().getTime();isc.Timer.setTimeout("isc.FacetChart.addClassProperties({$127a: true});isc.Log.logDebug('Marked FacetChart safe for VML redraws','drawing')",isc.FacetChart.$127c);isc.Log.logDebug("Kicked off VML safety delay timer","drawing")}});isc._nonDebugModules=(isc._nonDebugModules!=null?isc._nonDebugModules:[]);isc._nonDebugModules.push('Charts');isc.checkForDebugAndNonDebugModules();isc._moduleEnd=isc._Charts_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('Charts module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'Charts'.");}

/*

  SmartClient Ajax RIA system
  Version v9.1p_2014-11-06/Pro Development Only (2014-11-06)

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF THE
     SOFTWARE LICENSE AGREEMENT. If you have received this file without an 
     Isomorphic Software license file, please see:

         http://www.isomorphic.com/licenses/license-sisv.html

     You are not required to accept this agreement, however, nothing else
     grants you the right to copy or use this software. Unauthorized copying
     and use of this software is a violation of international copyright law.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. YOU ARE EXPRESSLY PROHIBITED
     FROM ATTEMPTING TO REVERSE ENGINEER THIS SOFTWARE OR MODIFY THIS
     SOFTWARE FOR HUMAN READABILITY.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

